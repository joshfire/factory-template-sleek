var requirejs,require,define;(function(t){function e(t,e){if(t&&"."===t.charAt(0)&&e){e=e.split("/"),e=e.slice(0,e.length-1),t=e.concat(t.split("/"));var i,n;for(i=0;n=t[i];i++)if("."===n)t.splice(i,1),i-=1;else if(".."===n){if(1===i&&(".."===t[2]||".."===t[0]))break;i>0&&(t.splice(i-1,2),i-=2)}t=t.join("/")}return t}function i(e,i){return function(){return l.apply(t,c.call(arguments,0).concat([e,i]))}}function n(t){return function(i){return e(i,t)}}function s(t){return function(e){h[t]=e}}function o(e){if(u.hasOwnProperty(e)){var i=u[e];delete u[e],a.apply(t,i)}return h[e]}function r(t,i){var s,r,a=t.indexOf("!");return-1!==a?(s=e(t.slice(0,a),i),t=t.slice(a+1),r=o(s),t=r&&r.normalize?r.normalize(t,n(i)):e(t,i)):t=e(t,i),{f:s?s+"!"+t:t,n:t,p:r}}var a,l,h={},u={},c=[].slice;"function"!=typeof define&&(a=function(e,n,a,l){var c,d,p,f,m,g,v=[];if(l||(l=e),"function"==typeof a){for(!n.length&&a.length&&(n=["require","exports","module"]),f=0;n.length>f;f++)if(g=r(n[f],l),p=g.f,"require"===p)v[f]=i(e);else if("exports"===p)v[f]=h[e]={},c=!0;else if("module"===p)d=v[f]={id:e,uri:"",exports:h[e]};else if(h.hasOwnProperty(p)||u.hasOwnProperty(p))v[f]=o(p);else{if(!g.p)throw e+" missing "+p;g.p.load(g.n,i(l,!0),s(p),{}),v[f]=h[p]}m=a.apply(h[e],v),e&&(d&&d.exports!==t?h[e]=d.exports:c||(h[e]=m))}else e&&(h[e]=a)},requirejs=l=function(e,i,n,s){return"string"==typeof e?o(r(e,i).f):(e.splice||(i.splice?(e=i,i=arguments[2]):e=[]),s?a(t,e,i,n):setTimeout(function(){a(t,e,i,n)},15),l)},l.config=function(){return l},require||(require=l),define=function(t,e,i){e.splice||(i=e,e=[]),define.unordered?u[t]=[t,e,i]:a(t,e,i)},define.amd={jQuery:!0})})(),define("lang/config",[],function(){return{DEFAULT:"en",AVAILABLE:["en","fr"]}}),!function(t,e){function i(t,e){function i(){}i[l]=this[l];var s=this,o=new i,r=h(t),a=r?t:this,u=r?{}:t,c=function(){this.initialize?this.initialize.apply(this,arguments):(e||r&&s.apply(this,arguments),a.apply(this,arguments))};return c.methods=function(t){return n(o,t,s),c[l]=o,this},c.methods.call(c,u).prototype.constructor=c,c.extend=arguments.callee,c[l].implement=c.statics=function(t,e){return t="string"==typeof t?function(){var i={};return i[t]=e,i}():t,n(this,t,s),this},c}function n(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(t[n]=h(e[n])&&h(i[l][n])&&r.test(e[n])?s(n,e[n],i):e[n])}function s(t,e,i){return function(){var n=this.supr;this.supr=i[l][t];var s=e.apply(this,arguments);return this.supr=n,s}}function o(t){return i.call(h(t)?t:a,t,1)}var r=/xyz/.test(function(){})?/\bsupr\b/:/.*/,a=function(){},l="prototype",h=function(t){return typeof t===e};if("undefined"!=typeof module&&module.exports)module.exports=o;else{var u=t.klass;o.noConflict=function(){return t.klass=u,this},t.klass=o}}(this,"function"),define("vendor/klass",function(){}),function(t){Function.prototype.bind||(Function.prototype.bind=function(t){var e=[].slice,i=e.call(arguments,1),n=this,s=function(){},o=function(){return n.apply(this instanceof s?this:t||{},i.concat(e.call(arguments)))};return s.prototype=n.prototype,o.prototype=new s,o}),t.Code===void 0&&(t.Code={}),t.Code.Util={registerNamespace:function(){var e,i,n,s,o,r=arguments,a=null;for(e=0,s=r.length;s>e;e++)for(n=r[e],n=n.split("."),a=n[0],t[a]===void 0&&(t[a]={}),a=t[a],i=1,o=n.length;o>i;++i)a[n[i]]=a[n[i]]||{},a=a[n[i]]},coalesce:function(){var t,e;for(t=0,e=arguments.length;e>t;t++)if(!this.isNothing(arguments[t]))return arguments[t];return null},extend:function(t,e,i){var n;if(this.isNothing(i)&&(i=!0),t&&e&&this.isObject(e))for(n in e)this.objectHasProperty(e,n)&&(i?t[n]=e[n]:t[n]===void 0&&(t[n]=e[n]))},clone:function(t){var e={};return this.extend(e,t),e},isObject:function(t){return t instanceof Object},isFunction:function(t){return"[object Function]"==={}.toString.call(t)},isArray:function(t){return t instanceof Array},isLikeArray:function(t){return"number"==typeof t.length},isNumber:function(t){return"number"==typeof t},isString:function(t){return"string"==typeof t},isNothing:function(t){return t===void 0||null===t?!0:!1},swapArrayElements:function(t,e,i){var n=t[e];t[e]=t[i],t[i]=n},trim:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},toCamelCase:function(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})},toDashedCase:function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},arrayIndexOf:function(t,e,i){var n,s,o,r;for(o=-1,n=0,s=e.length;s>n;n++)if(r=e[n],this.isNothing(i)){if(r===t){o=n;break}}else if(this.objectHasProperty(r,i)&&r[i]===t){o=n;break}return o},objectHasProperty:function(t,e){return t.hasOwnProperty?t.hasOwnProperty(e):t[e]!==void 0}}}(window),function(t,e){e.Browser={ua:null,version:null,safari:null,webkit:null,opera:null,msie:null,chrome:null,mozilla:null,android:null,blackberry:null,iPad:null,iPhone:null,iPod:null,iOS:null,is3dSupported:null,isCSSTransformSupported:null,isTouchSupported:null,isGestureSupported:null,_detect:function(){this.ua=t.navigator.userAgent,this.version=this.ua.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[],this.safari=/Safari/gi.test(t.navigator.appVersion),this.webkit=/webkit/i.test(this.ua),this.opera=/opera/i.test(this.ua),this.msie=/msie/i.test(this.ua)&&!this.opera,this.chrome=/Chrome/i.test(this.ua),this.firefox=/Firefox/i.test(this.ua),this.fennec=/Fennec/i.test(this.ua),this.mozilla=/mozilla/i.test(this.ua)&&!/(compatible|webkit)/.test(this.ua),this.android=/android/i.test(this.ua),this.blackberry=/blackberry/i.test(this.ua),this.iOS=/iphone|ipod|ipad/gi.test(t.navigator.platform),this.iPad=/ipad/gi.test(t.navigator.platform),this.iPhone=/iphone/gi.test(t.navigator.platform),this.iPod=/ipod/gi.test(t.navigator.platform);var i=document.createElement("div");this.is3dSupported=!e.isNothing(i.style.WebkitPerspective),this.isCSSTransformSupported=!e.isNothing(i.style.WebkitTransform)||!e.isNothing(i.style.MozTransform)||!e.isNothing(i.style.transformProperty),this.isTouchSupported=this.isEventSupported("touchstart"),this.isGestureSupported=this.isEventSupported("gesturestart")},_eventTagNames:{select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},isEventSupported:function(t){var i,n=document.createElement(this._eventTagNames[t]||"div"),t="on"+t;return i=e.objectHasProperty(n,t),i||(n.setAttribute(t,"return;"),i="function"==typeof n[t]),i},isLandscape:function(){return e.DOM.windowWidth()>e.DOM.windowHeight()}},e.Browser._detect()}(window,window.Code.Util),function(t,e){e.extend(e,{Events:{add:function(t,e,i){this._checkHandlersProperty(t),"mousewheel"===e&&(e=this._normaliseMouseWheelType()),t.__eventHandlers[e]===void 0&&(t.__eventHandlers[e]=[]),t.__eventHandlers[e].push(i),this._isBrowserObject(t)&&t.addEventListener(e,i,!1)},remove:function(t,i,n){if(this._checkHandlersProperty(t),"mousewheel"===i&&(i=this._normaliseMouseWheelType()),t.__eventHandlers[i]instanceof Array){var s,o,r=t.__eventHandlers[i];if(e.isNothing(n)){if(this._isBrowserObject(t))for(s=0,o=r.length;o>s;s++)t.removeEventListener(i,r[s],!1);t.__eventHandlers[i]=[]}else{for(s=0,o=r.length;o>s;s++)if(r[s]===n){r.splice(s,1);break}this._isBrowserObject(t)&&t.removeEventListener(i,n,!1)}}},fire:function(i,n){var s,o,r,a,l=Array.prototype.slice.call(arguments).splice(2);if("mousewheel"===n&&(n=this._normaliseMouseWheelType()),this._isBrowserObject(i)){if("string"!=typeof n)throw"type must be a string for DOM elements";if(r=this._NATIVE_EVENTS[n],s=document.createEvent(r?"HTMLEvents":"UIEvents"),s[r?"initEvent":"initUIEvent"](n,!0,!0,t,1),1>l.length)return i.dispatchEvent(s),void 0}if(this._checkHandlersProperty(i),s="string"==typeof n?{type:n}:n,s.target||(s.target=i),!s.type)throw Error("Event object missing 'type' property.");if(i.__eventHandlers[s.type]instanceof Array)for(r=i.__eventHandlers[s.type],l.unshift(s),s=0,o=r.length;o>s;s++)a=r[s],e.isNothing(a)||a.apply(i,l)},getMousePosition:function(t){var e={x:0,y:0};return t.pageX?e.x=t.pageX:t.clientX&&(e.x=t.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)),t.pageY?e.y=t.pageY:t.clientY&&(e.y=t.clientY+(document.documentElement.scrollTop||document.body.scrollTop)),e},getTouchEvent:function(t){return t},getWheelDelta:function(t){var i=0;return e.isNothing(t.wheelDelta)?e.isNothing(t.detail)||(i=-t.detail/3):i=t.wheelDelta/120,i},domReady:function(t){document.addEventListener("DOMContentLoaded",t,!1)},_checkHandlersProperty:function(t){e.isNothing(t.__eventHandlers)&&e.extend(t,{__eventHandlers:{}})},_isBrowserObject:function(e){return e===t||e===t.document?!0:this._isElement(e)||this._isNode(e)},_isElement:function(e){return"object"==typeof t.HTMLElement?e instanceof t.HTMLElement:"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},_isNode:function(e){return"object"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},_normaliseMouseWheelType:function(){return e.Browser.isEventSupported("mousewheel")?"mousewheel":"DOMMouseScroll"},_NATIVE_EVENTS:{click:1,dblclick:1,mouseup:1,mousedown:1,contextmenu:1,mousewheel:1,DOMMouseScroll:1,mouseover:1,mouseout:1,mousemove:1,selectstart:1,selectend:1,keydown:1,keypress:1,keyup:1,orientationchange:1,touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,focus:1,blur:1,change:1,reset:1,select:1,submit:1,load:1,unload:1,beforeunload:1,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1}}})}(window,window.Code.Util),function(t,e){e.extend(e,{DOM:{setData:function(t,i,n){if(e.isLikeArray(t)){var s,o;for(s=0,o=t.length;o>s;s++)e.DOM._setData(t[s],i,n)}else e.DOM._setData(t,i,n)},_setData:function(t,i,n){e.DOM.setAttribute(t,"data-"+i,n)},getData:function(t,i,n){return e.DOM.getAttribute(t,"data-"+i,n)},removeData:function(t,i){if(e.isLikeArray(t)){var n,s;for(n=0,s=t.length;s>n;n++)e.DOM._removeData(t[n],i)}else e.DOM._removeData(t,i)},_removeData:function(t,i){e.DOM.removeAttribute(t,"data-"+i)},isChildOf:function(t,e){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e},find:function(i,n){e.isNothing(n)&&(n=t.document);var s,o,r=n.querySelectorAll(i),a=[];for(s=0,o=r.length;o>s;s++)a.push(r[s]);return a},createElement:function(t,i,n){var s,t=document.createElement(t);for(s in i)e.objectHasProperty(i,s)&&t.setAttribute(s,i[s]);return t.innerHTML=n||"",t},appendChild:function(t,e){e.appendChild(t)},insertBefore:function(t,e,i){i.insertBefore(t,e)},appendText:function(t,i){e.DOM.appendChild(document.createTextNode(t),i)},appendToBody:function(t){this.appendChild(t,document.body)},removeChild:function(t,e){e.removeChild(t)},removeChildren:function(t){if(t.hasChildNodes())for(;t.childNodes.length>=1;)t.removeChild(t.childNodes[t.childNodes.length-1])},hasAttribute:function(t,i){return!e.isNothing(t.getAttribute(i))},getAttribute:function(t,i,n){return t=t.getAttribute(i),e.isNothing(t)&&!e.isNothing(n)&&(t=n),t},setAttribute:function(t,i,n){if(e.isLikeArray(t)){var s,o;for(s=0,o=t.length;o>s;s++)e.DOM._setAttribute(t[s],i,n)}else e.DOM._setAttribute(t,i,n)},_setAttribute:function(t,e,i){t.setAttribute(e,i)},removeAttribute:function(t,i){if(e.isLikeArray(t)){var n,s;for(n=0,s=t.length;s>n;n++)e.DOM._removeAttribute(t[n],i)}else e.DOM._removeAttribute(t,i)},_removeAttribute:function(t,e){this.hasAttribute(t,e)&&t.removeAttribute(e)},addClass:function(t,i){if(e.isLikeArray(t)){var n,s;for(n=0,s=t.length;s>n;n++)e.DOM._addClass(t[n],i)}else e.DOM._addClass(t,i)},_addClass:function(t,i){var n=e.DOM.getAttribute(t,"class","");RegExp("(?:^|\\s+)"+i+"(?:\\s+|$)").test(n)||(""!==n&&(n+=" "),n+=i,e.DOM.setAttribute(t,"class",n))},removeClass:function(t,i){if(e.isLikeArray(t)){var n,s;for(n=0,s=t.length;s>n;n++)e.DOM._removeClass(t[n],i)}else e.DOM._removeClass(t,i)},_removeClass:function(t,i){var n,s,o=e.DOM.getAttribute(t,"class",""),o=e.trim(o).split(" "),r="";for(n=0,s=o.length;s>n;n++)o[n]!==i&&(""!==r&&(r+=" "),r+=o[n]);""===r?e.DOM.removeAttribute(t,"class"):e.DOM.setAttribute(t,"class",r)},hasClass:function(t,i){return RegExp("(?:^|\\s+)"+i+"(?:\\s+|$)").test(e.DOM.getAttribute(t,"class",""))},setStyle:function(t,i,n){if(e.isLikeArray(t)){var s,o;for(s=0,o=t.length;o>s;s++)e.DOM._setStyle(t[s],i,n)}else e.DOM._setStyle(t,i,n)},_setStyle:function(t,i,n){var s;if(e.isObject(i))for(s in i)e.objectHasProperty(i,s)&&("width"===s?e.DOM.width(t,i[s]):"height"===s?e.DOM.height(t,i[s]):t.style[s]=i[s]);else t.style[i]=n},getStyle:function(e,i){var n=t.getComputedStyle(e,"").getPropertyValue(i);return""===n&&(n=e.style[i]),n},hide:function(t){if(e.isLikeArray(t)){var i,n;for(i=0,n=t.length;n>i;i++)e.DOM._hide(t[i])}else e.DOM._hide(t)},_hide:function(t){e.DOM.setData(t,"ccl-disp",e.DOM.getStyle(t,"display")),e.DOM.setStyle(t,"display","none")},show:function(t){if(e.isLikeArray(t)){var i,n;for(i=0,n=t.length;n>i;i++)e.DOM._show(t[i])}else e.DOM._show(t)},_show:function(t){if("none"===e.DOM.getStyle(t,"display")){var i=e.DOM.getData(t,"ccl-disp","block");("none"===i||""===i)&&(i="block"),e.DOM.setStyle(t,"display",i)}},width:function(t,i){return e.isNothing(i)||(e.isNumber(i)&&(i+="px"),t.style.width=i),this._getDimension(t,"width")},outerWidth:function(t){var i=e.DOM.width(t);return i+=parseInt(e.DOM.getStyle(t,"padding-left"),10)+parseInt(e.DOM.getStyle(t,"padding-right"),10),i+=parseInt(e.DOM.getStyle(t,"margin-left"),10)+parseInt(e.DOM.getStyle(t,"margin-right"),10),i+=parseInt(e.DOM.getStyle(t,"border-left-width"),10)+parseInt(e.DOM.getStyle(t,"border-right-width"),10)},height:function(t,i){return e.isNothing(i)||(e.isNumber(i)&&(i+="px"),t.style.height=i),this._getDimension(t,"height")},_getDimension:function(e,i){var n,s=t.parseInt(t.getComputedStyle(e,"").getPropertyValue(i));return isNaN(s)&&(n={display:e.style.display,left:e.style.left},e.style.display="block",e.style.left="-1000000px",s=t.parseInt(t.getComputedStyle(e,"").getPropertyValue(i)),e.style.display=n.display,e.style.left=n.left),s},outerHeight:function(t){var i=e.DOM.height(t);return i+=parseInt(e.DOM.getStyle(t,"padding-top"),10)+parseInt(e.DOM.getStyle(t,"padding-bottom"),10),i+=parseInt(e.DOM.getStyle(t,"margin-top"),10)+parseInt(e.DOM.getStyle(t,"margin-bottom"),10),i+=parseInt(e.DOM.getStyle(t,"border-top-width"),10)+parseInt(e.DOM.getStyle(t,"border-bottom-width"),10)},documentWidth:function(){return e.DOM.width(document.documentElement)},documentHeight:function(){return e.DOM.height(document.documentElement)},documentOuterWidth:function(){return e.DOM.width(document.documentElement)},documentOuterHeight:function(){return e.DOM.outerHeight(document.documentElement)},bodyWidth:function(){return e.DOM.width(document.body)},bodyHeight:function(){return e.DOM.height(document.body)},bodyOuterWidth:function(){return e.DOM.outerWidth(document.body)},bodyOuterHeight:function(){return e.DOM.outerHeight(document.body)},windowWidth:function(){return t.innerWidth},windowHeight:function(){return t.innerHeight},windowScrollLeft:function(){return t.pageXOffset},windowScrollTop:function(){return t.pageYOffset}}})}(window,window.Code.Util),function(t,e){e.extend(e,{Animation:{_applyTransitionDelay:50,_transitionEndLabel:void 0!==t.document.documentElement.style.webkitTransition?"webkitTransitionEnd":"transitionend",_transitionEndHandler:null,_transitionPrefix:void 0!==t.document.documentElement.style.webkitTransition?"webkitTransition":void 0!==t.document.documentElement.style.MozTransition?"MozTransition":"transition",_transformLabel:void 0!==t.document.documentElement.style.webkitTransform?"webkitTransform":void 0!==t.document.documentElement.style.MozTransition?"MozTransform":"transform",_getTransitionEndHandler:function(){return e.isNothing(this._transitionEndHandler)&&(this._transitionEndHandler=this._onTransitionEnd.bind(this)),this._transitionEndHandler},stop:function(i){if(e.Browser.isCSSTransformSupported){var n={};e.Events.remove(i,this._transitionEndLabel,this._getTransitionEndHandler()),e.isNothing(i.callbackLabel)&&delete i.callbackLabel,n[this._transitionPrefix+"Property"]="",n[this._transitionPrefix+"Duration"]="",n[this._transitionPrefix+"TimingFunction"]="",n[this._transitionPrefix+"Delay"]="",n[this._transformLabel]="",e.DOM.setStyle(i,n)}else e.isNothing(t.jQuery)||t.jQuery(i).stop(!0,!0)},fadeIn:function(i,n,s,o,r){return r=e.coalesce(r,1),0>=r&&(r=1),0>=n&&(e.DOM.setStyle(i,"opacity",r),!e.isNothing(s))?(s(i),void 0):(e.DOM.getStyle(i,"opacity")>=1&&e.DOM.setStyle(i,"opacity",0),e.Browser.isCSSTransformSupported?this._applyTransition(i,"opacity",r,n,s,o):e.isNothing(t.jQuery)||t.jQuery(i).fadeTo(n,r,s),void 0)},fadeTo:function(t,e,i,n,s){this.fadeIn(t,i,n,s,e)},fadeOut:function(i,n,s,o){return 0>=n&&(e.DOM.setStyle(i,"opacity",0),!e.isNothing(s))?(s(i),void 0):(e.Browser.isCSSTransformSupported?this._applyTransition(i,"opacity",0,n,s,o):t.jQuery(i).fadeTo(n,0,s),void 0)},slideBy:function(i,n,s,o,r,a){var l={},n=e.coalesce(n,0),s=e.coalesce(s,0),a=e.coalesce(a,"ease-out");l[this._transitionPrefix+"Property"]="all",l[this._transitionPrefix+"Delay"]="0",0===o?(l[this._transitionPrefix+"Duration"]="",l[this._transitionPrefix+"TimingFunction"]=""):(l[this._transitionPrefix+"Duration"]=o+"ms",l[this._transitionPrefix+"TimingFunction"]=e.coalesce(a,"ease-out"),e.Events.add(i,this._transitionEndLabel,this._getTransitionEndHandler())),l[this._transformLabel]=e.Browser.is3dSupported?"translate3d("+n+"px, "+s+"px, 0px)":"translate("+n+"px, "+s+"px)",e.isNothing(r)||(i.cclallcallback=r),e.DOM.setStyle(i,l),0===o&&t.setTimeout(function(){this._leaveTransforms(i)}.bind(this),this._applyTransitionDelay)},resetTranslate:function(t){var i={};i[this._transformLabel]=i[this._transformLabel]=e.Browser.is3dSupported?"translate3d(0px, 0px, 0px)":"translate(0px, 0px)",e.DOM.setStyle(t,i)},_applyTransition:function(i,n,s,o,r,a){var l={},a=e.coalesce(a,"ease-in");l[this._transitionPrefix+"Property"]=n,l[this._transitionPrefix+"Duration"]=o+"ms",l[this._transitionPrefix+"TimingFunction"]=a,l[this._transitionPrefix+"Delay"]="0",e.Events.add(i,this._transitionEndLabel,this._getTransitionEndHandler()),e.DOM.setStyle(i,l),e.isNothing(r)||(i["ccl"+n+"callback"]=r),t.setTimeout(function(){e.DOM.setStyle(i,n,s)},this._applyTransitionDelay)},_onTransitionEnd:function(t){e.Events.remove(t.currentTarget,this._transitionEndLabel,this._getTransitionEndHandler()),this._leaveTransforms(t.currentTarget)},_leaveTransforms:function(i){var n,s,o,r,a=i.style[this._transitionPrefix+"Property"],l=""!==a?"ccl"+a+"callback":"cclallcallback",a=e.coalesce(i.style.webkitTransform,i.style.MozTransform,i.style.transform),h=t.parseInt(e.DOM.getStyle(i,"left"),0),u=t.parseInt(e.DOM.getStyle(i,"top"),0),c={};""!==a&&(a=e.Browser.is3dSupported?a.match(/translate3d\((.*?)\)/):a.match(/translate\((.*?)\)/),e.isNothing(a)||(s=a[1].split(", "),o=t.parseInt(s[0],0),r=t.parseInt(s[1],0))),c[this._transitionPrefix+"Property"]="",c[this._transitionPrefix+"Duration"]="",c[this._transitionPrefix+"TimingFunction"]="",c[this._transitionPrefix+"Delay"]="",e.DOM.setStyle(i,c),t.setTimeout(function(){e.isNothing(s)||(c={},c[this._transformLabel]="",c.left=h+o+"px",c.top=u+r+"px",e.DOM.setStyle(i,c)),e.isNothing(i[l])||(n=i[l],delete i[l],n(i))}.bind(this),this._applyTransitionDelay)}}})}(window,window.Code.Util),function(t,e,i){i.registerNamespace("Code.Util.TouchElement"),i.TouchElement.EventTypes={onTouch:"CodeUtilTouchElementOnTouch"},i.TouchElement.ActionTypes={touchStart:"touchStart",touchMove:"touchMove",touchEnd:"touchEnd",touchMoveEnd:"touchMoveEnd",tap:"tap",doubleTap:"doubleTap",swipeLeft:"swipeLeft",swipeRight:"swipeRight",swipeUp:"swipeUp",swipeDown:"swipeDown",gestureStart:"gestureStart",gestureChange:"gestureChange",gestureEnd:"gestureEnd"}}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.Util.TouchElement"),i.TouchElement.TouchElementClass=e({el:null,captureSettings:null,touchStartPoint:null,touchEndPoint:null,touchStartTime:null,doubleTapTimeout:null,touchStartHandler:null,touchMoveHandler:null,touchEndHandler:null,mouseDownHandler:null,mouseMoveHandler:null,mouseUpHandler:null,mouseOutHandler:null,gestureStartHandler:null,gestureChangeHandler:null,gestureEndHandler:null,swipeThreshold:null,swipeTimeThreshold:null,doubleTapSpeed:null,dispose:function(){var t;this.removeEventHandlers();for(t in this)i.objectHasProperty(this,t)&&(this[t]=null)},initialize:function(t,e){this.el=t,this.captureSettings={swipe:!1,move:!1,gesture:!1,doubleTap:!1,preventDefaultTouchEvents:!0},i.extend(this.captureSettings,e),this.swipeThreshold=50,this.doubleTapSpeed=this.swipeTimeThreshold=250,this.touchStartPoint={x:0,y:0},this.touchEndPoint={x:0,y:0}},addEventHandlers:function(){i.isNothing(this.touchStartHandler)&&(this.touchStartHandler=this.onTouchStart.bind(this),this.touchMoveHandler=this.onTouchMove.bind(this),this.touchEndHandler=this.onTouchEnd.bind(this),this.mouseDownHandler=this.onMouseDown.bind(this),this.mouseMoveHandler=this.onMouseMove.bind(this),this.mouseUpHandler=this.onMouseUp.bind(this),this.mouseOutHandler=this.onMouseOut.bind(this),this.gestureStartHandler=this.onGestureStart.bind(this),this.gestureChangeHandler=this.onGestureChange.bind(this),this.gestureEndHandler=this.onGestureEnd.bind(this)),i.Events.add(this.el,"touchstart",this.touchStartHandler),this.captureSettings.move&&i.Events.add(this.el,"touchmove",this.touchMoveHandler),i.Events.add(this.el,"touchend",this.touchEndHandler),i.Events.add(this.el,"mousedown",this.mouseDownHandler),i.Browser.isGestureSupported&&this.captureSettings.gesture&&(i.Events.add(this.el,"gesturestart",this.gestureStartHandler),i.Events.add(this.el,"gesturechange",this.gestureChangeHandler),i.Events.add(this.el,"gestureend",this.gestureEndHandler))},removeEventHandlers:function(){i.Events.remove(this.el,"touchstart",this.touchStartHandler),this.captureSettings.move&&i.Events.remove(this.el,"touchmove",this.touchMoveHandler),i.Events.remove(this.el,"touchend",this.touchEndHandler),i.Events.remove(this.el,"mousedown",this.mouseDownHandler),i.Browser.isGestureSupported&&this.captureSettings.gesture&&(i.Events.remove(this.el,"gesturestart",this.gestureStartHandler),i.Events.remove(this.el,"gesturechange",this.gestureChangeHandler),i.Events.remove(this.el,"gestureend",this.gestureEndHandler))},getTouchPoint:function(t){return{x:t[0].pageX,y:t[0].pageY}},fireTouchEvent:function(e){var n,s=0,o=0,r=0,s=this.touchEndPoint.x-this.touchStartPoint.x,o=this.touchEndPoint.y-this.touchStartPoint.y,r=Math.sqrt(s*s+o*o);if(this.captureSettings.swipe&&(n=new Date,n-=this.touchStartTime,this.swipeTimeThreshold>=n)){if(t.Math.abs(s)>=this.swipeThreshold)return i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:0>s?i.TouchElement.ActionTypes.swipeLeft:i.TouchElement.ActionTypes.swipeRight,targetEl:e.target,currentTargetEl:e.currentTarget}),void 0;if(t.Math.abs(o)>=this.swipeThreshold)return i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:0>o?i.TouchElement.ActionTypes.swipeUp:i.TouchElement.ActionTypes.swipeDown,targetEl:e.target,currentTargetEl:e.currentTarget}),void 0}r>1?i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.touchMoveEnd,point:this.touchEndPoint,targetEl:e.target,currentTargetEl:e.currentTarget}):this.captureSettings.doubleTap?i.isNothing(this.doubleTapTimeout)?this.doubleTapTimeout=t.setTimeout(function(){this.doubleTapTimeout=null,i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:i.TouchElement.ActionTypes.tap,targetEl:e.target,currentTargetEl:e.currentTarget})}.bind(this),this.doubleTapSpeed):(t.clearTimeout(this.doubleTapTimeout),this.doubleTapTimeout=null,i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:i.TouchElement.ActionTypes.doubleTap,targetEl:e.target,currentTargetEl:e.currentTarget})):i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:i.TouchElement.ActionTypes.tap,targetEl:e.target,currentTargetEl:e.currentTarget})},onTouchStart:function(t){this.captureSettings.preventDefaultTouchEvents&&t.preventDefault(),i.Events.remove(this.el,"mousedown",this.mouseDownHandler);var e=i.Events.getTouchEvent(t).touches;e.length>1&&this.captureSettings.gesture?this.isGesture=!0:(this.touchStartTime=new Date,this.isGesture=!1,this.touchStartPoint=this.getTouchPoint(e),i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.touchStart,point:this.touchStartPoint,targetEl:t.target,currentTargetEl:t.currentTarget}))},onTouchMove:function(t){if(this.captureSettings.preventDefaultTouchEvents&&t.preventDefault(),!this.isGesture||!this.captureSettings.gesture){var e=i.Events.getTouchEvent(t).touches;i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.touchMove,point:this.getTouchPoint(e),targetEl:t.target,currentTargetEl:t.currentTarget})}},onTouchEnd:function(t){if(!this.isGesture||!this.captureSettings.gesture){this.captureSettings.preventDefaultTouchEvents&&t.preventDefault();var e=i.Events.getTouchEvent(t);this.touchEndPoint=this.getTouchPoint(i.isNothing(e.changedTouches)?e.touches:e.changedTouches),i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,targetEl:t.target,currentTargetEl:t.currentTarget}),this.fireTouchEvent(t)}},onMouseDown:function(t){t.preventDefault(),i.Events.remove(this.el,"touchstart",this.mouseDownHandler),i.Events.remove(this.el,"touchmove",this.touchMoveHandler),i.Events.remove(this.el,"touchend",this.touchEndHandler),this.captureSettings.move&&i.Events.add(this.el,"mousemove",this.mouseMoveHandler),i.Events.add(this.el,"mouseup",this.mouseUpHandler),i.Events.add(this.el,"mouseout",this.mouseOutHandler),this.touchStartTime=new Date,this.isGesture=!1,this.touchStartPoint=i.Events.getMousePosition(t),i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.touchStart,point:this.touchStartPoint,targetEl:t.target,currentTargetEl:t.currentTarget})},onMouseMove:function(t){t.preventDefault(),i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.touchMove,point:i.Events.getMousePosition(t),targetEl:t.target,currentTargetEl:t.currentTarget})},onMouseUp:function(t){t.preventDefault(),this.captureSettings.move&&i.Events.remove(this.el,"mousemove",this.mouseMoveHandler),i.Events.remove(this.el,"mouseup",this.mouseUpHandler),i.Events.remove(this.el,"mouseout",this.mouseOutHandler),this.touchEndPoint=i.Events.getMousePosition(t),i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,targetEl:t.target,currentTargetEl:t.currentTarget}),this.fireTouchEvent(t)},onMouseOut:function(t){var e=t.relatedTarget;this.el===e||i.DOM.isChildOf(e,this.el)||(t.preventDefault(),this.captureSettings.move&&i.Events.remove(this.el,"mousemove",this.mouseMoveHandler),i.Events.remove(this.el,"mouseup",this.mouseUpHandler),i.Events.remove(this.el,"mouseout",this.mouseOutHandler),this.touchEndPoint=i.Events.getMousePosition(t),i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,targetEl:t.target,currentTargetEl:t.currentTarget}),this.fireTouchEvent(t))},onGestureStart:function(t){t.preventDefault();var e=i.Events.getTouchEvent(t);i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.gestureStart,scale:e.scale,rotation:e.rotation,targetEl:t.target,currentTargetEl:t.currentTarget})},onGestureChange:function(t){t.preventDefault();var e=i.Events.getTouchEvent(t);i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.gestureChange,scale:e.scale,rotation:e.rotation,targetEl:t.target,currentTargetEl:t.currentTarget})},onGestureEnd:function(t){t.preventDefault();var e=i.Events.getTouchEvent(t);i.Events.fire(this,{type:i.TouchElement.EventTypes.onTouch,target:this,action:i.TouchElement.ActionTypes.gestureEnd,scale:e.scale,rotation:e.rotation,targetEl:t.target,currentTargetEl:t.currentTarget})}})}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.Image"),t.Code.PhotoSwipe.Image.EventTypes={onLoad:"onLoad",onError:"onError"}}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.Image");var n=t.Code.PhotoSwipe;n.Image.ImageClass=e({refObj:null,imageEl:null,src:null,caption:null,metaData:null,imageLoadHandler:null,imageErrorHandler:null,dispose:function(){var t;this.shrinkImage();for(t in this)i.objectHasProperty(this,t)&&(this[t]=null)},initialize:function(e,i,n,s){this.refObj=e,this.src=this.originalSrc=i,this.caption=n,this.metaData=s,this.imageEl=new t.Image,this.imageLoadHandler=this.onImageLoad.bind(this),this.imageErrorHandler=this.onImageError.bind(this)},load:function(){this.imageEl.originalSrc=i.coalesce(this.imageEl.originalSrc,""),this.imageEl.originalSrc===this.src?this.imageEl.isError?i.Events.fire(this,{type:n.Image.EventTypes.onError,target:this}):i.Events.fire(this,{type:n.Image.EventTypes.onLoad,target:this}):(this.imageEl.isError=!1,this.imageEl.isLoading=!0,this.imageEl.naturalWidth=null,this.imageEl.naturalHeight=null,this.imageEl.isLandscape=!1,this.imageEl.onload=this.imageLoadHandler,this.imageEl.onerror=this.imageErrorHandler,this.imageEl.onabort=this.imageErrorHandler,this.imageEl.originalSrc=this.src,this.imageEl.src=this.src)},shrinkImage:function(){!i.isNothing(this.imageEl)&&this.imageEl.src.indexOf(this.src)>-1&&(this.imageEl.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",i.isNothing(this.imageEl.parentNode)||i.DOM.removeChild(this.imageEl,this.imageEl.parentNode))},onImageLoad:function(){this.imageEl.onload=null,this.imageEl.naturalWidth=i.coalesce(this.imageEl.naturalWidth,this.imageEl.width),this.imageEl.naturalHeight=i.coalesce(this.imageEl.naturalHeight,this.imageEl.height),this.imageEl.isLandscape=this.imageEl.naturalWidth>this.imageEl.naturalHeight,this.imageEl.isLoading=!1,i.Events.fire(this,{type:n.Image.EventTypes.onLoad,target:this})},onImageError:function(){this.imageEl.onload=null,this.imageEl.onerror=null,this.imageEl.onabort=null,this.imageEl.isLoading=!1,this.imageEl.isError=!0,i.Events.fire(this,{type:n.Image.EventTypes.onError,target:this})}})}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.Cache"),t=t.Code.PhotoSwipe,t.Cache.Mode={normal:"normal",aggressive:"aggressive"},t.Cache.Functions={getImageSource:function(t){return t.href},getImageCaption:function(t){if("IMG"===t.nodeName)return i.DOM.getAttribute(t,"alt");var e,n,s;for(e=0,n=t.childNodes.length;n>e;e++)if(s=t.childNodes[e],"IMG"===t.childNodes[e].nodeName)return i.DOM.getAttribute(s,"alt")},getImageMetaData:function(){return{}}}}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.Cache");var n=t.Code.PhotoSwipe;n.Cache.CacheClass=e({images:null,settings:null,dispose:function(){var t,e,n;if(!i.isNothing(this.images)){for(e=0,n=this.images.length;n>e;e++)this.images[e].dispose();this.images.length=0}for(t in this)i.objectHasProperty(this,t)&&(this[t]=null)},initialize:function(t,e){var i,s,o,r,a,l;for(this.settings=e,this.images=[],i=0,s=t.length;s>i;i++)o=t[i],r=this.settings.getImageSource(o),a=this.settings.getImageCaption(o),l=this.settings.getImageMetaData(o),this.images.push(new n.Image.ImageClass(o,r,a,l))},getImages:function(t){var e,s,o,r=[];for(e=0,s=t.length;s>e;e++)o=this.images[t[e]],this.settings.cacheMode===n.Cache.Mode.aggressive&&(o.cacheDoNotShrink=!0),r.push(o);
if(this.settings.cacheMode===n.Cache.Mode.aggressive)for(e=0,s=this.images.length;s>e;e++)o=this.images[e],i.objectHasProperty(o,"cacheDoNotShrink")?delete o.cacheDoNotShrink:o.shrinkImage();return r}})}(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.Image),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.DocumentOverlay"),t.Code.PhotoSwipe.DocumentOverlay.CssClasses={documentOverlay:"ps-document-overlay"}}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.DocumentOverlay");var n=t.Code.PhotoSwipe;n.DocumentOverlay.DocumentOverlayClass=e({el:null,settings:null,initialBodyHeight:null,dispose:function(){var t;i.Animation.stop(this.el),i.DOM.removeChild(this.el,this.el.parentNode);for(t in this)i.objectHasProperty(this,t)&&(this[t]=null)},initialize:function(e){this.settings=e,this.el=i.DOM.createElement("div",{"class":n.DocumentOverlay.CssClasses.documentOverlay},""),i.DOM.setStyle(this.el,{display:"block",position:"absolute",left:0,top:0,zIndex:this.settings.zIndex}),i.DOM.hide(this.el),this.settings.target===t?i.DOM.appendToBody(this.el):i.DOM.appendChild(this.el,this.settings.target),i.Animation.resetTranslate(this.el),this.initialBodyHeight=i.DOM.bodyOuterHeight()},resetPosition:function(){var e,n,s;this.settings.target===t?(e=i.DOM.windowWidth(),n=2*i.DOM.bodyOuterHeight(),s=this.settings.jQueryMobile?i.DOM.windowScrollTop()+"px":"0px",1>n&&(n=this.initialBodyHeight),i.DOM.windowHeight()>n&&(n=i.DOM.windowHeight())):(e=i.DOM.width(this.settings.target),n=i.DOM.height(this.settings.target),s="0px"),i.DOM.setStyle(this.el,{width:e,height:n,top:s})},fadeIn:function(t,e){this.resetPosition(),i.DOM.setStyle(this.el,"opacity",0),i.DOM.show(this.el),i.Animation.fadeIn(this.el,t,e)}})}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.Carousel"),t=t.Code.PhotoSwipe,t.Carousel.EventTypes={onSlideByEnd:"PhotoSwipeCarouselOnSlideByEnd",onSlideshowStart:"PhotoSwipeCarouselOnSlideshowStart",onSlideshowStop:"PhotoSwipeCarouselOnSlideshowStop"},t.Carousel.CssClasses={carousel:"ps-carousel",content:"ps-carousel-content",item:"ps-carousel-item",itemLoading:"ps-carousel-item-loading",itemError:"ps-carousel-item-error"},t.Carousel.SlideByAction={previous:"previous",current:"current",next:"next"}}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.Carousel");var n=t.Code.PhotoSwipe;n.Carousel.CarouselClass=e({el:null,contentEl:null,settings:null,cache:null,slideByEndHandler:null,currentCacheIndex:null,isSliding:null,isSlideshowActive:null,lastSlideByAction:null,touchStartPoint:null,touchStartPosition:null,imageLoadHandler:null,imageErrorHandler:null,slideshowTimeout:null,dispose:function(){var t,e,s;for(e=0,s=this.cache.images.length;s>e;e++)i.Events.remove(this.cache.images[e],n.Image.EventTypes.onLoad,this.imageLoadHandler),i.Events.remove(this.cache.images[e],n.Image.EventTypes.onError,this.imageErrorHandler);this.stopSlideshow(),i.Animation.stop(this.el),i.DOM.removeChild(this.el,this.el.parentNode);for(t in this)i.objectHasProperty(this,t)&&(this[t]=null)},initialize:function(e,s){var o,r,a;for(this.cache=e,this.settings=s,this.slideByEndHandler=this.onSlideByEnd.bind(this),this.imageLoadHandler=this.onImageLoad.bind(this),this.imageErrorHandler=this.onImageError.bind(this),this.currentCacheIndex=0,this.isSlideshowActive=this.isSliding=!1,3>this.cache.images.length&&(this.settings.loop=!1),this.el=i.DOM.createElement("div",{"class":n.Carousel.CssClasses.carousel},""),i.DOM.setStyle(this.el,{display:"block",position:"absolute",left:0,top:0,overflow:"hidden",zIndex:this.settings.zIndex}),i.DOM.hide(this.el),this.contentEl=i.DOM.createElement("div",{"class":n.Carousel.CssClasses.content},""),i.DOM.setStyle(this.contentEl,{display:"block",position:"absolute",left:0,top:0}),i.DOM.appendChild(this.contentEl,this.el),r=3>e.images.length?e.images.length:3,o=0;r>o;o++)a=i.DOM.createElement("div",{"class":n.Carousel.CssClasses.item+" "+n.Carousel.CssClasses.item+"-"+o},""),i.DOM.setAttribute(a,"style","float: left;"),i.DOM.setStyle(a,{display:"block",position:"relative",left:0,top:0,overflow:"hidden"}),this.settings.margin>0&&i.DOM.setStyle(a,{marginRight:this.settings.margin+"px"}),i.DOM.appendChild(a,this.contentEl);this.settings.target===t?i.DOM.appendToBody(this.el):i.DOM.appendChild(this.el,this.settings.target)},resetPosition:function(){var e,s,o,r,a,l;for(this.settings.target===t?(e=i.DOM.windowWidth(),s=i.DOM.windowHeight(),o=i.DOM.windowScrollTop()+"px"):(e=i.DOM.width(this.settings.target),s=i.DOM.height(this.settings.target),o="0px"),r=this.settings.margin>0?e+this.settings.margin:e,a=i.DOM.find("."+n.Carousel.CssClasses.item,this.contentEl),r*=a.length,i.DOM.setStyle(this.el,{top:o,width:e,height:s}),i.DOM.setStyle(this.contentEl,{width:r,height:s}),o=0,r=a.length;r>o;o++)l=a[o],i.DOM.setStyle(l,{width:e,height:s}),l=i.DOM.find("img",l)[0],i.isNothing(l)||this.resetImagePosition(l);this.setContentLeftPosition()},resetImagePosition:function(t){if(!i.isNothing(t)){i.DOM.getAttribute(t,"src");var e,n,s,o=i.DOM.width(this.el),r=i.DOM.height(this.el);"fitNoUpscale"===this.settings.imageScaleMethod?(n=t.naturalWidth,s=t.naturalHeight,n>o&&(e=o/n,n=Math.round(n*e),s=Math.round(s*e)),s>r&&(e=r/s,s=Math.round(s*e),n=Math.round(n*e))):(e=t.isLandscape?o/t.naturalWidth:r/t.naturalHeight,n=Math.round(t.naturalWidth*e),s=Math.round(t.naturalHeight*e),"zoom"===this.settings.imageScaleMethod?(e=1,r>s?e=r/s:o>n&&(e=o/n),1!==e&&(n=Math.round(n*e),s=Math.round(s*e))):"fit"===this.settings.imageScaleMethod&&(e=1,n>o?e=o/n:s>r&&(e=r/s),1!==e&&(n=Math.round(n*e),s=Math.round(s*e)))),i.DOM.setStyle(t,{position:"absolute",width:n,height:s,top:Math.round((r-s)/2)+"px",left:Math.round((o-n)/2)+"px",display:"block"})}},setContentLeftPosition:function(){var e,n,s;e=this.settings.target===t?i.DOM.windowWidth():i.DOM.width(this.settings.target),n=this.getItemEls(),s=0,this.settings.loop?s=-1*(e+this.settings.margin):this.currentCacheIndex===this.cache.images.length-1?s=-1*(n.length-1)*(e+this.settings.margin):this.currentCacheIndex>0&&(s=-1*(e+this.settings.margin)),i.DOM.setStyle(this.contentEl,{left:s+"px"})},show:function(t){this.currentCacheIndex=t,this.resetPosition(),this.setImages(!1),i.DOM.show(this.el),i.Animation.resetTranslate(this.contentEl);var e,s,t=this.getItemEls();for(e=0,s=t.length;s>e;e++)i.Animation.resetTranslate(t[e]);i.Events.fire(this,{type:n.Carousel.EventTypes.onSlideByEnd,target:this,action:n.Carousel.SlideByAction.current,cacheIndex:this.currentCacheIndex})},setImages:function(t){var e,i=this.getItemEls();e=this.currentCacheIndex+1;var n=this.currentCacheIndex-1;this.settings.loop?(e>this.cache.images.length-1&&(e=0),0>n&&(n=this.cache.images.length-1),e=this.cache.getImages([n,this.currentCacheIndex,e]),t||this.addCacheImageToItemEl(e[1],i[1]),this.addCacheImageToItemEl(e[2],i[2]),this.addCacheImageToItemEl(e[0],i[0])):1===i.length?t||(e=this.cache.getImages([this.currentCacheIndex]),this.addCacheImageToItemEl(e[0],i[0])):2===i.length?0===this.currentCacheIndex?(e=this.cache.getImages([this.currentCacheIndex,this.currentCacheIndex+1]),t||this.addCacheImageToItemEl(e[0],i[0]),this.addCacheImageToItemEl(e[1],i[1])):(e=this.cache.getImages([this.currentCacheIndex-1,this.currentCacheIndex]),t||this.addCacheImageToItemEl(e[1],i[1]),this.addCacheImageToItemEl(e[0],i[0])):0===this.currentCacheIndex?(e=this.cache.getImages([this.currentCacheIndex,this.currentCacheIndex+1,this.currentCacheIndex+2]),t||this.addCacheImageToItemEl(e[0],i[0]),this.addCacheImageToItemEl(e[1],i[1]),this.addCacheImageToItemEl(e[2],i[2])):(this.currentCacheIndex===this.cache.images.length-1?(e=this.cache.getImages([this.currentCacheIndex-2,this.currentCacheIndex-1,this.currentCacheIndex]),t||this.addCacheImageToItemEl(e[2],i[2]),this.addCacheImageToItemEl(e[1],i[1])):(e=this.cache.getImages([this.currentCacheIndex-1,this.currentCacheIndex,this.currentCacheIndex+1]),t||this.addCacheImageToItemEl(e[1],i[1]),this.addCacheImageToItemEl(e[2],i[2])),this.addCacheImageToItemEl(e[0],i[0]))},addCacheImageToItemEl:function(t,e){i.DOM.removeClass(e,n.Carousel.CssClasses.itemError),i.DOM.addClass(e,n.Carousel.CssClasses.itemLoading),i.DOM.removeChildren(e),i.DOM.setStyle(t.imageEl,{display:"none"}),i.DOM.appendChild(t.imageEl,e),i.Animation.resetTranslate(t.imageEl),i.Events.add(t,n.Image.EventTypes.onLoad,this.imageLoadHandler),i.Events.add(t,n.Image.EventTypes.onError,this.imageErrorHandler),t.load()},slideCarousel:function(e,s,o){if(!this.isSliding){var r,a;if(r=this.settings.target===t?i.DOM.windowWidth()+this.settings.margin:i.DOM.width(this.settings.target)+this.settings.margin,o=i.coalesce(o,this.settings.slideSpeed),!(1>t.Math.abs(a))){switch(s){case i.TouchElement.ActionTypes.swipeLeft:e=-1*r;break;case i.TouchElement.ActionTypes.swipeRight:e=r;break;default:a=e.x-this.touchStartPoint.x,e=t.Math.abs(a)>r/2?a>0?r:-1*r:0}this.lastSlideByAction=0>e?n.Carousel.SlideByAction.next:e>0?n.Carousel.SlideByAction.previous:n.Carousel.SlideByAction.current,!this.settings.loop&&(this.lastSlideByAction===n.Carousel.SlideByAction.previous&&0===this.currentCacheIndex||this.lastSlideByAction===n.Carousel.SlideByAction.next&&this.currentCacheIndex===this.cache.images.length-1)&&(e=0,this.lastSlideByAction=n.Carousel.SlideByAction.current),this.isSliding=!0,this.doSlideCarousel(e,o)}}},moveCarousel:function(t){this.isSliding||this.settings.enableDrag&&this.doMoveCarousel(t.x-this.touchStartPoint.x)},getItemEls:function(){return i.DOM.find("."+n.Carousel.CssClasses.item,this.contentEl)},previous:function(){this.stopSlideshow(),this.slideCarousel({x:0,y:0},i.TouchElement.ActionTypes.swipeRight,this.settings.nextPreviousSlideSpeed)},next:function(){this.stopSlideshow(),this.slideCarousel({x:0,y:0},i.TouchElement.ActionTypes.swipeLeft,this.settings.nextPreviousSlideSpeed)},slideshowNext:function(){this.slideCarousel({x:0,y:0},i.TouchElement.ActionTypes.swipeLeft)},startSlideshow:function(){this.stopSlideshow(),this.isSlideshowActive=!0,this.slideshowTimeout=t.setTimeout(this.slideshowNext.bind(this),this.settings.slideshowDelay),i.Events.fire(this,{type:n.Carousel.EventTypes.onSlideshowStart,target:this})},stopSlideshow:function(){i.isNothing(this.slideshowTimeout)||(t.clearTimeout(this.slideshowTimeout),this.slideshowTimeout=null,this.isSlideshowActive=!1,i.Events.fire(this,{type:n.Carousel.EventTypes.onSlideshowStop,target:this}))},onSlideByEnd:function(){if(!i.isNothing(this.isSliding)){var t=this.getItemEls();this.isSliding=!1,this.lastSlideByAction===n.Carousel.SlideByAction.next?this.currentCacheIndex+=1:this.lastSlideByAction===n.Carousel.SlideByAction.previous&&(this.currentCacheIndex-=1),this.settings.loop?(this.lastSlideByAction===n.Carousel.SlideByAction.next?i.DOM.appendChild(t[0],this.contentEl):this.lastSlideByAction===n.Carousel.SlideByAction.previous&&i.DOM.insertBefore(t[t.length-1],t[0],this.contentEl),0>this.currentCacheIndex?this.currentCacheIndex=this.cache.images.length-1:this.currentCacheIndex===this.cache.images.length&&(this.currentCacheIndex=0)):this.cache.images.length>3&&(this.currentCacheIndex>1&&this.currentCacheIndex<this.cache.images.length-2?this.lastSlideByAction===n.Carousel.SlideByAction.next?i.DOM.appendChild(t[0],this.contentEl):this.lastSlideByAction===n.Carousel.SlideByAction.previous&&i.DOM.insertBefore(t[t.length-1],t[0],this.contentEl):1===this.currentCacheIndex?this.lastSlideByAction===n.Carousel.SlideByAction.previous&&i.DOM.insertBefore(t[t.length-1],t[0],this.contentEl):this.currentCacheIndex===this.cache.images.length-2&&this.lastSlideByAction===n.Carousel.SlideByAction.next&&i.DOM.appendChild(t[0],this.contentEl)),this.lastSlideByAction!==n.Carousel.SlideByAction.current&&(this.setContentLeftPosition(),this.setImages(!0)),i.Events.fire(this,{type:n.Carousel.EventTypes.onSlideByEnd,target:this,action:this.lastSlideByAction,cacheIndex:this.currentCacheIndex}),this.isSlideshowActive&&(this.lastSlideByAction!==n.Carousel.SlideByAction.current?this.startSlideshow():this.stopSlideshow())}},onTouch:function(e,n){switch(this.stopSlideshow(),e){case i.TouchElement.ActionTypes.touchStart:this.touchStartPoint=n,this.touchStartPosition={x:t.parseInt(i.DOM.getStyle(this.contentEl,"left"),0),y:t.parseInt(i.DOM.getStyle(this.contentEl,"top"),0)};break;case i.TouchElement.ActionTypes.touchMove:this.moveCarousel(n);break;case i.TouchElement.ActionTypes.touchMoveEnd:case i.TouchElement.ActionTypes.swipeLeft:case i.TouchElement.ActionTypes.swipeRight:this.slideCarousel(n,e)}},onImageLoad:function(t){t=t.target,i.isNothing(t.imageEl.parentNode)||(i.DOM.removeClass(t.imageEl.parentNode,n.Carousel.CssClasses.itemLoading),this.resetImagePosition(t.imageEl)),i.Events.remove(t,n.Image.EventTypes.onLoad,this.imageLoadHandler),i.Events.remove(t,n.Image.EventTypes.onError,this.imageErrorHandler)},onImageError:function(t){t=t.target,i.isNothing(t.imageEl.parentNode)||(i.DOM.removeClass(t.imageEl.parentNode,n.Carousel.CssClasses.itemLoading),i.DOM.addClass(t.imageEl.parentNode,n.Carousel.CssClasses.itemError)),i.Events.remove(t,n.Image.EventTypes.onLoad,this.imageLoadHandler),i.Events.remove(t,n.Image.EventTypes.onError,this.imageErrorHandler)}})}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.Carousel"),e=t.Code.PhotoSwipe,e.Carousel.CarouselClass=e.Carousel.CarouselClass.extend({getStartingPos:function(){var e=this.touchStartPosition;return i.isNothing(e)&&(e={x:t.parseInt(i.DOM.getStyle(this.contentEl,"left"),0),y:t.parseInt(i.DOM.getStyle(this.contentEl,"top"),0)}),e},doMoveCarousel:function(e){var n;i.Browser.isCSSTransformSupported?(n={},n[i.Animation._transitionPrefix+"Property"]="all",n[i.Animation._transitionPrefix+"Duration"]="",n[i.Animation._transitionPrefix+"TimingFunction"]="",n[i.Animation._transitionPrefix+"Delay"]="0",n[i.Animation._transformLabel]=i.Browser.is3dSupported?"translate3d("+e+"px, 0px, 0px)":"translate("+e+"px, 0px)",i.DOM.setStyle(this.contentEl,n)):i.isNothing(t.jQuery)||t.jQuery(this.contentEl).stop().css("left",this.getStartingPos().x+e+"px")},doSlideCarousel:function(e,n){var s;0>=n?this.slideByEndHandler():i.Browser.isCSSTransformSupported?(s=i.coalesce(this.contentEl.style.webkitTransform,this.contentEl.style.MozTransform,this.contentEl.style.transform,""),0===s.indexOf("translate3d("+e)?this.slideByEndHandler():0===s.indexOf("translate("+e)?this.slideByEndHandler():i.Animation.slideBy(this.contentEl,e,0,n,this.slideByEndHandler,this.settings.slideTimingFunction)):i.isNothing(t.jQuery)||(s={left:this.getStartingPos().x+e+"px"},"ease-out"===this.settings.animationTimingFunction&&(this.settings.animationTimingFunction="easeOutQuad"),i.isNothing(t.jQuery.easing[this.settings.animationTimingFunction])&&(this.settings.animationTimingFunction="linear"),t.jQuery(this.contentEl).animate(s,this.settings.slideSpeed,this.settings.animationTimingFunction,this.slideByEndHandler))}})}(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.TouchElement),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.Toolbar");var n=t.Code.PhotoSwipe;n.Toolbar.CssClasses={toolbar:"ps-toolbar",toolbarContent:"ps-toolbar-content",toolbarTop:"ps-toolbar-top",caption:"ps-caption",captionBottom:"ps-caption-bottom",captionContent:"ps-caption-content",close:"ps-toolbar-close",play:"ps-toolbar-play",previous:"ps-toolbar-previous",previousDisabled:"ps-toolbar-previous-disabled",next:"ps-toolbar-next",nextDisabled:"ps-toolbar-next-disabled"},n.Toolbar.ToolbarAction={close:"close",play:"play",next:"next",previous:"previous",none:"none"},n.Toolbar.EventTypes={onTap:"PhotoSwipeToolbarOnClick",onBeforeShow:"PhotoSwipeToolbarOnBeforeShow",onShow:"PhotoSwipeToolbarOnShow",onBeforeHide:"PhotoSwipeToolbarOnBeforeHide",onHide:"PhotoSwipeToolbarOnHide"},n.Toolbar.getToolbar=function(){return'<div class="'+n.Toolbar.CssClasses.close+'"><div class="'+n.Toolbar.CssClasses.toolbarContent+'"></div></div><div class="'+n.Toolbar.CssClasses.play+'"><div class="'+n.Toolbar.CssClasses.toolbarContent+'"></div></div><div class="'+n.Toolbar.CssClasses.previous+'"><div class="'+n.Toolbar.CssClasses.toolbarContent+'"></div></div><div class="'+n.Toolbar.CssClasses.next+'"><div class="'+n.Toolbar.CssClasses.toolbarContent+'"></div></div>'}}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.Toolbar");var n=t.Code.PhotoSwipe;n.Toolbar.ToolbarClass=e({toolbarEl:null,closeEl:null,playEl:null,previousEl:null,nextEl:null,captionEl:null,captionContentEl:null,currentCaption:null,settings:null,cache:null,timeout:null,isVisible:null,fadeOutHandler:null,touchStartHandler:null,touchMoveHandler:null,clickHandler:null,dispose:function(){var t;this.clearTimeout(),this.removeEventHandlers(),i.Animation.stop(this.toolbarEl),i.Animation.stop(this.captionEl),i.DOM.removeChild(this.toolbarEl,this.toolbarEl.parentNode),i.DOM.removeChild(this.captionEl,this.captionEl.parentNode);for(t in this)i.objectHasProperty(this,t)&&(this[t]=null)},initialize:function(e,s){var o;this.settings=s,this.cache=e,this.isVisible=!1,this.fadeOutHandler=this.onFadeOut.bind(this),this.touchStartHandler=this.onTouchStart.bind(this),this.touchMoveHandler=this.onTouchMove.bind(this),this.clickHandler=this.onClick.bind(this),o=n.Toolbar.CssClasses.toolbar,this.settings.captionAndToolbarFlipPosition&&(o=o+" "+n.Toolbar.CssClasses.toolbarTop),this.toolbarEl=i.DOM.createElement("div",{"class":o},this.settings.getToolbar()),i.DOM.setStyle(this.toolbarEl,{left:0,position:"absolute",overflow:"hidden",zIndex:this.settings.zIndex}),this.settings.target===t?i.DOM.appendToBody(this.toolbarEl):i.DOM.appendChild(this.toolbarEl,this.settings.target),i.DOM.hide(this.toolbarEl),this.closeEl=i.DOM.find("."+n.Toolbar.CssClasses.close,this.toolbarEl)[0],this.settings.preventHide&&!i.isNothing(this.closeEl)&&i.DOM.hide(this.closeEl),this.playEl=i.DOM.find("."+n.Toolbar.CssClasses.play,this.toolbarEl)[0],this.settings.preventSlideshow&&!i.isNothing(this.playEl)&&i.DOM.hide(this.playEl),this.nextEl=i.DOM.find("."+n.Toolbar.CssClasses.next,this.toolbarEl)[0],this.previousEl=i.DOM.find("."+n.Toolbar.CssClasses.previous,this.toolbarEl)[0],o=n.Toolbar.CssClasses.caption,this.settings.captionAndToolbarFlipPosition&&(o=o+" "+n.Toolbar.CssClasses.captionBottom),this.captionEl=i.DOM.createElement("div",{"class":o},""),i.DOM.setStyle(this.captionEl,{left:0,position:"absolute",overflow:"hidden",zIndex:this.settings.zIndex}),this.settings.target===t?i.DOM.appendToBody(this.captionEl):i.DOM.appendChild(this.captionEl,this.settings.target),i.DOM.hide(this.captionEl),this.captionContentEl=i.DOM.createElement("div",{"class":n.Toolbar.CssClasses.captionContent},""),i.DOM.appendChild(this.captionContentEl,this.captionEl),this.addEventHandlers()},resetPosition:function(){var e,n,s;this.settings.target===t?(this.settings.captionAndToolbarFlipPosition?(n=i.DOM.windowScrollTop(),s=i.DOM.windowScrollTop()+i.DOM.windowHeight()-i.DOM.height(this.captionEl)):(n=i.DOM.windowScrollTop()+i.DOM.windowHeight()-i.DOM.height(this.toolbarEl),s=i.DOM.windowScrollTop()),e=i.DOM.windowWidth()):(this.settings.captionAndToolbarFlipPosition?(n="0",s=i.DOM.height(this.settings.target)-i.DOM.height(this.captionEl)):(n=i.DOM.height(this.settings.target)-i.DOM.height(this.toolbarEl),s=0),e=i.DOM.width(this.settings.target)),i.DOM.setStyle(this.toolbarEl,{top:n+"px",width:e}),i.DOM.setStyle(this.captionEl,{top:s+"px",width:e})},toggleVisibility:function(t){this.isVisible?this.fadeOut():this.show(t)},show:function(t){i.Animation.stop(this.toolbarEl),i.Animation.stop(this.captionEl),this.resetPosition(),this.setToolbarStatus(t),i.Events.fire(this,{type:n.Toolbar.EventTypes.onBeforeShow,target:this}),this.showToolbar(),this.setCaption(t),this.showCaption(),this.isVisible=!0,this.setTimeout(),i.Events.fire(this,{type:n.Toolbar.EventTypes.onShow,target:this})},setTimeout:function(){this.settings.captionAndToolbarAutoHideDelay>0&&(this.clearTimeout(),this.timeout=t.setTimeout(this.fadeOut.bind(this),this.settings.captionAndToolbarAutoHideDelay))},clearTimeout:function(){i.isNothing(this.timeout)||(t.clearTimeout(this.timeout),this.timeout=null)},fadeOut:function(){this.clearTimeout(),i.Events.fire(this,{type:n.Toolbar.EventTypes.onBeforeHide,target:this}),i.Animation.fadeOut(this.toolbarEl,this.settings.fadeOutSpeed),i.Animation.fadeOut(this.captionEl,this.settings.fadeOutSpeed,this.fadeOutHandler),this.isVisible=!1},addEventHandlers:function(){i.Browser.isTouchSupported&&(i.Browser.blackberry||i.Events.add(this.toolbarEl,"touchstart",this.touchStartHandler),i.Events.add(this.toolbarEl,"touchmove",this.touchMoveHandler),i.Events.add(this.captionEl,"touchmove",this.touchMoveHandler)),i.Events.add(this.toolbarEl,"click",this.clickHandler)},removeEventHandlers:function(){i.Browser.isTouchSupported&&(i.Browser.blackberry||i.Events.remove(this.toolbarEl,"touchstart",this.touchStartHandler),i.Events.remove(this.toolbarEl,"touchmove",this.touchMoveHandler),i.Events.remove(this.captionEl,"touchmove",this.touchMoveHandler)),i.Events.remove(this.toolbarEl,"click",this.clickHandler)},handleTap:function(t){this.clearTimeout();var e;t.target===this.nextEl||i.DOM.isChildOf(t.target,this.nextEl)?e=n.Toolbar.ToolbarAction.next:t.target===this.previousEl||i.DOM.isChildOf(t.target,this.previousEl)?e=n.Toolbar.ToolbarAction.previous:t.target===this.closeEl||i.DOM.isChildOf(t.target,this.closeEl)?e=n.Toolbar.ToolbarAction.close:(t.target===this.playEl||i.DOM.isChildOf(t.target,this.playEl))&&(e=n.Toolbar.ToolbarAction.play),this.setTimeout(),i.isNothing(e)&&(e=n.Toolbar.ToolbarAction.none),i.Events.fire(this,{type:n.Toolbar.EventTypes.onTap,target:this,action:e,tapTarget:t.target})},setCaption:function(t){i.DOM.removeChildren(this.captionContentEl),this.currentCaption=i.coalesce(this.cache.images[t].caption," "),i.isObject(this.currentCaption)?i.DOM.appendChild(this.currentCaption,this.captionContentEl):(""===this.currentCaption&&(this.currentCaption=" "),i.DOM.appendText(this.currentCaption,this.captionContentEl)),this.currentCaption=" "===this.currentCaption?"":this.currentCaption,this.resetPosition()},showToolbar:function(){i.DOM.setStyle(this.toolbarEl,{opacity:this.settings.captionAndToolbarOpacity}),i.DOM.show(this.toolbarEl)},showCaption:function(){(""===this.currentCaption||1>this.captionContentEl.childNodes.length)&&!this.settings.captionAndToolbarShowEmptyCaptions?i.DOM.hide(this.captionEl):(i.DOM.setStyle(this.captionEl,{opacity:this.settings.captionAndToolbarOpacity}),i.DOM.show(this.captionEl))},setToolbarStatus:function(t){this.settings.loop||(i.DOM.removeClass(this.previousEl,n.Toolbar.CssClasses.previousDisabled),i.DOM.removeClass(this.nextEl,n.Toolbar.CssClasses.nextDisabled),t>0&&this.cache.images.length-1>t||(0===t&&(i.isNothing(this.previousEl)||i.DOM.addClass(this.previousEl,n.Toolbar.CssClasses.previousDisabled)),t===this.cache.images.length-1&&(i.isNothing(this.nextEl)||i.DOM.addClass(this.nextEl,n.Toolbar.CssClasses.nextDisabled))))},onFadeOut:function(){i.DOM.hide(this.toolbarEl),i.DOM.hide(this.captionEl),i.Events.fire(this,{type:n.Toolbar.EventTypes.onHide,target:this})},onTouchStart:function(){},onTouchMove:function(t){t.preventDefault()},onClick:function(t){t.preventDefault(),this.handleTap(t)}})}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.UILayer"),t.Code.PhotoSwipe.UILayer.CssClasses={uiLayer:"ps-uilayer"}}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.UILayer");var n=t.Code.PhotoSwipe;n.UILayer.UILayerClass=i.TouchElement.TouchElementClass.extend({el:null,settings:null,dispose:function(){var t;this.removeEventHandlers(),i.DOM.removeChild(this.el,this.el.parentNode);for(t in this)i.objectHasProperty(this,t)&&(this[t]=null)},initialize:function(e){this.settings=e,this.el=i.DOM.createElement("div",{"class":n.UILayer.CssClasses.uiLayer},""),i.DOM.setStyle(this.el,{display:"block",position:"absolute",left:0,top:0,overflow:"hidden",zIndex:this.settings.zIndex,opacity:0}),i.DOM.hide(this.el),this.settings.target===t?i.DOM.appendToBody(this.el):i.DOM.appendChild(this.el,this.settings.target),this.supr(this.el,{swipe:!0,move:!0,gesture:i.Browser.iOS,doubleTap:!0,preventDefaultTouchEvents:this.settings.preventDefaultTouchEvents})},resetPosition:function(){this.settings.target===t?i.DOM.setStyle(this.el,{top:i.DOM.windowScrollTop()+"px",width:i.DOM.windowWidth(),height:i.DOM.windowHeight()}):i.DOM.setStyle(this.el,{top:"0px",width:i.DOM.width(this.settings.target),height:i.DOM.height(this.settings.target)})},show:function(){this.resetPosition(),i.DOM.show(this.el),this.addEventHandlers()},addEventHandlers:function(){this.supr()},removeEventHandlers:function(){this.supr()}})}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.ZoomPanRotate"),t=t.Code.PhotoSwipe,t.ZoomPanRotate.CssClasses={zoomPanRotate:"ps-zoom-pan-rotate"},t.ZoomPanRotate.EventTypes={onTransform:"PhotoSwipeZoomPanRotateOnTransform"}}(window,window.klass,window.Code.Util),function(t,e,i){i.registerNamespace("Code.PhotoSwipe.ZoomPanRotate");var n=t.Code.PhotoSwipe;n.ZoomPanRotate.ZoomPanRotateClass=e({el:null,settings:null,containerEl:null,imageEl:null,transformSettings:null,panStartingPoint:null,transformEl:null,dispose:function(){var t;i.DOM.removeChild(this.el,this.el.parentNode);for(t in this)i.objectHasProperty(this,t)&&(this[t]=null)},initialize:function(e,s,o){var r,a,l;this.settings=e,this.settings.target===t?(e=document.body,r=i.DOM.windowWidth(),a=i.DOM.windowHeight(),l=i.DOM.windowScrollTop()+"px"):(e=this.settings.target,r=i.DOM.width(e),a=i.DOM.height(e),l="0px"),this.imageEl=s.imageEl.cloneNode(!1),i.DOM.setStyle(this.imageEl,{zIndex:1}),this.transformSettings={startingScale:1,scale:1,startingRotation:0,rotation:0,startingTranslateX:0,startingTranslateY:0,translateX:0,translateY:0},this.el=i.DOM.createElement("div",{"class":n.ZoomPanRotate.CssClasses.zoomPanRotate},""),i.DOM.setStyle(this.el,{left:0,top:l,position:"absolute",width:r,height:a,zIndex:this.settings.zIndex,display:"block"}),i.DOM.insertBefore(this.el,o.el,e),i.Browser.iOS?(this.containerEl=i.DOM.createElement("div"),i.DOM.setStyle(this.containerEl,{left:0,top:0,width:r,height:a,position:"absolute",zIndex:1}),i.DOM.appendChild(this.imageEl,this.containerEl),i.DOM.appendChild(this.containerEl,this.el),i.Animation.resetTranslate(this.containerEl),i.Animation.resetTranslate(this.imageEl),this.transformEl=this.containerEl):(i.DOM.appendChild(this.imageEl,this.el),this.transformEl=this.imageEl)},setStartingTranslateFromCurrentTransform:function(){var e=i.coalesce(this.transformEl.style.webkitTransform,this.transformEl.style.MozTransform,this.transformEl.style.transform);i.isNothing(e)||(e=e.match(/translate\((.*?)\)/),i.isNothing(e))||(e=e[1].split(", "),this.transformSettings.startingTranslateX=t.parseInt(e[0],10),this.transformSettings.startingTranslateY=t.parseInt(e[1],10))},getScale:function(t){return t*=this.transformSettings.startingScale,0!==this.settings.minUserZoom&&this.settings.minUserZoom>t?t=this.settings.minUserZoom:0!==this.settings.maxUserZoom&&t>this.settings.maxUserZoom&&(t=this.settings.maxUserZoom),t},setStartingScaleAndRotation:function(t,e){this.transformSettings.startingScale=this.getScale(t),this.transformSettings.startingRotation=(this.transformSettings.startingRotation+e)%360},zoomRotate:function(t,e){this.transformSettings.scale=this.getScale(t),this.transformSettings.rotation=this.transformSettings.startingRotation+e,this.applyTransform()},panStart:function(t){this.setStartingTranslateFromCurrentTransform(),this.panStartingPoint={x:t.x,y:t.y}},pan:function(t){var e=(t.y-this.panStartingPoint.y)/this.transformSettings.scale;this.transformSettings.translateX=this.transformSettings.startingTranslateX+(t.x-this.panStartingPoint.x)/this.transformSettings.scale,this.transformSettings.translateY=this.transformSettings.startingTranslateY+e,this.applyTransform()},zoomAndPanToPoint:function(e,n){if(this.settings.target===t){this.panStart({x:i.DOM.windowWidth()/2,y:i.DOM.windowHeight()/2});var s=(n.y-this.panStartingPoint.y)/this.transformSettings.scale;this.transformSettings.translateX=-1*(this.transformSettings.startingTranslateX+(n.x-this.panStartingPoint.x)/this.transformSettings.scale),this.transformSettings.translateY=-1*(this.transformSettings.startingTranslateY+s)}this.setStartingScaleAndRotation(e,0),this.transformSettings.scale=this.transformSettings.startingScale,this.transformSettings.rotation=0,this.applyTransform()},applyTransform:function(){var e=this.transformSettings.rotation%360,s=t.parseInt(this.transformSettings.translateX,10),o=t.parseInt(this.transformSettings.translateY,10),r="scale("+this.transformSettings.scale+") rotate("+e+"deg) translate("+s+"px, "+o+"px)";i.DOM.setStyle(this.transformEl,{webkitTransform:r,MozTransform:r,msTransform:r,transform:r}),i.Events.fire(this,{target:this,type:n.ZoomPanRotate.EventTypes.onTransform,scale:this.transformSettings.scale,rotation:this.transformSettings.rotation,rotationDegs:e,translateX:s,translateY:o})}})}(window,window.klass,window.Code.Util),function(t,e){e.registerNamespace("Code.PhotoSwipe");var i=t.Code.PhotoSwipe;i.CssClasses={buildingBody:"ps-building",activeBody:"ps-active"},i.EventTypes={onBeforeShow:"PhotoSwipeOnBeforeShow",onShow:"PhotoSwipeOnShow",onBeforeHide:"PhotoSwipeOnBeforeHide",onHide:"PhotoSwipeOnHide",onDisplayImage:"PhotoSwipeOnDisplayImage",onResetPosition:"PhotoSwipeOnResetPosition",onSlideshowStart:"PhotoSwipeOnSlideshowStart",onSlideshowStop:"PhotoSwipeOnSlideshowStop",onTouch:"PhotoSwipeOnTouch",onBeforeCaptionAndToolbarShow:"PhotoSwipeOnBeforeCaptionAndToolbarShow",onCaptionAndToolbarShow:"PhotoSwipeOnCaptionAndToolbarShow",onBeforeCaptionAndToolbarHide:"PhotoSwipeOnBeforeCaptionAndToolbarHide",onCaptionAndToolbarHide:"PhotoSwipeOnCaptionAndToolbarHide",onToolbarTap:"PhotoSwipeOnToolbarTap",onBeforeZoomPanRotateShow:"PhotoSwipeOnBeforeZoomPanRotateShow",onZoomPanRotateShow:"PhotoSwipeOnZoomPanRotateShow",onBeforeZoomPanRotateHide:"PhotoSwipeOnBeforeZoomPanRotateHide",onZoomPanRotateHide:"PhotoSwipeOnZoomPanRotateHide",onZoomPanRotateTransform:"PhotoSwipeOnZoomPanRotateTransform"},i.instances=[],i.activeInstances=[],i.setActivateInstance=function(t){if(e.arrayIndexOf(t.settings.target,i.activeInstances,"target")>-1)throw"Code.PhotoSwipe.activateInstance: Unable to active instance as another instance is already active for this target";i.activeInstances.push({target:t.settings.target,instance:t})},i.unsetActivateInstance=function(t){t=e.arrayIndexOf(t,i.activeInstances,"instance"),i.activeInstances.splice(t,1)},i.attach=function(t,n,s){var o,r;for(o=i.createInstance(t,n,s),n=0,s=t.length;s>n;n++)r=t[n],e.isNothing(r.nodeType)||1!==r.nodeType||(r.__photoSwipeClickHandler=i.onTriggerElementClick.bind(o),e.Events.remove(r,"click",r.__photoSwipeClickHandler),e.Events.add(r,"click",r.__photoSwipeClickHandler));return o},t.jQuery&&(t.jQuery.fn.photoSwipe=function(t,e){return i.attach(this,t,e)}),i.detatch=function(t){var n,s,o;for(n=0,s=t.originalImages.length;s>n;n++)o=t.originalImages[n],!e.isNothing(o.nodeType)&&1===o.nodeType&&(e.Events.remove(o,"click",o.__photoSwipeClickHandler),delete o.__photoSwipeClickHandler);i.disposeInstance(t)},i.createInstance=function(t,n,s){var o;if(e.isNothing(t))throw"Code.PhotoSwipe.attach: No images passed.";if(!e.isLikeArray(t))throw"Code.PhotoSwipe.createInstance: Images must be an array of elements or image urls.";if(1>t.length)throw"Code.PhotoSwipe.createInstance: No images to passed.";if(n=e.coalesce(n,{}),o=i.getInstance(s),!e.isNothing(o))throw'Code.PhotoSwipe.createInstance: Instance with id "'+s+' already exists."';return o=new i.PhotoSwipeClass(t,n,s),i.instances.push(o),o},i.disposeInstance=function(t){var e=i.getInstanceIndex(t);if(0>e)throw"Code.PhotoSwipe.disposeInstance: Unable to find instance to dispose.";
t.dispose(),i.instances.splice(e,1)},i.onTriggerElementClick=function(t){t.preventDefault(),this.show(t.currentTarget)},i.getInstance=function(t){var e,n,s;for(e=0,n=i.instances.length;n>e;e++)if(s=i.instances[e],s.id===t)return s;return null},i.getInstanceIndex=function(t){var e,n,s=-1;for(e=0,n=i.instances.length;n>e;e++)if(i.instances[e]===t){s=e;break}return s}}(window,window.Code.Util),function(t,e,i,n,s,o,r,a,l){i.registerNamespace("Code.PhotoSwipe");var h=t.Code.PhotoSwipe;h.PhotoSwipeClass=e({id:null,settings:null,isBackEventSupported:null,backButtonClicked:null,currentIndex:null,originalImages:null,mouseWheelStartTime:null,windowDimensions:null,cache:null,documentOverlay:null,carousel:null,uiLayer:null,toolbar:null,zoomPanRotate:null,windowOrientationChangeHandler:null,windowScrollHandler:null,windowHashChangeHandler:null,keyDownHandler:null,windowOrientationEventName:null,uiLayerTouchHandler:null,carouselSlideByEndHandler:null,carouselSlideshowStartHandler:null,carouselSlideshowStopHandler:null,toolbarTapHandler:null,toolbarBeforeShowHandler:null,toolbarShowHandler:null,toolbarBeforeHideHandler:null,toolbarHideHandler:null,mouseWheelHandler:null,zoomPanRotateTransformHandler:null,_isResettingPosition:null,_uiWebViewResetPositionTimeout:null,dispose:function(){var t;i.Events.remove(this,h.EventTypes.onBeforeShow),i.Events.remove(this,h.EventTypes.onShow),i.Events.remove(this,h.EventTypes.onBeforeHide),i.Events.remove(this,h.EventTypes.onHide),i.Events.remove(this,h.EventTypes.onDisplayImage),i.Events.remove(this,h.EventTypes.onResetPosition),i.Events.remove(this,h.EventTypes.onSlideshowStart),i.Events.remove(this,h.EventTypes.onSlideshowStop),i.Events.remove(this,h.EventTypes.onTouch),i.Events.remove(this,h.EventTypes.onBeforeCaptionAndToolbarShow),i.Events.remove(this,h.EventTypes.onCaptionAndToolbarShow),i.Events.remove(this,h.EventTypes.onBeforeCaptionAndToolbarHide),i.Events.remove(this,h.EventTypes.onCaptionAndToolbarHide),i.Events.remove(this,h.EventTypes.onZoomPanRotateTransform),this.removeEventHandlers(),i.isNothing(this.documentOverlay)||this.documentOverlay.dispose(),i.isNothing(this.carousel)||this.carousel.dispose(),i.isNothing(this.uiLayer)||this.uiLayer.dispose(),i.isNothing(this.toolbar)||this.toolbar.dispose(),this.destroyZoomPanRotate(),i.isNothing(this.cache)||this.cache.dispose();for(t in this)i.objectHasProperty(this,t)&&(this[t]=null)},initialize:function(e,s,o){this.id=i.isNothing(o)?"PhotoSwipe"+(""+(new Date).getTime()):o,this.originalImages=e,i.Browser.android&&(""+t.navigator.userAgent.match(/Android (\d+.\d+)/)).replace(/^.*\,/,"")>=2.1&&(this.isBackEventSupported=!0),this.isBackEventSupported||(this.isBackEventSupported=i.objectHasProperty(t,"onhashchange")),this.settings={fadeInSpeed:250,fadeOutSpeed:250,preventHide:!1,preventSlideshow:!1,zIndex:1e3,backButtonHideEnabled:!0,enableKeyboard:!0,enableMouseWheel:!0,mouseWheelSpeed:350,autoStartSlideshow:!1,jQueryMobile:!i.isNothing(t.jQuery)&&!i.isNothing(t.jQuery.mobile),jQueryMobileDialogHash:"&ui-state=dialog",enableUIWebViewRepositionTimeout:!1,uiWebViewResetPositionDelay:500,target:t,preventDefaultTouchEvents:!0,loop:!0,slideSpeed:250,nextPreviousSlideSpeed:0,enableDrag:!0,swipeThreshold:50,swipeTimeThreshold:250,slideTimingFunction:"ease-out",slideshowDelay:3e3,doubleTapSpeed:250,margin:20,imageScaleMethod:"fit",captionAndToolbarHide:!1,captionAndToolbarFlipPosition:!1,captionAndToolbarAutoHideDelay:5e3,captionAndToolbarOpacity:.8,captionAndToolbarShowEmptyCaptions:!0,getToolbar:h.Toolbar.getToolbar,allowUserZoom:!0,allowRotationOnUserZoom:!1,maxUserZoom:5,minUserZoom:.5,doubleTapZoomLevel:2.5,getImageSource:h.Cache.Functions.getImageSource,getImageCaption:h.Cache.Functions.getImageCaption,getImageMetaData:h.Cache.Functions.getImageMetaData,cacheMode:h.Cache.Mode.normal},i.extend(this.settings,s),this.settings.target!==t&&(s=i.DOM.getStyle(this.settings.target,"position"),("relative"!==s||"absolute"!==s)&&i.DOM.setStyle(this.settings.target,"position","relative")),this.settings.target!==t?(this.isBackEventSupported=!1,this.settings.backButtonHideEnabled=!1):this.settings.preventHide&&(this.settings.backButtonHideEnabled=!1),this.cache=new n.CacheClass(e,this.settings)},show:function(e){var n,s;if(this.backButtonClicked=this._isResettingPosition=!1,i.isNumber(e))this.currentIndex=e;else for(this.currentIndex=-1,n=0,s=this.originalImages.length;s>n;n++)if(this.originalImages[n]===e){this.currentIndex=n;break}if(0>this.currentIndex||this.currentIndex>this.originalImages.length-1)throw"Code.PhotoSwipe.PhotoSwipeClass.show: Starting index out of range";this.isAlreadyGettingPage=this.getWindowDimensions(),h.setActivateInstance(this),this.windowDimensions=this.getWindowDimensions(),this.settings.target===t?i.DOM.addClass(t.document.body,h.CssClasses.buildingBody):i.DOM.addClass(this.settings.target,h.CssClasses.buildingBody),this.createComponents(),i.Events.fire(this,{type:h.EventTypes.onBeforeShow,target:this}),this.documentOverlay.fadeIn(this.settings.fadeInSpeed,this.onDocumentOverlayFadeIn.bind(this))},getWindowDimensions:function(){return{width:i.DOM.windowWidth(),height:i.DOM.windowHeight()}},createComponents:function(){this.documentOverlay=new s.DocumentOverlayClass(this.settings),this.carousel=new o.CarouselClass(this.cache,this.settings),this.uiLayer=new a.UILayerClass(this.settings),this.settings.captionAndToolbarHide||(this.toolbar=new r.ToolbarClass(this.cache,this.settings))},resetPosition:function(){if(!this._isResettingPosition){var t=this.getWindowDimensions();(i.isNothing(this.windowDimensions)||t.width!==this.windowDimensions.width||t.height!==this.windowDimensions.height)&&(this._isResettingPosition=!0,this.windowDimensions=t,this.destroyZoomPanRotate(),this.documentOverlay.resetPosition(),this.carousel.resetPosition(),i.isNothing(this.toolbar)||this.toolbar.resetPosition(),this.uiLayer.resetPosition(),this._isResettingPosition=!1,i.Events.fire(this,{type:h.EventTypes.onResetPosition,target:this}))}},addEventHandler:function(t,e){i.Events.add(this,t,e)},addEventHandlers:function(){i.isNothing(this.windowOrientationChangeHandler)&&(this.windowOrientationChangeHandler=this.onWindowOrientationChange.bind(this),this.windowScrollHandler=this.onWindowScroll.bind(this),this.keyDownHandler=this.onKeyDown.bind(this),this.windowHashChangeHandler=this.onWindowHashChange.bind(this),this.uiLayerTouchHandler=this.onUILayerTouch.bind(this),this.carouselSlideByEndHandler=this.onCarouselSlideByEnd.bind(this),this.carouselSlideshowStartHandler=this.onCarouselSlideshowStart.bind(this),this.carouselSlideshowStopHandler=this.onCarouselSlideshowStop.bind(this),this.toolbarTapHandler=this.onToolbarTap.bind(this),this.toolbarBeforeShowHandler=this.onToolbarBeforeShow.bind(this),this.toolbarShowHandler=this.onToolbarShow.bind(this),this.toolbarBeforeHideHandler=this.onToolbarBeforeHide.bind(this),this.toolbarHideHandler=this.onToolbarHide.bind(this),this.mouseWheelHandler=this.onMouseWheel.bind(this),this.zoomPanRotateTransformHandler=this.onZoomPanRotateTransform.bind(this)),i.Browser.android?this.orientationEventName="resize":i.Browser.iOS&&!i.Browser.safari?i.Events.add(t.document.body,"orientationchange",this.windowOrientationChangeHandler):this.orientationEventName=i.isNothing(t.onorientationchange)?"resize":"orientationchange",i.isNothing(this.orientationEventName)||i.Events.add(t,this.orientationEventName,this.windowOrientationChangeHandler),this.settings.target===t&&i.Events.add(t,"scroll",this.windowScrollHandler),this.settings.enableKeyboard&&i.Events.add(t.document,"keydown",this.keyDownHandler),this.isBackEventSupported&&this.settings.backButtonHideEnabled&&(this.windowHashChangeHandler=this.onWindowHashChange.bind(this),this.settings.jQueryMobile?t.location.hash=this.settings.jQueryMobileDialogHash:(this.currentHistoryHashValue="PhotoSwipe"+(""+(new Date).getTime()),t.location.hash=this.currentHistoryHashValue),i.Events.add(t,"hashchange",this.windowHashChangeHandler)),this.settings.enableMouseWheel&&i.Events.add(t,"mousewheel",this.mouseWheelHandler),i.Events.add(this.uiLayer,i.TouchElement.EventTypes.onTouch,this.uiLayerTouchHandler),i.Events.add(this.carousel,o.EventTypes.onSlideByEnd,this.carouselSlideByEndHandler),i.Events.add(this.carousel,o.EventTypes.onSlideshowStart,this.carouselSlideshowStartHandler),i.Events.add(this.carousel,o.EventTypes.onSlideshowStop,this.carouselSlideshowStopHandler),i.isNothing(this.toolbar)||(i.Events.add(this.toolbar,r.EventTypes.onTap,this.toolbarTapHandler),i.Events.add(this.toolbar,r.EventTypes.onBeforeShow,this.toolbarBeforeShowHandler),i.Events.add(this.toolbar,r.EventTypes.onShow,this.toolbarShowHandler),i.Events.add(this.toolbar,r.EventTypes.onBeforeHide,this.toolbarBeforeHideHandler),i.Events.add(this.toolbar,r.EventTypes.onHide,this.toolbarHideHandler))},removeEventHandlers:function(){i.Browser.iOS&&!i.Browser.safari&&i.Events.remove(t.document.body,"orientationchange",this.windowOrientationChangeHandler),i.isNothing(this.orientationEventName)||i.Events.remove(t,this.orientationEventName,this.windowOrientationChangeHandler),i.Events.remove(t,"scroll",this.windowScrollHandler),this.settings.enableKeyboard&&i.Events.remove(t.document,"keydown",this.keyDownHandler),this.isBackEventSupported&&this.settings.backButtonHideEnabled&&i.Events.remove(t,"hashchange",this.windowHashChangeHandler),this.settings.enableMouseWheel&&i.Events.remove(t,"mousewheel",this.mouseWheelHandler),i.isNothing(this.uiLayer)||i.Events.remove(this.uiLayer,i.TouchElement.EventTypes.onTouch,this.uiLayerTouchHandler),i.isNothing(this.toolbar)||(i.Events.remove(this.carousel,o.EventTypes.onSlideByEnd,this.carouselSlideByEndHandler),i.Events.remove(this.carousel,o.EventTypes.onSlideshowStart,this.carouselSlideshowStartHandler),i.Events.remove(this.carousel,o.EventTypes.onSlideshowStop,this.carouselSlideshowStopHandler)),i.isNothing(this.toolbar)||(i.Events.remove(this.toolbar,r.EventTypes.onTap,this.toolbarTapHandler),i.Events.remove(this.toolbar,r.EventTypes.onBeforeShow,this.toolbarBeforeShowHandler),i.Events.remove(this.toolbar,r.EventTypes.onShow,this.toolbarShowHandler),i.Events.remove(this.toolbar,r.EventTypes.onBeforeHide,this.toolbarBeforeHideHandler),i.Events.remove(this.toolbar,r.EventTypes.onHide,this.toolbarHideHandler))},hide:function(){if(!this.settings.preventHide){if(i.isNothing(this.documentOverlay))throw"Code.PhotoSwipe.PhotoSwipeClass.hide: PhotoSwipe instance is already hidden";i.isNothing(this.hiding)&&(this.clearUIWebViewResetPositionTimeout(),this.destroyZoomPanRotate(),this.removeEventHandlers(),i.Events.fire(this,{type:h.EventTypes.onBeforeHide,target:this}),this.uiLayer.dispose(),this.uiLayer=null,i.isNothing(this.toolbar)||(this.toolbar.dispose(),this.toolbar=null),this.carousel.dispose(),this.carousel=null,i.DOM.removeClass(t.document.body,h.CssClasses.activeBody),this.documentOverlay.dispose(),this.documentOverlay=null,this._isResettingPosition=!1,h.unsetActivateInstance(this),i.Events.fire(this,{type:h.EventTypes.onHide,target:this}),this.goBackInHistory())}},goBackInHistory:function(){this.isBackEventSupported&&this.settings.backButtonHideEnabled&&(this.backButtonClicked||t.history.back())},play:function(){!this.isZoomActive()&&!this.settings.preventSlideshow&&!i.isNothing(this.carousel)&&(!i.isNothing(this.toolbar)&&this.toolbar.isVisible&&this.toolbar.fadeOut(),this.carousel.startSlideshow())},stop:function(){this.isZoomActive()||i.isNothing(this.carousel)||this.carousel.stopSlideshow()},previous:function(){this.isZoomActive()||i.isNothing(this.carousel)||this.carousel.previous()},next:function(){this.isZoomActive()||i.isNothing(this.carousel)||this.carousel.next()},toggleToolbar:function(){this.isZoomActive()||i.isNothing(this.toolbar)||this.toolbar.toggleVisibility(this.currentIndex)},fadeOutToolbarIfVisible:function(){!i.isNothing(this.toolbar)&&this.toolbar.isVisible&&this.settings.captionAndToolbarAutoHideDelay>0&&this.toolbar.fadeOut()},createZoomPanRotate:function(){this.stop(),this.canUserZoom()&&!this.isZoomActive()&&(i.Events.fire(this,h.EventTypes.onBeforeZoomPanRotateShow),this.zoomPanRotate=new l.ZoomPanRotateClass(this.settings,this.cache.images[this.currentIndex],this.uiLayer),this.uiLayer.captureSettings.preventDefaultTouchEvents=!0,i.Events.add(this.zoomPanRotate,h.ZoomPanRotate.EventTypes.onTransform,this.zoomPanRotateTransformHandler),i.Events.fire(this,h.EventTypes.onZoomPanRotateShow),!i.isNothing(this.toolbar)&&this.toolbar.isVisible&&this.toolbar.fadeOut())},destroyZoomPanRotate:function(){i.isNothing(this.zoomPanRotate)||(i.Events.fire(this,h.EventTypes.onBeforeZoomPanRotateHide),i.Events.remove(this.zoomPanRotate,h.ZoomPanRotate.EventTypes.onTransform,this.zoomPanRotateTransformHandler),this.zoomPanRotate.dispose(),this.zoomPanRotate=null,this.uiLayer.captureSettings.preventDefaultTouchEvents=this.settings.preventDefaultTouchEvents,i.Events.fire(this,h.EventTypes.onZoomPanRotateHide))},canUserZoom:function(){var t;if(i.Browser.msie){if(t=document.createElement("div"),i.isNothing(t.style.msTransform))return!1}else if(!i.Browser.isCSSTransformSupported)return!1;return this.settings.allowUserZoom?this.carousel.isSliding?!1:(t=this.cache.images[this.currentIndex],i.isNothing(t)?!1:t.isLoading?!1:!0):!1},isZoomActive:function(){return!i.isNothing(this.zoomPanRotate)},getCurrentImage:function(){return this.cache.images[this.currentIndex]},onDocumentOverlayFadeIn:function(){t.setTimeout(function(){var e=this.settings.target===t?t.document.body:this.settings.target;i.DOM.removeClass(e,h.CssClasses.buildingBody),i.DOM.addClass(e,h.CssClasses.activeBody),this.addEventHandlers(),this.carousel.show(this.currentIndex),this.uiLayer.show(),this.settings.autoStartSlideshow?this.play():i.isNothing(this.toolbar)||this.toolbar.show(this.currentIndex),i.Events.fire(this,{type:h.EventTypes.onShow,target:this}),this.setUIWebViewResetPositionTimeout()}.bind(this),250)},setUIWebViewResetPositionTimeout:function(){this.settings.enableUIWebViewRepositionTimeout&&i.Browser.iOS&&!i.Browser.safari&&(i.isNothing(this._uiWebViewResetPositionTimeout)||t.clearTimeout(this._uiWebViewResetPositionTimeout),this._uiWebViewResetPositionTimeout=t.setTimeout(function(){this.resetPosition(),this.setUIWebViewResetPositionTimeout()}.bind(this),this.settings.uiWebViewResetPositionDelay))},clearUIWebViewResetPositionTimeout:function(){i.isNothing(this._uiWebViewResetPositionTimeout)||t.clearTimeout(this._uiWebViewResetPositionTimeout)},onWindowScroll:function(){this.resetPosition()},onWindowOrientationChange:function(){this.resetPosition()},onWindowHashChange:function(){t.location.hash!=="#"+(this.settings.jQueryMobile?this.settings.jQueryMobileDialogHash:this.currentHistoryHashValue)&&(this.backButtonClicked=!0,this.hide())},onKeyDown:function(t){37===t.keyCode?(t.preventDefault(),this.previous()):39===t.keyCode?(t.preventDefault(),this.next()):38===t.keyCode||40===t.keyCode?t.preventDefault():27===t.keyCode?(t.preventDefault(),this.hide()):32===t.keyCode?(this.settings.hideToolbar?this.hide():this.toggleToolbar(),t.preventDefault()):13===t.keyCode&&(t.preventDefault(),this.play())},onUILayerTouch:function(e){if(this.isZoomActive())switch(e.action){case i.TouchElement.ActionTypes.gestureChange:this.zoomPanRotate.zoomRotate(e.scale,this.settings.allowRotationOnUserZoom?e.rotation:0);break;case i.TouchElement.ActionTypes.gestureEnd:this.zoomPanRotate.setStartingScaleAndRotation(e.scale,this.settings.allowRotationOnUserZoom?e.rotation:0);break;case i.TouchElement.ActionTypes.touchStart:this.zoomPanRotate.panStart(e.point);break;case i.TouchElement.ActionTypes.touchMove:this.zoomPanRotate.pan(e.point);break;case i.TouchElement.ActionTypes.doubleTap:this.destroyZoomPanRotate(),this.toggleToolbar();break;case i.TouchElement.ActionTypes.swipeLeft:this.destroyZoomPanRotate(),this.next(),this.toggleToolbar();break;case i.TouchElement.ActionTypes.swipeRight:this.destroyZoomPanRotate(),this.previous(),this.toggleToolbar()}else switch(e.action){case i.TouchElement.ActionTypes.touchMove:case i.TouchElement.ActionTypes.swipeLeft:case i.TouchElement.ActionTypes.swipeRight:this.fadeOutToolbarIfVisible(),this.carousel.onTouch(e.action,e.point);break;case i.TouchElement.ActionTypes.touchStart:case i.TouchElement.ActionTypes.touchMoveEnd:this.carousel.onTouch(e.action,e.point);break;case i.TouchElement.ActionTypes.tap:this.toggleToolbar();break;case i.TouchElement.ActionTypes.doubleTap:this.settings.target===t&&(e.point.x-=i.DOM.windowScrollLeft(),e.point.y-=i.DOM.windowScrollTop());var n=this.cache.images[this.currentIndex].imageEl,s=t.parseInt(i.DOM.getStyle(n,"top"),10),o=t.parseInt(i.DOM.getStyle(n,"left"),10),r=o+i.DOM.width(n),n=s+i.DOM.height(n);o>e.point.x?e.point.x=o:e.point.x>r&&(e.point.x=r),s>e.point.y?e.point.y=s:e.point.y>n&&(e.point.y=n),this.createZoomPanRotate(),this.isZoomActive()&&this.zoomPanRotate.zoomAndPanToPoint(this.settings.doubleTapZoomLevel,e.point);break;case i.TouchElement.ActionTypes.gestureStart:this.createZoomPanRotate()}i.Events.fire(this,{type:h.EventTypes.onTouch,target:this,point:e.point,action:e.action})},onCarouselSlideByEnd:function(t){this.currentIndex=t.cacheIndex,i.isNothing(this.toolbar)||(this.toolbar.setCaption(this.currentIndex),this.toolbar.setToolbarStatus(this.currentIndex)),i.Events.fire(this,{type:h.EventTypes.onDisplayImage,target:this,action:t.action,index:t.cacheIndex})},onToolbarTap:function(t){switch(t.action){case r.ToolbarAction.next:this.next();break;case r.ToolbarAction.previous:this.previous();break;case r.ToolbarAction.close:this.hide();break;case r.ToolbarAction.play:this.play()}i.Events.fire(this,{type:h.EventTypes.onToolbarTap,target:this,toolbarAction:t.action,tapTarget:t.tapTarget})},onMouseWheel:function(t){var e=i.Events.getWheelDelta(t);t.timeStamp-(this.mouseWheelStartTime||0)<this.settings.mouseWheelSpeed||(this.mouseWheelStartTime=t.timeStamp,this.settings.invertMouseWheel&&(e*=-1),0>e?this.next():e>0&&this.previous())},onCarouselSlideshowStart:function(){i.Events.fire(this,{type:h.EventTypes.onSlideshowStart,target:this})},onCarouselSlideshowStop:function(){i.Events.fire(this,{type:h.EventTypes.onSlideshowStop,target:this})},onToolbarBeforeShow:function(){i.Events.fire(this,{type:h.EventTypes.onBeforeCaptionAndToolbarShow,target:this})},onToolbarShow:function(){i.Events.fire(this,{type:h.EventTypes.onCaptionAndToolbarShow,target:this})},onToolbarBeforeHide:function(){i.Events.fire(this,{type:h.EventTypes.onBeforeCaptionAndToolbarHide,target:this})},onToolbarHide:function(){i.Events.fire(this,{type:h.EventTypes.onCaptionAndToolbarHide,target:this})},onZoomPanRotateTransform:function(t){i.Events.fire(this,{target:this,type:h.EventTypes.onZoomPanRotateTransform,scale:t.scale,rotation:t.rotation,rotationDegs:t.rotationDegs,translateX:t.translateX,translateY:t.translateY})}})}(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.Cache,window.Code.PhotoSwipe.DocumentOverlay,window.Code.PhotoSwipe.Carousel,window.Code.PhotoSwipe.Toolbar,window.Code.PhotoSwipe.UILayer,window.Code.PhotoSwipe.ZoomPanRotate),define("vendor/photoswipe",function(){}),function(){"undefined"==typeof Joshfire&&(Joshfire={});var t={version:[0,9,3],onReady:function(t){t&&t()},adapter:"samsungtv",adapterDeps:["tv"],adapterModules:{android:["dependencies.json","vendor/iscroll"],"android-old":["app","dependencies.json","inputs/touch","ui/toolbar","uielements/list","uielements/panel","uielements/video.mediaelement","vendor/iscroll"],browser:["app","inputs/http","inputs/keyboard","inputs/mouse","uielement","uielements/list","uielements/mediacontrols","uielements/page","uielements/panel","uielements/panel.manager","uielements/video.mediaelement","uielements/video.popup","uielements/video.youtube.swf","utils/activitymonitor","utils/datasource","utils/dollar","utils/localstorage","utils/navigation","utils/onready","utils/stresstest"],googletv:["dependencies.json","inputs/keyboard","ui/videoplayer","uielement"],ios:["dependencies.json"],lgtv:["dependencies.json","ui/videoplayer","uielement","utils/dollar"],node:["app.factory","app","class","global.exec","inputs/http","uielements/page","uielements/panel","uielements/panel.manager","uielements/video.mediaelement","utils/datasource","utils/dollar","utils/eventsocket","utils/templatecompiler.cli","utils/templatecompiler","vendor/json2","view"],none:[],philips:["dependencies.json","inputs/remote","ui/videoplayer","uielement","uielements/list","uielements/video.mediaelement","utils/dollar","utils/stresstest"],phone:["collection","ui/toolbar","uielement","utils/dollar","utils/onready"],qt4:[],samsungtv:["dependencies.json","inputs/remote","ui/fadeinpanel","ui/slidepanel","ui/videoplayer","uielement","utils/dollar","utils/onready","utils/widgetapi"],tv:["inputs/remote","ui/cardpanel","ui/grid","ui/horizontallayout","ui/toolbar","ui/verticallist","ui/videoplayer","uielement","utils/dollar","utils/onready"]},debug:!1,path:(Joshfire.framework||{}).path||""},e=RegExp("^(.*)/adapters/"+t.adapter+"/bootstrap\\.js$"),i=null,n=null,s="",o=0,r=0,a=0,l="";if(!t.path&&"undefined"!=typeof document)for(i=document.getElementsByTagName("script"),r=i.length-1;r>=0;r--)if(n=e.exec(i[r].getAttribute("src")),n&&(t.path=n[1],"/"!==t.path[0]&&-1===t.path.indexOf("//"))){for(s=i[r].getAttribute("data-main"),s&&(o=s.split("/").length-1),a=0;o>a;a++)l+="../";t.path=l+t.path}require!==void 0&&require.config&&require.config({paths:{"joshfire-framework":t.path},urlArgs:Joshfire.debug?"bust="+(new Date).getTime():""}),Joshfire.framework=t,"undefined"!=typeof module&&module.exports&&(module.exports.JoshfireFramework=t)}.call(this),function(t){t.onReady=function(e){t.require(["joshfire/vendor/zepto"],function(){e.call()})}}(Joshfire),define("joshlib",{normalize:function(t){var e="joshfire-framework/",i=[Joshfire.framework.adapter].concat(Joshfire.framework.adapterDeps),n=Joshfire.framework.adapterModules;if("adapters/none/"===t.substring(0,14))return e+t.substring(14);if("adapters/"===t.substring(0,9))return e+t;for(var s=0;i.length>s;s++)for(var o=0;n[i[s]].length>o;o++)if(t===n[i[s]][o])return e+"adapters/"+i[s]+"/"+t;return e+t},load:function(t,e,i){e([t],function(t){i(t)})}}),define("joshfire-framework/adapters/samsungtv/utils/onready",[],function(){return function(t){/complete|loaded|interactive/.test(document.readyState)&&t(),document.addEventListener("DOMContentLoaded",t,!1)}}),function(t){var e=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},i=function(t){if("VideoObject"===t["@type"]||"AudioObject"===t["@type"])return t;var e=null;switch(t["@type"]){case"MusicRecording":e=["audio","associatedMedia","video"];break;default:e=["video","associatedMedia","audio"]}for(var i=0,n=e.length;n>i;i++){var s=e[i];if(t[s]!==void 0)return t[s]}},n=function(t,e){e=e||{},t=t||{};var i={width:e.width||500,height:e.height||281};if("AudioObject"===t["@type"]&&(i.height=e.height||40),e.adjustSize){var n=4/3;t.width&&t.height?n=t.width/t.height:"widescreen"===t["yt:aspectRatio"]&&(n=16/9);var s={width:Math.round(i.height*n),height:Math.round(i.width/n)};s.width>i.width+1?i.height=s.height:s.width<i.width-1&&(i.width=s.width)}return i},s=function(t){"function"==typeof this.initialize?this.initialize(t):s.prototype.initialize.call(this,t)};s.extend=function(t){var i=function(t){s.call(this,t)};return e(i.prototype,t),i},e(s.prototype,{initialize:function(){},toHtml:function(t){"function"==typeof t&&t(null,"",{})}});var o=function(t){if(t.match(/soundcloud/g))return"audio/mp3";var e=t.split(".").pop();switch(e=e.indexOf("?")>-1?e.split("?")[0]:e,e=e.indexOf("#")>-1?e.split("#")[0]:e){case"webm":return"video/webm";case"ogv":return"video/ogg";case"mp4":return"video/mp4";case"m4v":return"video/mp4";case"ogg":return"audio/ogg";case"mp3":return"audio/mp3";case"m4a":return"audio/mp4";default:return""}},r=s.extend({initialize:function(t){this.sources=t.sources,this.poster=t.poster,this.width=t.width||500,this.height=t.height||281,this.autoPlay=t.autoPlay||!1},toHtml:function(t){for(var e=this.poster?' poster="'+this.poster+'"':"",i=this.autoPlay?" autoplay":"",n='<video width="'+this.width+'" height="'+this.height+'" '+e+i+" controls "+'class="video-js vjs-default-skin" data-setup="{}">',s=0;this.sources.length>s;s++){var r=this.sources[s];n+='<source src="'+r+'"  type="'+o(r)+'"></source>'}n+="</video>","function"==typeof t&&t(null,n,{width:this.width,height:this.height})}}),a=s.extend({initialize:function(t){this.sources=t.sources,this.poster=t.poster||"",this.width=t.width||500,this.height=t.height||281,this.autoPlay=t.autoPlay||!1},addPolyFill:function(){var t=document.getElementsByTagName("body")[0],e=document.createElement("link"),i=document.createElement("script");e.setAttribute("href","http://vjs.zencdn.net/c/video-js.css"),e.setAttribute("rel","stylesheet"),i.setAttribute("src","http://vjs.zencdn.net/c/video.js"),t.appendChild(e),t.appendChild(i)},toHtml:function(t){for(var e=this.poster?' poster="'+this.poster+'"':"",i=this.autoPlay?" autoplay":"",n='<video width="'+this.width+'" height="'+this.height+'" '+e+i+" controls"+' class="video-js vjs-default-skin" data-setup="{}">',s=0;this.sources.length>s;s++){var r=this.sources[s];n+='<source src="'+r+'"  type="'+o(r)+'"></source>'}n+="</video>","undefined"!=typeof window&&window.VideoJS===void 0&&this.addPolyFill(),"function"==typeof t&&t(null,n,{width:this.width,height:this.height})}}),l=s.extend({initialize:function(t){this.sources=t.sources,this.width=t.width||500,this.height=t.height||40,this.autoPlay=t.autoPlay||!1},iCanHazAudioTag:function(){if(!document)return!1;var t=document.createElement("audio");return t.canPlayType},toHtml:function(t){var e="";if(this.sources&&this.sources.length){for(var i=0;this.sources.length>i;i++)if(this.iCanHazAudioTag(this.sources[i])){var n=this.autoPlay?" autoplay":"";e='<audio controls src="'+this.sources[i]+'"'+n+"></audio>";break}e||(e='<a href="'+this.sources[0]+'" target="_blank">Play</a>')}"function"==typeof t&&t(null,e,{})}}),h=s.extend({initialize:function(t){this.sources=t.sources,this.width=t.width||500,this.height=t.height||281,this.autoPlay=t.autoPlay||!1},toHtml:function(t){for(var e="mediaplayerlib-mediaelement-video-"+h.nextId++,i=this.poster?' poster="'+this.poster+'"':"",n=this.autoPlay?" autoplay":"",s='<video width="'+this.width+'" height="'+this.height+'" '+i+n+" controls"+' id="'+e+'">',o=0;this.sources.length>o;o++){var r=this.sources[o];s+='<source src="'+r+'"></source>'}s+="</video>",s+="<script>",s+='$("#'+e+'").mediaelementplayer({',s+="playerWidth: "+this.width+",",s+="playerHeight: "+this.height,s+="});",s+="</script>","function"==typeof t&&t(null,s,{width:this.width,height:this.height})}});h.nextId=0;var u=s.extend({initialize:function(t){this.options=t},toHtml:function(e){for(var i=null,n=0;u.endPoints.length>n;n++)this.options.url.match(u.endPoints[n].regexp)&&(i=u.endPoints[n]);if(!i)return"function"==typeof e&&e(null,null),void 0;if("undefined"!=typeof module){var s=i.url(null,this.options),o=require("http"),r=require("url"),a=r.parse(s),l={host:a.hostname,path:a.pathname+a.search,port:80,method:"GET"},h=o.request(l,function(t){var i="";t.on("data",function(t){i+=t}),t.on("end",function(){e!==void 0&&e(null,JSON.parse(i).html)}),t.on("close",function(t){e!==void 0&&e(t)})});h.on("error",function(t){e!==void 0&&e(t)}),h.end()}else{var c=u.cbName(),r=i.url(c,this.options),d=document.getElementsByTagName("body")[0],p=document.createElement("script");t[c]=function(i){d.removeChild(p),delete t[c],"function"==typeof e&&e(null,i.html)},p.setAttribute("src",r),d.appendChild(p)}}});u.endPoints=[{regexp:/soundcloud\.com/i,url:function(t,e){var i=null;return i=t?"http://soundcloud.com/oembed?format=js&callback="+t+"&url="+encodeURIComponent(e.url):"http://soundcloud.com/oembed?format=json&url="+encodeURIComponent(e.url),e.width&&(i+="&maxwidth="+e.width),e.height&&(i+="&maxheight="+e.height),i}},{regexp:/vimeo\.com/i,url:function(t,e){var i=null;return i=t?"http://vimeo.com/api/oembed.json?callback="+t+"&url="+encodeURIComponent(e.url):"http://vimeo.com/api/oembed.json?url="+encodeURIComponent(e.url),e.width&&(i+="&width="+e.width),e.height&&(i+="&height="+e.height),i}},{regexp:/slideshare\.net/i,url:function(t,e){var i=null;return i=t?"http://www.slideshare.net/api/oembed/2?format=jsonp&callback="+t+"&url="+encodeURIComponent(e.url):"http://www.slideshare.net/api/oembed/2?url="+encodeURIComponent(e.url),e.width&&(i+="&maxwidth="+e.width),e.height&&(i+="&maxheight="+e.height),i}}],u.numCbName=0,u.cbName=function(){return"OEmbedCallBack"+u.numCbName++};var c=s.extend({initialize:function(t){this.url=t.url,this.width=t.width||500,this.height=t.height||281;var e=this.url.match(/youtube/gi),i=this.url.match(/vimeo/gi);t.html5&&e&&(this.url+=-1===this.url.indexOf("?")?"?html5=1":"&html5=1"),t.autoPlay&&(e||i)&&(this.url+=-1===this.url.indexOf("?")?"?autoplay=1":"&autoplay=1"),t.customPlayer&&e&&(this.url+=-1===this.url.indexOf("?")?"?controls=0":"&controls=0",this.callCustomPlayerBuilder=!0,this.options=t),t.playerAPI&&e&&(this.callScriptBuilder=!0,this.options=t)},toHtml:function(t){var e=function(){var t=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return"mediaplayerlib-"+t()+t()+t()};if(this.callScriptBuilder||this.callCustomPlayerBuilder){this.options.guid=e();var i="",n={},s=_.bind(function(e,s,o){e&&"function"==typeof t&&t(e,null,null),i+=s,i+='<iframe id="'+this.options.guid+'" src="'+this.url+'" width="'+this.width+'" height="'+this.height+'" frameborder="0"></iframe>',_(n).extend(o,{width:this.width,height:this.height}),"function"==typeof t&&t(null,i,n)},this),o=_.bind(function(t){var e=new d(this.options);e.toHtml(t)},this),r=_.bind(function(){var t=new p(this.options);t.toHtml(s)},this);this.callScriptBuilder&&this.callCustomPlayerBuilder?o(function(t,e,o){i=e,n=o,r(s)}):this.callScriptBuilder?o(s):this.callCustomPlayerBuilder&&r(s)}else{var a='<iframe src="'+this.url+'" width="'+this.width+'" height="'+this.height+'" frameborder="0"></iframe>';"function"==typeof t&&t(null,a,{width:this.width,height:this.height})}}}),d=s.extend({initialize:function(t){this.url=t.url,this.publisher=t.publisher,this.width=t.width||500,this.height=t.height||281,this.guid=t.guid,this.onYouTubeIframeAPIReady=t.onYouTubeIframeAPIReady},toHtml:function(t){var e=this.url||"",i="",n="",s=function(){var t=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return"mediaplayerlib-"+t()+t()+t()};n=this.guid||s(),"Ooyala"===this.publisher?(e+=(-1===e.indexOf("?")?"?":"&amp;")+"width="+encodeURIComponent(this.width)+"&amp;height="+encodeURIComponent(this.height),i='<div id="'+n+'"></div>'+'<script type="text/javascript">'+'document.getElementById("'+n+'").appendChild(document.createElement("script"));'+'window.ooyalaActiveScript = document.getElementById("'+n+'").firstChild;'+"</script>"+'<script type="text/javascript" src="'+e+'"></script>'):"Youtube"===this.publisher?(i='<script type="text/javascript">var tag = document.createElement("script");tag.src = "https://www.youtube.com/iframe_api";document.getElementById("'+n+'").parentNode.appendChild(tag);'+"</script>",this.onYouTubeIframeAPIReady&&(window.onYouTubeIframeAPIReady=this.onYouTubeIframeAPIReady(n))):i='<script type="text/javascript" src="'+e+'"></script>',"function"==typeof t&&t(null,i,{width:this.width,height:this.height})}}),p=s.extend({initialize:function(t){this.width=t.width||500,this.height=t.height||281,this.onKeydownCB=t.onKeydown,this.maskEvents=t.maskEvents,this.controlEvents=t.controlEvents,this.guid=t.guid,this.initDone=!1,console.log(this)},toHtml:function(t){var e='<div id="'+this.guid+'-events" class="video-mask js-video-mask" style="position:absolute; width:100%; height:100%">'+'<div class="video-controls js-video-controls">'+"</div>"+'<div class="video-spinner js-video-spinner">'+"</div>"+'<div class="video-timeline js-video-timeline" >'+'<div class="video-done js-video-done"></div>'+'<div class="video-undone"></div>'+"</div>"+"</div>";
"function"==typeof t&&t(null,e,{width:this.width,height:this.height,customPlayer:{init:_.bind(this.init,this),exit:_.bind(this.exit,this),setPlaying:_.bind(this.setPlaying,this),hideControls:_.bind(this.hideControls,this),showControls:_.bind(this.showControls,this),hideSpinner:_.bind(this.hideSpinner,this),showSpinner:_.bind(this.showSpinner,this),hideTimeline:_.bind(this.hideTimeline,this),showTimeline:_.bind(this.showTimeline,this),onVideoSeek:_.bind(this.onVideoSeek,this),guid:this.guid}})},init:function(){if(this.initDone)return this;this.initDone=!0;var t=function(t,e){var i=function(t,i){$("body").on(t,e,i)};for(var n in t)i(n,t[n])};return t(this.maskEvents,"#"+this.guid+"-events"),t(this.controlEvents,"#"+this.guid+"-events .js-video-controls"),this.onKeydownCB&&(this.onKeydown=_.bind(function(t){return this.onKeydownCB(t)},this),$("body").on("keydown",this.onKeydown)),this},exit:function(){var t=function(t,e){var i=function(t,i){$("body").off(t,e,i)};for(var n in t)i(n,t[n])};this.initDone&&(t(this.maskEvents,"#"+this.guid+"-events"),t(this.controlEvents,"#"+this.guid+"-events .js-video-controls"),this.onKeydown&&$("body").off("keydown",this.onKeydown))},setPlaying:function(t){t?$("#"+this.guid+"-events").removeClass("js-video-paused"):$("#"+this.guid+"-events").addClass("js-video-paused")},hideControls:function(t){return t("#"+this.guid+"-events .js-video-controls"),this},showControls:function(t){return t("#"+this.guid+"-events .js-video-controls"),this},hideSpinner:function(t){return t("#"+this.guid+"-events .js-video-spinner"),this},showSpinner:function(t){return t("#"+this.guid+"-events .js-video-spinner"),this},hideTimeline:function(t){return t("#"+this.guid+"-events .js-video-timeline"),this},showTimeline:function(t){return t("#"+this.guid+"-events .js-video-timeline"),this},onVideoSeek:function(t,e){return e>100&&(e=100),0>e&&(e=0),$("#"+this.guid+"-events .js-video-done").css("width",e+"%"),this}}),f=s.extend({toHtml:function(t){"function"==typeof t&&t(Error("Unknown media type."),"Unknown media type.")}}),m=function(){};e(m.prototype,{execute:function(t,e){return new f(e)}}),m.extend=function(t){var i=function(t){m.call(this,t)};return e(i.prototype,t),i};var g=m.extend({execute:function(t,s){var o,r=i(t)||{},l=n(r,s);if(e(s,l),"VideoObject"===r["@type"])if("iframe"===r.playerType)e(s,{url:r.embedURL,publisher:r.publisher?r.publisher.name:null}),o=new c(s);else if("script"===r.playerType)e(s,{url:r.embedURL,publisher:r.publisher?r.publisher.name:null}),o=new d(s);else if(r.contentURL){var h=null;r.image&&r.image.contentURL&&(h=r.image.contentURL),e(s,{poster:h,sources:[r.contentURL]}),o=new a(s)}return o||new f}}),v=m.extend({execute:function(t,s){var o,a=i(t)||{},h=n(a,s);if(e(s,h),"iframe"===a.playerType)e(s,{url:a.embedURL,html5:!0}),o=new c(s);else if("script"===a.playerType)e(s,{url:a.embedURL,html5:!0,publisher:a.publisher?a.publisher.name:null}),o=new d(s);else if("VideoObject"===a["@type"]){if(a.contentURL){var u=null;a.image&&(u=a.image.contentURL),e(s,{poster:u,sources:[a.contentURL]}),o=new r(s)}}else"AudioObject"===a["@type"]&&a.contentURL&&(e(s,{sources:[a.contentURL]}),o=new l(s));return o}}),y=m.extend({execute:function(t,s){var o=i(t)||{},r=n(o,s);e(s,r);var a;if("VideoObject"===t["@type"]){if(t.contentURL!==void 0){var l=null;o.image&&(l=o.image.contentURL),e(s,{poster:l,sources:[t.contentURL]}),a=new h(s)}}else"AudioObject"===t["@type"]&&t.contentURL!==void 0&&e(s,{sources:[t.contentURL]});return a}}),w=m.extend({execute:function(t,i){var n;return t.url!==void 0&&(e(i,{url:t.url}),n=new u(i)),n}}),b=function(){this.strategies={def:new g,html5:new v,mediaElement:new y,oembed:new w}};e(b.prototype,{resolve:function(t,e){e=e||{};var i;if(e.strategy!==void 0&&this.strategies[e.strategy]!==void 0){var n=this.strategies[e.strategy];i=n.execute(t,e)}return i||this.strategies.def.execute(t,e)},insertFragment:function(t,e){function i(t,e){e(t);for(var n in t.childNodes)i(t.childNodes[n],e)}function n(t){var e=t.text||t.textContent||t.innerHTML||"",i=t.getAttribute("src"),n=document.getElementsByTagName("head")[0]||document.documentElement,s=document.createElement("script");s.type="text/javascript",i&&s.setAttribute("src",i),e&&s.appendChild(document.createTextNode(e)),n.insertBefore(s,n.firstChild),t.parentNode&&t.parentNode.removeChild(t)}var s=null;s="[object String]"===Object.prototype.toString.call(e)?document.getElementById(e):e,s.innerHTML=(""+t).trim();var o=[],r=null;i(s,function(t){!t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||o.push(t)});for(r in o)n(o[r])},insert:function(t,e,i,n){var s=this;this.resolve(t,e).toHtml(function(t,e){s.insertFragment(e,i),"function"==typeof n&&n(null)})}}),"undefined"!=typeof Joshfire&&Joshfire.define!==void 0?Joshfire.define([],function(){return new b}):define!==void 0?define("joshfire-framework/utils/mediaplayerlib",[],function(){return new b}):t.mediaFactory=new b}("undefined"!=typeof module?module.exports:window),define("joshfire-framework/vendor/underscore",[],function(){return function(){var t=this,e=t._,i={},n=Array.prototype,s=Object.prototype,o=Function.prototype,r=n.push,a=n.slice,l=n.concat,h=s.toString,u=s.hasOwnProperty,c=n.forEach,d=n.map,p=n.reduce,f=n.reduceRight,m=n.filter,g=n.every,v=n.some,y=n.indexOf,w=n.lastIndexOf,b=Array.isArray,E=Object.keys,T=o.bind,C=function(t){return t instanceof C?t:this instanceof C?(this._wrapped=t,void 0):new C(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):t._=C,C.VERSION="1.4.4";var S=C.each=C.forEach=function(t,e,n){if(null!=t)if(c&&t.forEach===c)t.forEach(e,n);else if(t.length===+t.length){for(var s=0,o=t.length;o>s;s++)if(e.call(n,t[s],s,t)===i)return}else for(var r in t)if(C.has(t,r)&&e.call(n,t[r],r,t)===i)return};C.map=C.collect=function(t,e,i){var n=[];return null==t?n:d&&t.map===d?t.map(e,i):(S(t,function(t,s,o){n[n.length]=e.call(i,t,s,o)}),n)};var x="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,e,i,n){var s=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return n&&(e=C.bind(e,n)),s?t.reduce(e,i):t.reduce(e);if(S(t,function(t,o,r){s?i=e.call(n,i,t,o,r):(i=t,s=!0)}),!s)throw new TypeError(x);return i},C.reduceRight=C.foldr=function(t,e,i,n){var s=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return n&&(e=C.bind(e,n)),s?t.reduceRight(e,i):t.reduceRight(e);var o=t.length;if(o!==+o){var r=C.keys(t);o=r.length}if(S(t,function(a,l,h){l=r?r[--o]:--o,s?i=e.call(n,i,t[l],l,h):(i=t[l],s=!0)}),!s)throw new TypeError(x);return i},C.find=C.detect=function(t,e,i){var n;return _(t,function(t,s,o){return e.call(i,t,s,o)?(n=t,!0):void 0}),n},C.filter=C.select=function(t,e,i){var n=[];return null==t?n:m&&t.filter===m?t.filter(e,i):(S(t,function(t,s,o){e.call(i,t,s,o)&&(n[n.length]=t)}),n)},C.reject=function(t,e,i){return C.filter(t,function(t,n,s){return!e.call(i,t,n,s)},i)},C.every=C.all=function(t,e,n){e||(e=C.identity);var s=!0;return null==t?s:g&&t.every===g?t.every(e,n):(S(t,function(t,o,r){return(s=s&&e.call(n,t,o,r))?void 0:i}),!!s)};var _=C.some=C.any=function(t,e,n){e||(e=C.identity);var s=!1;return null==t?s:v&&t.some===v?t.some(e,n):(S(t,function(t,o,r){return s||(s=e.call(n,t,o,r))?i:void 0}),!!s)};C.contains=C.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):_(t,function(t){return t===e})},C.invoke=function(t,e){var i=a.call(arguments,2),n=C.isFunction(e);return C.map(t,function(t){return(n?e:t[e]).apply(t,i)})},C.pluck=function(t,e){return C.map(t,function(t){return t[e]})},C.where=function(t,e,i){return C.isEmpty(e)?i?null:[]:C[i?"find":"filter"](t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},C.findWhere=function(t,e){return C.where(t,e,!0)},C.max=function(t,e,i){if(!e&&C.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&C.isEmpty(t))return-1/0;var n={computed:-1/0,value:-1/0};return S(t,function(t,s,o){var r=e?e.call(i,t,s,o):t;r>=n.computed&&(n={value:t,computed:r})}),n.value},C.min=function(t,e,i){if(!e&&C.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&C.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return S(t,function(t,s,o){var r=e?e.call(i,t,s,o):t;n.computed>r&&(n={value:t,computed:r})}),n.value},C.shuffle=function(t){var e,i=0,n=[];return S(t,function(t){e=C.random(i++),n[i-1]=n[e],n[e]=t}),n};var D=function(t){return C.isFunction(t)?t:function(e){return e[t]}};C.sortBy=function(t,e,i){var n=D(e);return C.pluck(C.map(t,function(t,e,s){return{value:t,index:e,criteria:n.call(i,t,e,s)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index<e.index?-1:1}),"value")};var O=function(t,e,i,n){var s={},o=D(e||C.identity);return S(t,function(e,r){var a=o.call(i,e,r,t);n(s,a,e)}),s};C.groupBy=function(t,e,i){return O(t,e,i,function(t,e,i){(C.has(t,e)?t[e]:t[e]=[]).push(i)})},C.countBy=function(t,e,i){return O(t,e,i,function(t,e){C.has(t,e)||(t[e]=0),t[e]++})},C.sortedIndex=function(t,e,i,n){i=null==i?C.identity:D(i);for(var s=i.call(n,e),o=0,r=t.length;r>o;){var a=o+r>>>1;s>i.call(n,t[a])?o=a+1:r=a}return o},C.toArray=function(t){return t?C.isArray(t)?a.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:a.call(t,0,e)},C.initial=function(t,e,i){return a.call(t,0,t.length-(null==e||i?1:e))},C.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,i){return a.call(t,null==e||i?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var M=function(t,e,i){return S(t,function(t){C.isArray(t)?e?r.apply(i,t):M(t,e,i):i.push(t)}),i};C.flatten=function(t,e){return M(t,e,[])},C.without=function(t){return C.difference(t,a.call(arguments,1))},C.uniq=C.unique=function(t,e,i,n){C.isFunction(e)&&(n=i,i=e,e=!1);var s=i?C.map(t,i,n):t,o=[],r=[];return S(s,function(i,n){(e?n&&r[r.length-1]===i:C.contains(r,i))||(r.push(i),o.push(t[n]))}),o},C.union=function(){return C.uniq(l.apply(n,arguments))},C.intersection=function(t){var e=a.call(arguments,1);return C.filter(C.uniq(t),function(t){return C.every(e,function(e){return C.indexOf(e,t)>=0})})},C.difference=function(t){var e=l.apply(n,a.call(arguments,1));return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){for(var t=a.call(arguments),e=C.max(C.pluck(t,"length")),i=Array(e),n=0;e>n;n++)i[n]=C.pluck(t,""+n);return i},C.object=function(t,e){if(null==t)return{};for(var i={},n=0,s=t.length;s>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},C.indexOf=function(t,e,i){if(null==t)return-1;var n=0,s=t.length;if(i){if("number"!=typeof i)return n=C.sortedIndex(t,e),t[n]===e?n:-1;n=0>i?Math.max(0,s+i):i}if(y&&t.indexOf===y)return t.indexOf(e,i);for(;s>n;n++)if(t[n]===e)return n;return-1},C.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=null!=i;if(w&&t.lastIndexOf===w)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var s=n?i:t.length;s--;)if(t[s]===e)return s;return-1},C.range=function(t,e,i){1>=arguments.length&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),s=0,o=Array(n);n>s;)o[s++]=t,t+=i;return o},C.bind=function(t,e){if(t.bind===T&&T)return T.apply(t,a.call(arguments,1));var i=a.call(arguments,2);return function(){return t.apply(e,i.concat(a.call(arguments)))}},C.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},C.bindAll=function(t){var e=a.call(arguments,1);return 0===e.length&&(e=C.functions(t)),S(e,function(e){t[e]=C.bind(t[e],t)}),t},C.memoize=function(t,e){var i={};return e||(e=C.identity),function(){var n=e.apply(this,arguments);return C.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},C.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(a.call(arguments,1)))},C.throttle=function(t,e){var i,n,s,o,r=0,a=function(){r=new Date,s=null,o=t.apply(i,n)};return function(){var l=new Date,h=e-(l-r);return i=this,n=arguments,0>=h?(clearTimeout(s),s=null,r=l,o=t.apply(i,n)):s||(s=setTimeout(a,h)),o}},C.debounce=function(t,e,i){var n,s;return function(){var o=this,r=arguments,a=function(){n=null,i||(s=t.apply(o,r))},l=i&&!n;return clearTimeout(n),n=setTimeout(a,e),l&&(s=t.apply(o,r)),s}},C.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},C.wrap=function(t,e){return function(){var i=[t];return r.apply(i,arguments),e.apply(this,i)}},C.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},C.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},C.keys=E||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)C.has(t,i)&&(e[e.length]=i);return e},C.values=function(t){var e=[];for(var i in t)C.has(t,i)&&e.push(t[i]);return e},C.pairs=function(t){var e=[];for(var i in t)C.has(t,i)&&e.push([i,t[i]]);return e},C.invert=function(t){var e={};for(var i in t)C.has(t,i)&&(e[t[i]]=i);return e},C.functions=C.methods=function(t){var e=[];for(var i in t)C.isFunction(t[i])&&e.push(i);return e.sort()},C.extend=function(t){return S(a.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},C.pick=function(t){var e={},i=l.apply(n,a.call(arguments,1));return S(i,function(i){i in t&&(e[i]=t[i])}),e},C.omit=function(t){var e={},i=l.apply(n,a.call(arguments,1));for(var s in t)C.contains(i,s)||(e[s]=t[s]);return e},C.defaults=function(t){return S(a.call(arguments,1),function(e){if(e)for(var i in e)null==t[i]&&(t[i]=e[i])}),t},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var j=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var s=h.call(t);if(s!=h.call(e))return!1;switch(s){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=i.length;o--;)if(i[o]==t)return n[o]==e;i.push(t),n.push(e);var r=0,a=!0;if("[object Array]"==s){if(r=t.length,a=r==e.length)for(;r--&&(a=j(t[r],e[r],i,n)););}else{var l=t.constructor,u=e.constructor;if(l!==u&&!(C.isFunction(l)&&l instanceof l&&C.isFunction(u)&&u instanceof u))return!1;for(var c in t)if(C.has(t,c)&&(r++,!(a=C.has(e,c)&&j(t[c],e[c],i,n))))break;if(a){for(c in e)if(C.has(e,c)&&!r--)break;a=!r}}return i.pop(),n.pop(),a};C.isEqual=function(t,e){return j(t,e,[],[])},C.isEmpty=function(t){if(null==t)return!0;if(C.isArray(t)||C.isString(t))return 0===t.length;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=b||function(t){return"[object Array]"==h.call(t)},C.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){C["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return!(!t||!C.has(t,"callee"))}),C.isFunction=function(t){return"function"==typeof t},C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return u.call(t,e)},C.noConflict=function(){return t._=e,this},C.identity=function(t){return t},C.times=function(t,e,i){for(var n=Array(t),s=0;t>s;s++)n[s]=e.call(i,s);return n},C.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};N.unescape=C.invert(N.escape);var I={escape:RegExp("["+C.keys(N.escape).join("")+"]","g"),unescape:RegExp("("+C.keys(N.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(t){C[t]=function(e){return null==e?"":(""+e).replace(I[t],function(e){return N[t][e]})}}),C.result=function(t,e){if(null==t)return null;var i=t[e];return C.isFunction(i)?i.call(t):i},C.mixin=function(t){S(C.functions(t),function(e){var i=C[e]=t[e];C.prototype[e]=function(){var t=[this._wrapped];return r.apply(t,arguments),H.call(this,i.apply(C,t))}})};var L=0;C.uniqueId=function(t){var e=++L+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var k=/(.)^/,A={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(t,e,i){var n;i=C.defaults({},i,C.templateSettings);var s=RegExp([(i.escape||k).source,(i.interpolate||k).source,(i.evaluate||k).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(s,function(e,i,n,s,a){return r+=t.slice(o,a).replace(P,function(t){return"\\"+A[t]}),i&&(r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(r+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),s&&(r+="';\n"+s+"\n__p+='"),o=a+e.length,e}),r+="';\n",i.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{n=Function(i.variable||"obj","_",r)}catch(a){throw a.source=r,a}if(e)return n(e,C);var l=function(t){return n.call(this,t,C)};return l.source="function("+(i.variable||"obj")+"){\n"+r+"}",l},C.chain=function(t){return C(t).chain()};var H=function(t){return this._chain?C(t).chain():t};C.mixin(C),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];C.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],H.call(this,i)}}),S(["concat","join","slice"],function(t){var e=n[t];C.prototype[t]=function(){return H.call(this,e.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?exports:exports._:this._}),function(t,e){function i(t){var e,i,n=H[t]={};for(t=t.split(/\s+/),e=0,i=t.length;i>e;e++)n[t[e]]=!0;return n}function n(t,i,n){if(n===e&&1===t.nodeType){var s="data-"+i.replace(F,"-$1").toLowerCase();if(n=t.getAttribute(s),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:P.isNumeric(n)?parseFloat(n):R.test(n)?P.parseJSON(n):n}catch(o){}P.data(t,i,n)}else n=e}return n}function s(t){for(var e in t)if(("data"!==e||!P.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function o(t,e,i){var n=e+"defer",s=e+"queue",o=e+"mark",r=P._data(t,n);!r||"queue"!==i&&P._data(t,s)||"mark"!==i&&P._data(t,o)||setTimeout(function(){P._data(t,s)||P._data(t,o)||(P.removeData(t,n,!0),r.fire())},0)}function r(){return!1}function a(){return!0}function l(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function h(t,e,i){if(e=e||0,P.isFunction(e))return P.grep(t,function(t,n){var s=!!e.call(t,n,t);return s===i});if(e.nodeType)return P.grep(t,function(t){return t===e===i});if("string"==typeof e){var n=P.grep(t,function(t){return 1===t.nodeType});if(ce.test(e))return P.filter(e,n,!i);e=P.filter(e,n)}return P.grep(t,function(t){return P.inArray(t,e)>=0===i})}function u(t){var e=me.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function c(t){return P.nodeName(t,"table")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t,e){if(1===e.nodeType&&P.hasData(t)){var i,n,s,o=P._data(t),r=P._data(e,o),a=o.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,s=a[i].length;s>n;n++)P.event.add(e,i+(a[i][n].namespace?".":"")+a[i][n].namespace,a[i][n],a[i][n].data)}r.data&&(r.data=P.extend({},r.data))}}function p(t,e){var i;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),i=e.nodeName.toLowerCase(),"object"===i?e.outerHTML=t.outerHTML:"input"!==i||"checkbox"!==t.type&&"radio"!==t.type?"option"===i?e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue):(t.checked&&(e.defaultChecked=e.checked=t.checked),e.value!==t.value&&(e.value=t.value)),e.removeAttribute(P.expando))}function f(t){return t.getElementsByTagName!==e?t.getElementsByTagName("*"):t.querySelectorAll!==e?t.querySelectorAll("*"):[]}function m(t){("checkbox"===t.type||"radio"===t.type)&&(t.defaultChecked=t.checked)}function g(t){var i=(t.nodeName||"").toLowerCase();"input"===i?m(t):"script"!==i&&t.getElementsByTagName!==e&&P.grep(t.getElementsByTagName("input"),m)}function v(t){var e=L.createElement("div");return Me.appendChild(e),e.innerHTML=t.outerHTML,e.firstChild}function y(t,e){e.src?P.ajax({url:e.src,async:!1,dataType:"script"}):P.globalEval((e.text||e.textContent||e.innerHTML||"").replace(De,"/*$0*/")),e.parentNode&&e.parentNode.removeChild(e)}function w(t,e,i){var n="width"===e?t.offsetWidth:t.offsetHeight,s="width"===e?Fe:Ue,o=0,r=s.length;if(n>0){if("border"!==i)for(;r>o;o++)i||(n-=parseFloat(P.css(t,"padding"+s[o]))||0),"margin"===i?n+=parseFloat(P.css(t,i+s[o]))||0:n-=parseFloat(P.css(t,"border"+s[o]+"Width"))||0;return n+"px"}if(n=je(t,e,e),(0>n||null==n)&&(n=t.style[e]||0),n=parseFloat(n)||0,i)for(;r>o;o++)n+=parseFloat(P.css(t,"padding"+s[o]))||0,"padding"!==i&&(n+=parseFloat(P.css(t,"border"+s[o]+"Width"))||0),"margin"===i&&(n+=parseFloat(P.css(t,i+s[o]))||0);return n+"px"}function b(t){return function(e,i){if("string"!=typeof e&&(i=e,e="*"),P.isFunction(i))for(var n,s,o,r=e.toLowerCase().split(ii),a=0,l=r.length;l>a;a++)n=r[a],o=/^\+/.test(n),o&&(n=n.substr(1)||"*"),s=t[n]=t[n]||[],s[o?"unshift":"push"](i)}}function E(t,i,n,s,o,r){o=o||i.dataTypes[0],r=r||{},r[o]=!0;for(var a,l=t[o],h=0,u=l?l.length:0,c=t===ri;u>h&&(c||!a);h++)a=l[h](i,n,s),"string"==typeof a&&(!c||r[a]?a=e:(i.dataTypes.unshift(a),a=E(t,i,n,s,a,r)));return!c&&a||r["*"]||(a=E(t,i,n,s,"*",r)),a}function T(t,i){var n,s,o=P.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((o[n]?t:s||(s={}))[n]=i[n]);s&&P.extend(!0,t,s)}function C(t,e,i,n){if(P.isArray(e))P.each(e,function(e,s){i||We.test(t)?n(t,s):C(t+"["+("object"==typeof s||P.isArray(s)?e:"")+"]",s,i,n)});else if(i||null==e||"object"!=typeof e)n(t,e);else for(var s in e)C(t+"["+s+"]",e[s],i,n)}function S(t,i,n){var s,o,r,a,l=t.contents,h=t.dataTypes,u=t.responseFields;for(o in u)o in n&&(i[u[o]]=n[o]);for(;"*"===h[0];)h.shift(),s===e&&(s=t.mimeType||i.getResponseHeader("content-type"));if(s)for(o in l)if(l[o]&&l[o].test(s)){h.unshift(o);break}if(h[0]in n)r=h[0];else{for(o in n){if(!h[0]||t.converters[o+" "+h[0]]){r=o;break}a||(a=o)}r=r||a}return r?(r!==h[0]&&h.unshift(r),n[r]):e}function x(t,i){t.dataFilter&&(i=t.dataFilter(i,t.dataType));var n,s,o,r,a,l,h,u,c=t.dataTypes,d={},p=c.length,f=c[0];for(n=1;p>n;n++){if(1===n)for(s in t.converters)"string"==typeof s&&(d[s.toLowerCase()]=t.converters[s]);if(r=f,f=c[n],"*"===f)f=r;else if("*"!==r&&r!==f){if(a=r+" "+f,l=d[a]||d["* "+f],!l){u=e;for(h in d)if(o=h.split(" "),(o[0]===r||"*"===o[0])&&(u=d[o[1]+" "+f])){h=d[h],h===!0?l=u:u===!0&&(l=h);break}}l||u||P.error("No conversion from "+a.replace(" "," to ")),l!==!0&&(i=l?l(i):u(h(i)))}}return i}function _(){try{return new t.XMLHttpRequest}catch(e){}}function D(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function O(){return setTimeout(M,0),yi=P.now()}function M(){yi=e}function j(t,e){var i={};return P.each(Ti.concat.apply([],Ti.slice(0,e)),function(){i[this]=t}),i}function N(t){if(!wi[t]){var e=L.body,i=P("<"+t+">").appendTo(e),n=i.css("display");i.remove(),("none"===n||""===n)&&(mi||(mi=L.createElement("iframe"),mi.frameBorder=mi.width=mi.height=0),e.appendChild(mi),gi&&mi.createElement||(gi=(mi.contentWindow||mi.contentDocument).document,gi.write(("CSS1Compat"===L.compatMode?"<!doctype html>":"")+"<html><body>"),gi.close()),i=gi.createElement(t),gi.body.appendChild(i),n=P.css(i,"display"),e.removeChild(mi)),wi[t]=n}return wi[t]}function I(t){return P.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var L=t.document,k=t.navigator,A=t.location,P=function(){function i(){if(!a.isReady){try{L.documentElement.doScroll("left")}catch(t){return setTimeout(i,1),e}a.ready()}}var n,s,o,r,a=function(t,e){return new a.fn.init(t,e,n)},l=t.jQuery,h=t.$,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,c=/\S/,d=/^\s+/,p=/\s+$/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,w=/(webkit)[ \/]([\w.]+)/,b=/(opera)(?:.*version)?[ \/]([\w.]+)/,E=/(msie) ([\w.]+)/,T=/(mozilla)(?:.*? rv:([\w.]+))?/,C=/-([a-z]|[0-9])/gi,S=/^-ms-/,x=function(t,e){return(e+"").toUpperCase()},_=k.userAgent,D=Object.prototype.toString,O=Object.prototype.hasOwnProperty,M=Array.prototype.push,j=Array.prototype.slice,N=String.prototype.trim,I=Array.prototype.indexOf,A={};return a.fn=a.prototype={constructor:a,init:function(t,i,n){var s,o,r,l;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("body"===t&&!i&&L.body)return this.context=L,this[0]=L.body,this.selector=t,this.length=1,this;if("string"==typeof t){if(s="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:u.exec(t),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(s[1])return i=i instanceof a?i[0]:i,l=i?i.ownerDocument||i:L,r=f.exec(t),r?a.isPlainObject(i)?(t=[L.createElement(r[1])],a.fn.attr.call(t,i,!0)):t=[l.createElement(r[1])]:(r=a.buildFragment([s[1]],[l]),t=(r.cacheable?a.clone(r.fragment):r.fragment).childNodes),a.merge(this,t);if(o=L.getElementById(s[2]),o&&o.parentNode){if(o.id!==s[2])return n.find(t);this.length=1,this[0]=o}return this.context=L,this.selector=t,this}return a.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),a.makeArray(t,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return j.call(this,0)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,i){var n=this.constructor();return a.isArray(t)?M.apply(n,t):a.merge(n,t),n.prevObject=this,n.context=this.context,"find"===e?n.selector=this.selector+(this.selector?" ":"")+i:e&&(n.selector=this.selector+"."+e+"("+i+")"),n},each:function(t,e){return a.each(this,t,e)},ready:function(t){return a.bindReady(),o.add(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(j.apply(this,arguments),"slice",j.call(arguments).join(","))},map:function(t){return this.pushStack(a.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:M,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a.extend=a.fn.extend=function(){var t,i,n,s,o,r,l=arguments[0]||{},h=1,u=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},h=2),"object"==typeof l||a.isFunction(l)||(l={}),u===h&&(l=this,--h);u>h;h++)if(null!=(t=arguments[h]))for(i in t)n=l[i],s=t[i],l!==s&&(c&&s&&(a.isPlainObject(s)||(o=a.isArray(s)))?(o?(o=!1,r=n&&a.isArray(n)?n:[]):r=n&&a.isPlainObject(n)?n:{},l[i]=a.extend(c,r,s)):s!==e&&(l[i]=s));return l},a.extend({noConflict:function(e){return t.$===a&&(t.$=h),e&&t.jQuery===a&&(t.jQuery=l),a},isReady:!1,readyWait:1,holdReady:function(t){t?a.readyWait++:a.ready(!0)},ready:function(t){if(t===!0&&!--a.readyWait||t!==!0&&!a.isReady){if(!L.body)return setTimeout(a.ready,1);if(a.isReady=!0,t!==!0&&--a.readyWait>0)return;o.fireWith(L,[a]),a.fn.trigger&&a(L).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=a.Callbacks("once memory"),"complete"===L.readyState)return setTimeout(a.ready,1);if(L.addEventListener)L.addEventListener("DOMContentLoaded",r,!1),t.addEventListener("load",a.ready,!1);else if(L.attachEvent){L.attachEvent("onreadystatechange",r),t.attachEvent("onload",a.ready);var e=!1;try{e=null==t.frameElement}catch(n){}L.documentElement.doScroll&&e&&i()}}},isFunction:function(t){return"function"===a.type(t)},isArray:Array.isArray||function(t){return"array"===a.type(t)},isWindow:function(t){return t&&"object"==typeof t&&"setInterval"in t},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":A[D.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==a.type(t)||t.nodeType||a.isWindow(t))return!1;try{if(t.constructor&&!O.call(t,"constructor")&&!O.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in t);return n===e||O.call(t,n)},isEmptyObject:function(t){for(var e in t)return!1;return!0},error:function(t){throw Error(t)},parseJSON:function(i){return"string"==typeof i&&i?(i=a.trim(i),t.JSON&&t.JSON.parse?t.JSON.parse(i):m.test(i.replace(g,"@").replace(v,"]").replace(y,""))?Function("return "+i)():(a.error("Invalid JSON: "+i),e)):null},parseXML:function(i){var n,s;try{t.DOMParser?(s=new DOMParser,n=s.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(o){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||a.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&c.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(S,"ms-").replace(C,x)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,i,n){var s,o=0,r=t.length,l=r===e||a.isFunction(t);if(n)if(l){for(s in t)if(i.apply(t[s],n)===!1)break}else for(;r>o&&i.apply(t[o++],n)!==!1;);else if(l){for(s in t)if(i.call(t[s],s,t[s])===!1)break}else for(;r>o&&i.call(t[o],o,t[o++])!==!1;);return t},trim:N?function(t){return null==t?"":N.call(t)}:function(t){return null==t?"":(""+t).replace(d,"").replace(p,"")},makeArray:function(t,e){var i=e||[];if(null!=t){var n=a.type(t);null==t.length||"string"===n||"function"===n||"regexp"===n||a.isWindow(t)?M.call(i,t):a.merge(i,t)}return i},inArray:function(t,e,i){var n;if(e){if(I)return I.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=t.length,s=0;if("number"==typeof i.length)for(var o=i.length;o>s;s++)t[n++]=i[s];else for(;i[s]!==e;)t[n++]=i[s++];return t.length=n,t},grep:function(t,e,i){var n,s=[];i=!!i;for(var o=0,r=t.length;r>o;o++)n=!!e(t[o],o),i!==n&&s.push(t[o]);return s},map:function(t,i,n){var s,o,r=[],l=0,h=t.length,u=t instanceof a||h!==e&&"number"==typeof h&&(h>0&&t[0]&&t[h-1]||0===h||a.isArray(t));if(u)for(;h>l;l++)s=i(t[l],l,n),null!=s&&(r[r.length]=s);else for(o in t)s=i(t[o],o,n),null!=s&&(r[r.length]=s);return r.concat.apply([],r)},guid:1,proxy:function(t,i){if("string"==typeof i){var n=t[i];i=t,t=n}if(!a.isFunction(t))return e;var s=j.call(arguments,2),o=function(){return t.apply(i,s.concat(j.call(arguments)))};return o.guid=t.guid=t.guid||o.guid||a.guid++,o},access:function(t,i,n,s,o,r){var l=t.length;if("object"==typeof i){for(var h in i)a.access(t,h,i[h],s,o,n);return t}if(n!==e){s=!r&&s&&a.isFunction(n);for(var u=0;l>u;u++)o(t[u],i,s?n.call(t[u],u,o(t[u],i)):n,r);return t}return l?o(t[0],i):e},now:function(){return(new Date).getTime()},uaMatch:function(t){t=t.toLowerCase();var e=w.exec(t)||b.exec(t)||E.exec(t)||0>t.indexOf("compatible")&&T.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}
},sub:function(){function t(e,i){return new t.fn.init(e,i)}a.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){return n&&n instanceof a&&!(n instanceof t)&&(n=t(n)),a.fn.init.call(this,i,n,e)},t.fn.init.prototype=t.fn;var e=t(L);return t},browser:{}}),a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){A["[object "+e+"]"]=e.toLowerCase()}),s=a.uaMatch(_),s.browser&&(a.browser[s.browser]=!0,a.browser.version=s.version),a.browser.webkit&&(a.browser.safari=!0),c.test(" ")&&(d=/^[\s\xA0]+/,p=/[\s\xA0]+$/),n=a(L),L.addEventListener?r=function(){L.removeEventListener("DOMContentLoaded",r,!1),a.ready()}:L.attachEvent&&(r=function(){"complete"===L.readyState&&(L.detachEvent("onreadystatechange",r),a.ready())}),a}(),H={};P.Callbacks=function(t){t=t?H[t]||i(t):{};var n,s,o,r,a,l=[],h=[],u=function(e){var i,n,s,o;for(i=0,n=e.length;n>i;i++)s=e[i],o=P.type(s),"array"===o?u(s):"function"===o&&(t.unique&&d.has(s)||l.push(s))},c=function(e,i){for(i=i||[],n=!t.memory||[e,i],s=!0,a=o||0,o=0,r=l.length;l&&r>a;a++)if(l[a].apply(e,i)===!1&&t.stopOnFalse){n=!0;break}s=!1,l&&(t.once?n===!0?d.disable():l=[]:h&&h.length&&(n=h.shift(),d.fireWith(n[0],n[1])))},d={add:function(){if(l){var t=l.length;u(arguments),s?r=l.length:n&&n!==!0&&(o=t,c(n[0],n[1]))}return this},remove:function(){if(l)for(var e=arguments,i=0,n=e.length;n>i;i++)for(var o=0;l.length>o&&(e[i]!==l[o]||(s&&r>=o&&(r--,a>=o&&a--),l.splice(o--,1),!t.unique));o++);return this},has:function(t){if(l)for(var e=0,i=l.length;i>e;e++)if(t===l[e])return!0;return!1},empty:function(){return l=[],this},disable:function(){return l=h=n=e,this},disabled:function(){return!l},lock:function(){return h=e,n&&n!==!0||d.disable(),this},locked:function(){return!h},fireWith:function(e,i){return h&&(s?t.once||h.push([e,i]):t.once&&n||c(e,i)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d};var B=[].slice;P.extend({Deferred:function(t){var e,i=P.Callbacks("once memory"),n=P.Callbacks("once memory"),s=P.Callbacks("memory"),o="pending",r={resolve:i,reject:n,notify:s},a={done:i.add,fail:n.add,progress:s.add,state:function(){return o},isResolved:i.fired,isRejected:n.fired,then:function(t,e,i){return l.done(t).fail(e).progress(i),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(t,e,i){return P.Deferred(function(n){P.each({done:[t,"resolve"],fail:[e,"reject"],progress:[i,"notify"]},function(t,e){var i,s=e[0],o=e[1];P.isFunction(s)?l[t](function(){i=s.apply(this,arguments),i&&P.isFunction(i.promise)?i.promise().then(n.resolve,n.reject,n.notify):n[o+"With"](this===l?n:this,[i])}):l[t](n[o])})}).promise()},promise:function(t){if(null==t)t=a;else for(var e in a)t[e]=a[e];return t}},l=a.promise({});for(e in r)l[e]=r[e].fire,l[e+"With"]=r[e].fireWith;return l.done(function(){o="resolved"},n.disable,s.lock).fail(function(){o="rejected"},i.disable,s.lock),t&&t.call(l,l),l},when:function(t){function e(t){return function(e){n[t]=arguments.length>1?B.call(arguments,0):e,--a||l.resolveWith(l,n)}}function i(t){return function(e){r[t]=arguments.length>1?B.call(arguments,0):e,l.notifyWith(h,r)}}var n=B.call(arguments,0),s=0,o=n.length,r=Array(o),a=o,l=1>=o&&t&&P.isFunction(t.promise)?t:P.Deferred(),h=l.promise();if(o>1){for(;o>s;s++)n[s]&&n[s].promise&&P.isFunction(n[s].promise)?n[s].promise().then(e(s),l.reject,i(s)):--a;a||l.resolveWith(l,n)}else l!==t&&l.resolveWith(l,o?[t]:[]);return h}}),P.support=function(){var i,n,s,o,r,a,l,h,u,c,d,p,f=L.createElement("div");if(L.documentElement,f.setAttribute("className","t"),f.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*"),s=f.getElementsByTagName("a")[0],!n||!n.length||!s)return{};o=L.createElement("select"),r=o.appendChild(L.createElement("option")),a=f.getElementsByTagName("input")[0],i={leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:"/a"===s.getAttribute("href"),opacity:/^0.55/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:"on"===a.value,optSelected:r.selected,getSetAttribute:"t"!==f.className,enctype:!!L.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==L.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},a.checked=!0,i.noCloneChecked=a.cloneNode(!0).checked,o.disabled=!0,i.optDisabled=!r.disabled;try{delete f.test}catch(m){i.deleteExpando=!1}if(!f.addEventListener&&f.attachEvent&&f.fireEvent&&(f.attachEvent("onclick",function(){i.noCloneEvent=!1}),f.cloneNode(!0).fireEvent("onclick")),a=L.createElement("input"),a.value="t",a.setAttribute("type","radio"),i.radioValue="t"===a.value,a.setAttribute("checked","checked"),f.appendChild(a),h=L.createDocumentFragment(),h.appendChild(f.lastChild),i.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,i.appendChecked=a.checked,h.removeChild(a),h.appendChild(f),f.innerHTML="",t.getComputedStyle&&(l=L.createElement("div"),l.style.width="0",l.style.marginRight="0",f.style.width="2px",f.appendChild(l),i.reliableMarginRight=0===(parseInt((t.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)),f.attachEvent)for(d in{submit:1,change:1,focusin:1})c="on"+d,p=c in f,p||(f.setAttribute(c,"return;"),p="function"==typeof f[c]),i[d+"Bubbles"]=p;return h.removeChild(f),h=o=r=l=f=a=null,P(function(){var t,n,s,o,r,a,l,h,c,d,m=L.getElementsByTagName("body")[0];m&&(a=1,l="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",h="visibility:hidden;border:0;",c="style='"+l+"border:5px solid #000;padding:0;'",d="<div "+c+"><div></div></div>"+"<table "+c+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",t=L.createElement("div"),t.style.cssText=h+"width:0;height:0;position:static;top:0;margin-top:"+a+"px",m.insertBefore(t,m.firstChild),f=L.createElement("div"),t.appendChild(f),f.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",u=f.getElementsByTagName("td"),p=0===u[0].offsetHeight,u[0].style.display="",u[1].style.display="none",i.reliableHiddenOffsets=p&&0===u[0].offsetHeight,f.innerHTML="",f.style.width=f.style.paddingLeft="1px",P.boxModel=i.boxModel=2===f.offsetWidth,f.style.zoom!==e&&(f.style.display="inline",f.style.zoom=1,i.inlineBlockNeedsLayout=2===f.offsetWidth,f.style.display="",f.innerHTML="<div style='width:4px;'></div>",i.shrinkWrapBlocks=2!==f.offsetWidth),f.style.cssText=l+h,f.innerHTML=d,n=f.firstChild,s=n.firstChild,o=n.nextSibling.firstChild.firstChild,r={doesNotAddBorder:5!==s.offsetTop,doesAddBorderForTableAndCells:5===o.offsetTop},s.style.position="fixed",s.style.top="20px",r.fixedPosition=20===s.offsetTop||15===s.offsetTop,s.style.position=s.style.top="",n.style.overflow="hidden",n.style.position="relative",r.subtractsBorderForOverflowNotVisible=-5===s.offsetTop,r.doesNotIncludeMarginInBodyOffset=m.offsetTop!==a,m.removeChild(t),f=t=null,P.extend(i,r))}),i}();var R=/^(?:\{.*\}|\[.*\])$/,F=/([A-Z])/g;P.extend({cache:{},uuid:0,expando:"jQuery"+(P.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?P.cache[t[P.expando]]:t[P.expando],!!t&&!s(t)},data:function(t,i,n,s){if(P.acceptData(t)){var o,r,a,l=P.expando,h="string"==typeof i,u=t.nodeType,c=u?P.cache:t,d=u?t[l]:t[l]&&l,p="events"===i;if(d&&c[d]&&(p||s||c[d].data)||!h||n!==e)return d||(u?t[l]=d=++P.uuid:d=l),c[d]||(c[d]={},u||(c[d].toJSON=P.noop)),("object"==typeof i||"function"==typeof i)&&(s?c[d]=P.extend(c[d],i):c[d].data=P.extend(c[d].data,i)),o=r=c[d],s||(r.data||(r.data={}),r=r.data),n!==e&&(r[P.camelCase(i)]=n),p&&!r[i]?o.events:(h?(a=r[i],null==a&&(a=r[P.camelCase(i)])):a=r,a)}},removeData:function(t,e,i){if(P.acceptData(t)){var n,o,r,a=P.expando,l=t.nodeType,h=l?P.cache:t,u=l?t[a]:a;if(h[u]){if(e&&(n=i?h[u]:h[u].data)){P.isArray(e)||(e in n?e=[e]:(e=P.camelCase(e),e=e in n?[e]:e.split(" ")));for(o=0,r=e.length;r>o;o++)delete n[e[o]];if(!(i?s:P.isEmptyObject)(n))return}(i||(delete h[u].data,s(h[u])))&&(P.support.deleteExpando||!h.setInterval?delete h[u]:h[u]=null,l&&(P.support.deleteExpando?delete t[a]:t.removeAttribute?t.removeAttribute(a):t[a]=null))}}},_data:function(t,e,i){return P.data(t,e,i,!0)},acceptData:function(t){if(t.nodeName){var e=P.noData[t.nodeName.toLowerCase()];if(e)return!(e===!0||t.getAttribute("classid")!==e)}return!0}}),P.fn.extend({data:function(t,i){var s,o,r,a=null;if(t===e){if(this.length&&(a=P.data(this[0]),1===this[0].nodeType&&!P._data(this[0],"parsedAttrs"))){o=this[0].attributes;for(var l=0,h=o.length;h>l;l++)r=o[l].name,0===r.indexOf("data-")&&(r=P.camelCase(r.substring(5)),n(this[0],r,a[r]));P._data(this[0],"parsedAttrs",!0)}return a}return"object"==typeof t?this.each(function(){P.data(this,t)}):(s=t.split("."),s[1]=s[1]?"."+s[1]:"",i===e?(a=this.triggerHandler("getData"+s[1]+"!",[s[0]]),a===e&&this.length&&(a=P.data(this[0],t),a=n(this[0],t,a)),a===e&&s[1]?this.data(s[0]):a):this.each(function(){var e=P(this),n=[s[0],i];e.triggerHandler("setData"+s[1]+"!",n),P.data(this,t,i),e.triggerHandler("changeData"+s[1]+"!",n)}))},removeData:function(t){return this.each(function(){P.removeData(this,t)})}}),P.extend({_mark:function(t,e){t&&(e=(e||"fx")+"mark",P._data(t,e,(P._data(t,e)||0)+1))},_unmark:function(t,e,i){if(t!==!0&&(i=e,e=t,t=!1),e){i=i||"fx";var n=i+"mark",s=t?0:(P._data(e,n)||1)-1;s?P._data(e,n,s):(P.removeData(e,n,!0),o(e,i,"mark"))}},queue:function(t,i,n){var s;return t?(i=(i||"fx")+"queue",s=P._data(t,i),n&&(!s||P.isArray(n)?s=P._data(t,i,P.makeArray(n)):s.push(n)),s||[]):e},dequeue:function(t,e){e=e||"fx";var i=P.queue(t,e),n=i.shift(),s={};"inprogress"===n&&(n=i.shift()),n&&("fx"===e&&i.unshift("inprogress"),P._data(t,e+".run",s),n.call(t,function(){P.dequeue(t,e)},s)),i.length||(P.removeData(t,e+"queue "+e+".run",!0),o(t,e,"queue"))}}),P.fn.extend({queue:function(t,i){return"string"!=typeof t&&(i=t,t="fx"),i===e?P.queue(this[0],t):this.each(function(){var e=P.queue(this,t,i);"fx"===t&&"inprogress"!==e[0]&&P.dequeue(this,t)})},dequeue:function(t){return this.each(function(){P.dequeue(this,t)})},delay:function(t,e){return t=P.fx?P.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){function n(){--l||o.resolveWith(r,[r])}"string"!=typeof t&&(i=t,t=e),t=t||"fx";for(var s,o=P.Deferred(),r=this,a=r.length,l=1,h=t+"defer",u=t+"queue",c=t+"mark";a--;)(s=P.data(r[a],h,e,!0)||(P.data(r[a],u,e,!0)||P.data(r[a],c,e,!0))&&P.data(r[a],h,P.Callbacks("once memory"),!0))&&(l++,s.add(n));return n(),o.promise()}});var U,V,z,$=/[\n\t\r]/g,W=/\s+/,q=/\r/g,K=/^(?:button|input)$/i,Y=/^(?:button|input|object|select|textarea)$/i,X=/^a(?:rea)?$/i,Z=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,J=P.support.getSetAttribute;P.fn.extend({attr:function(t,e){return P.access(this,t,e,!0,P.attr)},removeAttr:function(t){return this.each(function(){P.removeAttr(this,t)})},prop:function(t,e){return P.access(this,t,e,!0,P.prop)},removeProp:function(t){return t=P.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,s,o,r,a;if(P.isFunction(t))return this.each(function(e){P(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(W),i=0,n=this.length;n>i;i++)if(s=this[i],1===s.nodeType)if(s.className||1!==e.length){for(o=" "+s.className+" ",r=0,a=e.length;a>r;r++)~o.indexOf(" "+e[r]+" ")||(o+=e[r]+" ");s.className=P.trim(o)}else s.className=t;return this},removeClass:function(t){var i,n,s,o,r,a,l;if(P.isFunction(t))return this.each(function(e){P(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(i=(t||"").split(W),n=0,s=this.length;s>n;n++)if(o=this[n],1===o.nodeType&&o.className)if(t){for(r=(" "+o.className+" ").replace($," "),a=0,l=i.length;l>a;a++)r=r.replace(" "+i[a]+" "," ");o.className=P.trim(r)}else o.className="";return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return P.isFunction(t)?this.each(function(i){P(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var s,o=0,r=P(this),a=e,l=t.split(W);s=l[o++];)a=n?a:!r.hasClass(s),r[a?"addClass":"removeClass"](s);else("undefined"===i||"boolean"===i)&&(this.className&&P._data(this,"__className__",this.className),this.className=this.className||t===!1?"":P._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace($," ").indexOf(e)>-1)return!0;return!1},val:function(t){var i,n,s,o=this[0];{if(arguments.length)return s=P.isFunction(t),this.each(function(n){var o,r=P(this);1===this.nodeType&&(o=s?t.call(this,n,r.val()):t,null==o?o="":"number"==typeof o?o+="":P.isArray(o)&&(o=P.map(o,function(t){return null==t?"":t+""})),i=P.valHooks[this.nodeName.toLowerCase()]||P.valHooks[this.type],i&&"set"in i&&i.set(this,o,"value")!==e||(this.value=o))});if(o)return i=P.valHooks[o.nodeName.toLowerCase()]||P.valHooks[o.type],i&&"get"in i&&(n=i.get(o,"value"))!==e?n:(n=o.value,"string"==typeof n?n.replace(q,""):null==n?"":n)}}}),P.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,i,n,s,o=t.selectedIndex,r=[],a=t.options,l="select-one"===t.type;if(0>o)return null;for(i=l?o:0,n=l?o+1:a.length;n>i;i++)if(s=a[i],!(!s.selected||(P.support.optDisabled?s.disabled:null!==s.getAttribute("disabled"))||s.parentNode.disabled&&P.nodeName(s.parentNode,"optgroup"))){if(e=P(s).val(),l)return e;r.push(e)}return l&&!r.length&&a.length?P(a[o]).val():r},set:function(t,e){var i=P.makeArray(e);return P(t).find("option").each(function(){this.selected=P.inArray(P(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(t,i,n,s){var o,r,a,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return s&&i in P.attrFn?P(t)[i](n):t.getAttribute===e?P.prop(t,i,n):(a=1!==l||!P.isXMLDoc(t),a&&(i=i.toLowerCase(),r=P.attrHooks[i]||(Z.test(i)?V:U)),n!==e?null===n?(P.removeAttr(t,i),e):r&&"set"in r&&a&&(o=r.set(t,n,i))!==e?o:(t.setAttribute(i,""+n),n):r&&"get"in r&&a&&null!==(o=r.get(t,i))?o:(o=t.getAttribute(i),null===o?e:o))},removeAttr:function(t,e){var i,n,s,o,r=0;if(e&&1===t.nodeType)for(n=e.toLowerCase().split(W),o=n.length;o>r;r++)s=n[r],s&&(i=P.propFix[s]||s,P.attr(t,s,""),t.removeAttribute(J?s:i),Z.test(s)&&i in t&&(t[i]=!1))},attrHooks:{type:{set:function(t,e){if(K.test(t.nodeName)&&t.parentNode)P.error("type property can't be changed");else if(!P.support.radioValue&&"radio"===e&&P.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}},value:{get:function(t,e){return U&&P.nodeName(t,"button")?U.get(t,e):e in t?t.value:null},set:function(t,i,n){return U&&P.nodeName(t,"button")?U.set(t,i,n):(t.value=i,e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var s,o,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return r=1!==a||!P.isXMLDoc(t),r&&(i=P.propFix[i]||i,o=P.propHooks[i]),n!==e?o&&"set"in o&&(s=o.set(t,n,i))!==e?s:t[i]=n:o&&"get"in o&&null!==(s=o.get(t,i))?s:t[i]},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Y.test(t.nodeName)||X.test(t.nodeName)&&t.href?0:e}}}}),P.attrHooks.tabindex=P.propHooks.tabIndex,V={get:function(t,i){var n,s=P.prop(t,i);return s===!0||"boolean"!=typeof s&&(n=t.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():e},set:function(t,e,i){var n;return e===!1?P.removeAttr(t,i):(n=P.propFix[i]||i,n in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},J||(z={name:!0,id:!0},U=P.valHooks.button={get:function(t,i){var n;return n=t.getAttributeNode(i),n&&(z[i]?""!==n.nodeValue:n.specified)?n.nodeValue:e},set:function(t,e,i){var n=t.getAttributeNode(i);return n||(n=L.createAttribute(i),t.setAttributeNode(n)),n.nodeValue=e+""}},P.attrHooks.tabindex.set=U.set,P.each(["width","height"],function(t,i){P.attrHooks[i]=P.extend(P.attrHooks[i],{set:function(t,n){return""===n?(t.setAttribute(i,"auto"),n):e}})}),P.attrHooks.contenteditable={get:U.get,set:function(t,e,i){""===e&&(e="false"),U.set(t,e,i)}}),P.support.hrefNormalized||P.each(["href","src","width","height"],function(t,i){P.attrHooks[i]=P.extend(P.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return null===n?e:n}})}),P.support.style||(P.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=""+e}}),P.support.optSelected||(P.propHooks.selected=P.extend(P.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),P.support.enctype||(P.propFix.enctype="encoding"),P.support.checkOn||P.each(["radio","checkbox"],function(){P.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]=P.extend(P.valHooks[this],{set:function(t,i){return P.isArray(i)?t.checked=P.inArray(P(t).val(),i)>=0:e}})});var G=/^(?:textarea|input|select)$/i,Q=/^([^\.]*)?(?:\.(.+))?$/,te=/\bhover(\.\S+)?\b/,ee=/^key/,ie=/^(?:mouse|contextmenu)|click/,ne=/^(?:focusinfocus|focusoutblur)$/,se=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,oe=function(t){var e=se.exec(t);return e&&(e[1]=(e[1]||"").toLowerCase(),e[3]=e[3]&&RegExp("(?:^|\\s)"+e[3]+"(?:\\s|$)")),e},re=function(t,e){var i=t.attributes||{};return!(e[1]&&t.nodeName.toLowerCase()!==e[1]||e[2]&&(i.id||{}).value!==e[2]||e[3]&&!e[3].test((i["class"]||{}).value))},ae=function(t){return P.event.special.hover?t:t.replace(te,"mouseenter$1 mouseleave$1")};P.event={add:function(t,i,n,s,o){var r,a,l,h,u,c,d,p,f,m,g;if(3!==t.nodeType&&8!==t.nodeType&&i&&n&&(r=P._data(t))){for(n.handler&&(f=n,n=f.handler),n.guid||(n.guid=P.guid++),l=r.events,l||(r.events=l={}),a=r.handle,a||(r.handle=a=function(t){return P===e||t&&P.event.triggered===t.type?e:P.event.dispatch.apply(a.elem,arguments)},a.elem=t),i=P.trim(ae(i)).split(" "),h=0;i.length>h;h++)u=Q.exec(i[h])||[],c=u[1],d=(u[2]||"").split(".").sort(),g=P.event.special[c]||{},c=(o?g.delegateType:g.bindType)||c,g=P.event.special[c]||{},p=P.extend({type:c,origType:u[1],data:s,handler:n,guid:n.guid,selector:o,quick:oe(o),namespace:d.join(".")},f),m=l[c],m||(m=l[c]=[],m.delegateCount=0,g.setup&&g.setup.call(t,s,d,a)!==!1||(t.addEventListener?t.addEventListener(c,a,!1):t.attachEvent&&t.attachEvent("on"+c,a))),g.add&&(g.add.call(t,p),p.handler.guid||(p.handler.guid=n.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),P.event.global[c]=!0;t=null}},global:{},remove:function(t,e,i,n,s){var o,r,a,l,h,u,c,d,p,f,m,g,v=P.hasData(t)&&P._data(t);if(v&&(d=v.events)){for(e=P.trim(ae(e||"")).split(" "),o=0;e.length>o;o++)if(r=Q.exec(e[o])||[],a=l=r[1],h=r[2],a){for(p=P.event.special[a]||{},a=(n?p.delegateType:p.bindType)||a,m=d[a]||[],u=m.length,h=h?RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,c=0;m.length>c;c++)g=m[c],!s&&l!==g.origType||i&&i.guid!==g.guid||h&&!h.test(g.namespace)||n&&n!==g.selector&&("**"!==n||!g.selector)||(m.splice(c--,1),g.selector&&m.delegateCount--,p.remove&&p.remove.call(t,g));0===m.length&&u!==m.length&&(p.teardown&&p.teardown.call(t,h)!==!1||P.removeEvent(t,a,v.handle),delete d[a])}else for(a in d)P.event.remove(t,a+e[o],i,n,!0);P.isEmptyObject(d)&&(f=v.handle,f&&(f.elem=null),P.removeData(t,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,s,o){if(!s||3!==s.nodeType&&8!==s.nodeType){var r,a,l,h,u,c,d,p,f,m,g=i.type||i,v=[];if(!ne.test(g+P.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),s&&!P.event.customEvent[g]||P.event.global[g]))if(i="object"==typeof i?i[P.expando]?i:new P.Event(g,i):new P.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=a,i.namespace=v.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,c=0>g.indexOf(":")?"on"+g:"",s){if(i.result=e,i.target||(i.target=s),n=null!=n?P.makeArray(n):[],n.unshift(i),d=P.event.special[g]||{},!d.trigger||d.trigger.apply(s,n)!==!1){if(f=[[s,d.bindType||g]],!o&&!d.noBubble&&!P.isWindow(s)){for(m=d.delegateType||g,h=ne.test(m+g)?s:s.parentNode,u=null;h;h=h.parentNode)f.push([h,m]),u=h;u&&u===s.ownerDocument&&f.push([u.defaultView||u.parentWindow||t,m])}for(l=0;f.length>l&&!i.isPropagationStopped();l++)h=f[l][0],i.type=f[l][1],p=(P._data(h,"events")||{})[i.type]&&P._data(h,"handle"),p&&p.apply(h,n),p=c&&h[c],p&&P.acceptData(h)&&p.apply(h,n)===!1&&i.preventDefault();return i.type=g,o||i.isDefaultPrevented()||d._default&&d._default.apply(s.ownerDocument,n)!==!1||"click"===g&&P.nodeName(s,"a")||!P.acceptData(s)||c&&s[g]&&("focus"!==g&&"blur"!==g||0!==i.target.offsetWidth)&&!P.isWindow(s)&&(u=s[c],u&&(s[c]=null),P.event.triggered=g,s[g](),P.event.triggered=e,u&&(s[c]=u)),i.result}}else{r=P.cache;for(l in r)r[l].events&&r[l].events[g]&&P.event.trigger(i,n,r[l].handle.elem,!0)}}},dispatch:function(i){i=P.event.fix(i||t.event);var n,s,o,r,a,l,h,u,c,d,p=(P._data(this,"events")||{})[i.type]||[],f=p.delegateCount,m=[].slice.call(arguments,0),g=!i.exclusive&&!i.namespace,v=[];if(m[0]=i,i.delegateTarget=this,f&&!i.target.disabled&&(!i.button||"click"!==i.type))for(r=P(this),r.context=this.ownerDocument||this,o=i.target;o!=this;o=o.parentNode||this){for(l={},u=[],r[0]=o,n=0;f>n;n++)c=p[n],d=c.selector,l[d]===e&&(l[d]=c.quick?re(o,c.quick):r.is(d)),l[d]&&u.push(c);u.length&&v.push({elem:o,matches:u})}for(p.length>f&&v.push({elem:this,matches:p.slice(f)}),n=0;v.length>n&&!i.isPropagationStopped();n++)for(h=v[n],i.currentTarget=h.elem,s=0;h.matches.length>s&&!i.isImmediatePropagationStopped();s++)c=h.matches[s],(g||!i.namespace&&!c.namespace||i.namespace_re&&i.namespace_re.test(c.namespace))&&(i.data=c.data,i.handleObj=c,a=((P.event.special[c.origType]||{}).handle||c.handler).apply(h.elem,m),a!==e&&(i.result=a,a===!1&&(i.preventDefault(),i.stopPropagation())));return i.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,s,o,r=i.button,a=i.fromElement;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||L,s=n.documentElement,o=n.body,t.pageX=i.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),t.pageY=i.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?i.toElement:a),t.which||r===e||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[P.expando])return t;var i,n,s=t,o=P.event.fixHooks[t.type]||{},r=o.props?this.props.concat(o.props):this.props;for(t=P.Event(s),i=r.length;i;)n=r[--i],t[n]=s[n];return t.target||(t.target=s.srcElement||L),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey===e&&(t.metaKey=t.ctrlKey),o.filter?o.filter(t,s):t},special:{ready:{setup:P.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,i){P.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,i,n){var s=P.extend(new P.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?P.event.trigger(s,null,e):P.event.dispatch.call(e,s),s.isDefaultPrevented()&&i.preventDefault()}},P.event.handle=P.event.dispatch,P.removeEvent=L.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){t.detachEvent&&t.detachEvent("on"+e,i)},P.Event=function(t,i){return this instanceof P.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?a:r):this.type=t,i&&P.extend(this,i),this.timeStamp=t&&t.timeStamp||P.now(),this[P.expando]=!0,e):new P.Event(t,i)},P.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},P.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){P.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,o=t.handleObj;return o.selector,(!s||s!==n&&!P.contains(n,s))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),P.support.submitBubbles||(P.event.special.submit={setup:function(){return P.nodeName(this,"form")?!1:(P.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=P.nodeName(i,"input")||P.nodeName(i,"button")?i.form:e;n&&!n._submit_attached&&(P.event.add(n,"submit._submit",function(t){this.parentNode&&!t.isTrigger&&P.event.simulate("submit",this.parentNode,t,!0)}),n._submit_attached=!0)}),e)},teardown:function(){return P.nodeName(this,"form")?!1:(P.event.remove(this,"._submit"),e)}}),P.support.changeBubbles||(P.event.special.change={setup:function(){return G.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(P.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),P.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1,P.event.simulate("change",this,t,!0))})),!1):(P.event.add(this,"beforeactivate._change",function(t){var e=t.target;G.test(e.nodeName)&&!e._change_attached&&(P.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||P.event.simulate("change",this.parentNode,t,!0)}),e._change_attached=!0)}),e)},handle:function(t){var i=t.target;return this!==i||t.isSimulated||t.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?t.handleObj.handler.apply(this,arguments):e},teardown:function(){return P.event.remove(this,"._change"),G.test(this.nodeName)}}),P.support.focusinBubbles||P.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){P.event.simulate(e,t.target,P.event.fix(t),!0)};P.event.special[e]={setup:function(){0===i++&&L.addEventListener(t,n,!0)},teardown:function(){0===--i&&L.removeEventListener(t,n,!0)}}}),P.fn.extend({on:function(t,i,n,s,o){var a,l;if("object"==typeof t){"string"!=typeof i&&(n=i,i=e);for(l in t)this.on(l,i,n,t[l],o);return this}if(null==n&&null==s?(s=i,n=i=e):null==s&&("string"==typeof i?(s=n,n=e):(s=n,n=i,i=e)),s===!1)s=r;else if(!s)return this;return 1===o&&(a=s,s=function(t){return P().off(t),a.apply(this,arguments)},s.guid=a.guid||(a.guid=P.guid++)),this.each(function(){P.event.add(this,t,s,n,i)})},one:function(t,e,i,n){return this.on.call(this,t,e,i,n,1)},off:function(t,i,n){if(t&&t.preventDefault&&t.handleObj){var s=t.handleObj;return P(t.delegateTarget).off(s.namespace?s.type+"."+s.namespace:s.type,s.selector,s.handler),this}if("object"==typeof t){for(var o in t)this.off(o,i,t[o]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=r),this.each(function(){P.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,i){return P(this.context).on(t,this.selector,e,i),this},die:function(t,e){return P(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1==arguments.length?this.off(t,"**"):this.off(e,t,i)},trigger:function(t,e){return this.each(function(){P.event.trigger(t,e,this)})},triggerHandler:function(t,i){return this[0]?P.event.trigger(t,i,this[0],!0):e},toggle:function(t){var e=arguments,i=t.guid||P.guid++,n=0,s=function(i){var s=(P._data(this,"lastToggle"+t.guid)||0)%n;return P._data(this,"lastToggle"+t.guid,s+1),i.preventDefault(),e[s].apply(this,arguments)||!1};for(s.guid=i;e.length>n;)e[n++].guid=i;return this.click(s)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),P.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){P.fn[e]=function(t,i){return null==i&&(i=t,t=null),arguments.length>0?this.on(e,null,t,i):this.trigger(e)},P.attrFn&&(P.attrFn[e]=!0),ee.test(e)&&(P.event.fixHooks[e]=P.event.keyHooks),ie.test(e)&&(P.event.fixHooks[e]=P.event.mouseHooks)}),function(){function t(t,e,i,n,o,r){for(var a=0,l=n.length;l>a;a++){var h=n[a];if(h){var u=!1;for(h=h[t];h;){if(h[s]===i){u=n[h.sizset];break}if(1!==h.nodeType||r||(h[s]=i,h.sizset=a),h.nodeName.toLowerCase()===e){u=h;break}h=h[t]}n[a]=u}}}function i(t,e,i,n,o,r){for(var a=0,l=n.length;l>a;a++){var h=n[a];if(h){var u=!1;for(h=h[t];h;){if(h[s]===i){u=n[h.sizset];break}if(1===h.nodeType)if(r||(h[s]=i,h.sizset=a),"string"!=typeof e){if(h===e){u=!0;break}}else if(d.filter(e,[h]).length>0){u=h;break}h=h[t]}n[a]=u}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,s="sizcache"+(Math.random()+"").replace(".",""),o=0,r=Object.prototype.toString,a=!1,l=!0,h=/\\/g,u=/\r\n/g,c=/\W/;[0,0].sort(function(){return l=!1,0});var d=function(t,e,i,s){i=i||[],e=e||L;var o=e;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!t||"string"!=typeof t)return i;var a,l,h,u,c,p,g,v,w=!0,b=d.isXML(e),E=[],C=t;do if(n.exec(""),a=n.exec(C),a&&(C=a[3],E.push(a[1]),a[2])){u=a[3];break}while(a);if(E.length>1&&m.exec(t))if(2===E.length&&f.relative[E[0]])l=T(E[0]+E[1],e,s);else for(l=f.relative[E[0]]?[e]:d(E.shift(),e);E.length;)t=E.shift(),f.relative[t]&&(t+=E.shift()),l=T(t,l,s);else if(!s&&E.length>1&&9===e.nodeType&&!b&&f.match.ID.test(E[0])&&!f.match.ID.test(E[E.length-1])&&(c=d.find(E.shift(),e,b),e=c.expr?d.filter(c.expr,c.set)[0]:c.set[0]),e)for(c=s?{expr:E.pop(),set:y(s)}:d.find(E.pop(),1!==E.length||"~"!==E[0]&&"+"!==E[0]||!e.parentNode?e:e.parentNode,b),l=c.expr?d.filter(c.expr,c.set):c.set,E.length>0?h=y(l):w=!1;E.length;)p=E.pop(),g=p,f.relative[p]?g=E.pop():p="",null==g&&(g=e),f.relative[p](h,g,b);else h=E=[];if(h||(h=l),h||d.error(p||t),"[object Array]"===r.call(h))if(w)if(e&&1===e.nodeType)for(v=0;null!=h[v];v++)h[v]&&(h[v]===!0||1===h[v].nodeType&&d.contains(e,h[v]))&&i.push(l[v]);else for(v=0;null!=h[v];v++)h[v]&&1===h[v].nodeType&&i.push(l[v]);else i.push.apply(i,h);else y(h,i);return u&&(d(u,o,i,s),d.uniqueSort(i)),i};d.uniqueSort=function(t){if(b&&(a=l,t.sort(b),a))for(var e=1;t.length>e;e++)t[e]===t[e-1]&&t.splice(e--,1);return t},d.matches=function(t,e){return d(t,null,null,e)},d.matchesSelector=function(t,e){return d(e,null,null,[t]).length>0
},d.find=function(t,i,n){var s,o,r,a,l,u;if(!t)return[];for(o=0,r=f.order.length;r>o;o++)if(l=f.order[o],(a=f.leftMatch[l].exec(t))&&(u=a[1],a.splice(1,1),"\\"!==u.substr(u.length-1)&&(a[1]=(a[1]||"").replace(h,""),s=f.find[l](a,i,n),null!=s))){t=t.replace(f.match[l],"");break}return s||(s=i.getElementsByTagName!==e?i.getElementsByTagName("*"):[]),{set:s,expr:t}},d.filter=function(t,i,n,s){for(var o,r,a,l,h,u,c,p,m,g=t,v=[],y=i,w=i&&i[0]&&d.isXML(i[0]);t&&i.length;){for(a in f.filter)if(null!=(o=f.leftMatch[a].exec(t))&&o[2]){if(u=f.filter[a],c=o[1],r=!1,o.splice(1,1),"\\"===c.substr(c.length-1))continue;if(y===v&&(v=[]),f.preFilter[a])if(o=f.preFilter[a](o,y,n,v,s,w)){if(o===!0)continue}else r=l=!0;if(o)for(p=0;null!=(h=y[p]);p++)h&&(l=u(h,o,p,y),m=s^l,n&&null!=l?m?r=!0:y[p]=!1:m&&(v.push(h),r=!0));if(l!==e){if(n||(y=v),t=t.replace(f.match[a],""),!r)return[];break}}if(t===g){if(null!=r)break;d.error(t)}g=t}return y},d.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)};var p=d.getText=function(t){var e,i,n=t.nodeType,s="";if(n){if(1===n||9===n){if("string"==typeof t.textContent)return t.textContent;if("string"==typeof t.innerText)return t.innerText.replace(u,"");for(t=t.firstChild;t;t=t.nextSibling)s+=p(t)}else if(3===n||4===n)return t.nodeValue}else for(e=0;i=t[e];e++)8!==i.nodeType&&(s+=p(i));return s},f=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")},type:function(t){return t.getAttribute("type")}},relative:{"+":function(t,e){var i="string"==typeof e,n=i&&!c.test(e),s=i&&!n;n&&(e=e.toLowerCase());for(var o,r=0,a=t.length;a>r;r++)if(o=t[r]){for(;(o=o.previousSibling)&&1!==o.nodeType;);t[r]=s||o&&o.nodeName.toLowerCase()===e?o||!1:o===e}s&&d.filter(e,t,!0)},">":function(t,e){var i,n="string"==typeof e,s=0,o=t.length;if(n&&!c.test(e)){for(e=e.toLowerCase();o>s;s++)if(i=t[s]){var r=i.parentNode;t[s]=r.nodeName.toLowerCase()===e?r:!1}}else{for(;o>s;s++)i=t[s],i&&(t[s]=n?i.parentNode:i.parentNode===e);n&&d.filter(e,t,!0)}},"":function(e,n,s){var r,a=o++,l=i;"string"!=typeof n||c.test(n)||(n=n.toLowerCase(),r=n,l=t),l("parentNode",n,a,e,r,s)},"~":function(e,n,s){var r,a=o++,l=i;"string"!=typeof n||c.test(n)||(n=n.toLowerCase(),r=n,l=t),l("previousSibling",n,a,e,r,s)}},find:{ID:function(t,i,n){if(i.getElementById!==e&&!n){var s=i.getElementById(t[1]);return s&&s.parentNode?[s]:[]}},NAME:function(t,i){if(i.getElementsByName!==e){for(var n=[],s=i.getElementsByName(t[1]),o=0,r=s.length;r>o;o++)s[o].getAttribute("name")===t[1]&&n.push(s[o]);return 0===n.length?null:n}},TAG:function(t,i){return i.getElementsByTagName!==e?i.getElementsByTagName(t[1]):e}},preFilter:{CLASS:function(t,e,i,n,s,o){if(t=" "+t[1].replace(h,"")+" ",o)return t;for(var r,a=0;null!=(r=e[a]);a++)r&&(s^(r.className&&(" "+r.className+" ").replace(/[\t\n\r]/g," ").indexOf(t)>=0)?i||n.push(r):i&&(e[a]=!1));return!1},ID:function(t){return t[1].replace(h,"")},TAG:function(t){return t[1].replace(h,"").toLowerCase()},CHILD:function(t){if("nth"===t[1]){t[2]||d.error(t[0]),t[2]=t[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===t[2]&&"2n"||"odd"===t[2]&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=e[1]+(e[2]||1)-0,t[3]=e[3]-0}else t[2]&&d.error(t[0]);return t[0]=o++,t},ATTR:function(t,e,i,n,s,o){var r=t[1]=t[1].replace(h,"");return!o&&f.attrMap[r]&&(t[1]=f.attrMap[r]),t[4]=(t[4]||t[5]||"").replace(h,""),"~="===t[2]&&(t[4]=" "+t[4]+" "),t},PSEUDO:function(t,e,i,s,o){if("not"===t[1]){if(!((n.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var r=d.filter(t[3],e,i,!0^o);return i||s.push.apply(s,r),!1}t[3]=d(t[3],null,null,e)}else if(f.match.POS.test(t[0])||f.match.CHILD.test(t[0]))return!0;return t},POS:function(t){return t.unshift(!0),t}},filters:{enabled:function(t){return t.disabled===!1&&"hidden"!==t.type},disabled:function(t){return t.disabled===!0},checked:function(t){return t.checked===!0},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,e,i){return!!d(i[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){var e=t.getAttribute("type"),i=t.type;return"input"===t.nodeName.toLowerCase()&&"text"===i&&(e===i||null===e)},radio:function(t){return"input"===t.nodeName.toLowerCase()&&"radio"===t.type},checkbox:function(t){return"input"===t.nodeName.toLowerCase()&&"checkbox"===t.type},file:function(t){return"input"===t.nodeName.toLowerCase()&&"file"===t.type},password:function(t){return"input"===t.nodeName.toLowerCase()&&"password"===t.type},submit:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"submit"===t.type},image:function(t){return"input"===t.nodeName.toLowerCase()&&"image"===t.type},reset:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"reset"===t.type},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)},focus:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e){return 0===e},last:function(t,e,i,n){return e===n.length-1},even:function(t,e){return 0===e%2},odd:function(t,e){return 1===e%2},lt:function(t,e,i){return i[3]-0>e},gt:function(t,e,i){return e>i[3]-0},nth:function(t,e,i){return i[3]-0===e},eq:function(t,e,i){return i[3]-0===e}},filter:{PSEUDO:function(t,e,i,n){var s=e[1],o=f.filters[s];if(o)return o(t,i,e,n);if("contains"===s)return(t.textContent||t.innerText||p([t])||"").indexOf(e[3])>=0;if("not"===s){for(var r=e[3],a=0,l=r.length;l>a;a++)if(r[a]===t)return!1;return!0}d.error(s)},CHILD:function(t,e){var i,n,o,r,a,l,h=e[1],u=t;switch(h){case"only":case"first":for(;u=u.previousSibling;)if(1===u.nodeType)return!1;if("first"===h)return!0;u=t;case"last":for(;u=u.nextSibling;)if(1===u.nodeType)return!1;return!0;case"nth":if(i=e[2],n=e[3],1===i&&0===n)return!0;if(o=e[0],r=t.parentNode,r&&(r[s]!==o||!t.nodeIndex)){for(a=0,u=r.firstChild;u;u=u.nextSibling)1===u.nodeType&&(u.nodeIndex=++a);r[s]=o}return l=t.nodeIndex-n,0===i?0===l:0===l%i&&l/i>=0}},ID:function(t,e){return 1===t.nodeType&&t.getAttribute("id")===e},TAG:function(t,e){return"*"===e&&1===t.nodeType||!!t.nodeName&&t.nodeName.toLowerCase()===e},CLASS:function(t,e){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(t,e){var i=e[1],n=d.attr?d.attr(t,i):f.attrHandle[i]?f.attrHandle[i](t):null!=t[i]?t[i]:t.getAttribute(i),s=n+"",o=e[2],r=e[4];return null==n?"!="===o:!o&&d.attr?null!=n:"="===o?s===r:"*="===o?s.indexOf(r)>=0:"~="===o?(" "+s+" ").indexOf(r)>=0:r?"!="===o?s!==r:"^="===o?0===s.indexOf(r):"$="===o?s.substr(s.length-r.length)===r:"|="===o?s===r||s.substr(0,r.length+1)===r+"-":!1:s&&n!==!1},POS:function(t,i,n,s){var o=i[2],r=f.setFilters[o];return r?r(t,n,i,s):e}}},m=f.match.POS,g=function(t,e){return"\\"+(e-0+1)};for(var v in f.match)f.match[v]=RegExp(f.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),f.leftMatch[v]=RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[v].source.replace(/\\(\d+)/g,g));var y=function(t,e){return t=Array.prototype.slice.call(t,0),e?(e.push.apply(e,t),e):t};try{Array.prototype.slice.call(L.documentElement.childNodes,0)[0].nodeType}catch(w){y=function(t,e){var i=0,n=e||[];if("[object Array]"===r.call(t))Array.prototype.push.apply(n,t);else if("number"==typeof t.length)for(var s=t.length;s>i;i++)n.push(t[i]);else for(;t[i];i++)n.push(t[i]);return n}}var b,E;L.documentElement.compareDocumentPosition?b=function(t,e){return t===e?(a=!0,0):t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e)?-1:1:t.compareDocumentPosition?-1:1}:(b=function(t,e){if(t===e)return a=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var i,n,s=[],o=[],r=t.parentNode,l=e.parentNode,h=r;if(r===l)return E(t,e);if(!r)return-1;if(!l)return 1;for(;h;)s.unshift(h),h=h.parentNode;for(h=l;h;)o.unshift(h),h=h.parentNode;i=s.length,n=o.length;for(var u=0;i>u&&n>u;u++)if(s[u]!==o[u])return E(s[u],o[u]);return u===i?E(t,o[u],-1):E(s[u],e,1)},E=function(t,e,i){if(t===e)return i;for(var n=t.nextSibling;n;){if(n===e)return-1;n=n.nextSibling}return 1}),function(){var t=L.createElement("div"),i="script"+(new Date).getTime(),n=L.documentElement;t.innerHTML="<a name='"+i+"'/>",n.insertBefore(t,n.firstChild),L.getElementById(i)&&(f.find.ID=function(t,i,n){if(i.getElementById!==e&&!n){var s=i.getElementById(t[1]);return s?s.id===t[1]||s.getAttributeNode!==e&&s.getAttributeNode("id").nodeValue===t[1]?[s]:e:[]}},f.filter.ID=function(t,i){var n=t.getAttributeNode!==e&&t.getAttributeNode("id");return 1===t.nodeType&&n&&n.nodeValue===i}),n.removeChild(t),n=t=null}(),function(){var t=L.createElement("div");t.appendChild(L.createComment("")),t.getElementsByTagName("*").length>0&&(f.find.TAG=function(t,e){var i=e.getElementsByTagName(t[1]);if("*"===t[1]){for(var n=[],s=0;i[s];s++)1===i[s].nodeType&&n.push(i[s]);i=n}return i}),t.innerHTML="<a href='#'></a>",t.firstChild&&t.firstChild.getAttribute!==e&&"#"!==t.firstChild.getAttribute("href")&&(f.attrHandle.href=function(t){return t.getAttribute("href",2)}),t=null}(),L.querySelectorAll&&function(){var t=d,e=L.createElement("div"),i="__sizzle__";if(e.innerHTML="<p class='TEST'></p>",!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){d=function(e,n,s,o){if(n=n||L,!o&&!d.isXML(n)){var r=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(r&&(1===n.nodeType||9===n.nodeType)){if(r[1])return y(n.getElementsByTagName(e),s);if(r[2]&&f.find.CLASS&&n.getElementsByClassName)return y(n.getElementsByClassName(r[2]),s)}if(9===n.nodeType){if("body"===e&&n.body)return y([n.body],s);if(r&&r[3]){var a=n.getElementById(r[3]);if(!a||!a.parentNode)return y([],s);if(a.id===r[3])return y([a],s)}try{return y(n.querySelectorAll(e),s)}catch(l){}}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var h=n,u=n.getAttribute("id"),c=u||i,p=n.parentNode,m=/^\s*[+~]/.test(e);u?c=c.replace(/'/g,"\\$&"):n.setAttribute("id",c),m&&p&&(n=n.parentNode);try{if(!m||p)return y(n.querySelectorAll("[id='"+c+"'] "+e),s)}catch(g){}finally{u||h.removeAttribute("id")}}}return t(e,n,s,o)};for(var n in t)d[n]=t[n];e=null}}(),function(){var t=L.documentElement,e=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector;if(e){var i=!e.call(L.createElement("div"),"div"),n=!1;try{e.call(L.documentElement,"[test!='']:sizzle")}catch(s){n=!0}d.matchesSelector=function(t,s){if(s=s.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(t))try{if(n||!f.match.PSEUDO.test(s)&&!/!=/.test(s)){var o=e.call(t,s);if(o||!i||t.document&&11!==t.document.nodeType)return o}}catch(r){}return d(s,null,null,[t]).length>0}}}(),function(){var t=L.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>",t.getElementsByClassName&&0!==t.getElementsByClassName("e").length&&(t.lastChild.className="e",1!==t.getElementsByClassName("e").length&&(f.order.splice(1,0,"CLASS"),f.find.CLASS=function(t,i,n){return i.getElementsByClassName===e||n?e:i.getElementsByClassName(t[1])},t=null))}(),d.contains=L.documentElement.contains?function(t,e){return t!==e&&(t.contains?t.contains(e):!0)}:L.documentElement.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:function(){return!1},d.isXML=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1};var T=function(t,e,i){for(var n,s=[],o="",r=e.nodeType?[e]:e;n=f.match.PSEUDO.exec(t);)o+=n[0],t=t.replace(f.match.PSEUDO,"");t=f.relative[t]?t+"*":t;for(var a=0,l=r.length;l>a;a++)d(t,r[a],s,i);return d.filter(o,s)};d.attr=P.attr,d.selectors.attrMap={},P.find=d,P.expr=d.selectors,P.expr[":"]=P.expr.filters,P.unique=d.uniqueSort,P.text=d.getText,P.isXMLDoc=d.isXML,P.contains=d.contains}();var le=/Until$/,he=/^(?:parents|prevUntil|prevAll)/,ue=/,/,ce=/^.[^:#\[\.,]*$/,de=Array.prototype.slice,pe=P.expr.match.POS,fe={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({find:function(t){var e,i,n=this;if("string"!=typeof t)return P(t).filter(function(){for(e=0,i=n.length;i>e;e++)if(P.contains(n[e],this))return!0});var s,o,r,a=this.pushStack("","find",t);for(e=0,i=this.length;i>e;e++)if(s=a.length,P.find(t,this[e],a),e>0)for(o=s;a.length>o;o++)for(r=0;s>r;r++)if(a[r]===a[o]){a.splice(o--,1);break}return a},has:function(t){var e=P(t);return this.filter(function(){for(var t=0,i=e.length;i>t;t++)if(P.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(h(this,t,!1),"not",t)},filter:function(t){return this.pushStack(h(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?pe.test(t)?P(t,this.context).index(this[0])>=0:P.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){var i,n,s=[],o=this[0];if(P.isArray(t)){for(var r=1;o&&o.ownerDocument&&o!==e;){for(i=0;t.length>i;i++)P(o).is(t[i])&&s.push({selector:t[i],elem:o,level:r});o=o.parentNode,r++}return s}var a=pe.test(t)||"string"!=typeof t?P(t,e||this.context):0;for(i=0,n=this.length;n>i;i++)for(o=this[i];o;){if(a?a.index(o)>-1:P.find.matchesSelector(o,t)){s.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===e||11===o.nodeType)break}return s=s.length>1?P.unique(s):s,this.pushStack(s,"closest",t)},index:function(t){return t?"string"==typeof t?P.inArray(this[0],P(t)):P.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var i="string"==typeof t?P(t,e):P.makeArray(t&&t.nodeType?[t]:t),n=P.merge(this.get(),i);return this.pushStack(l(i[0])||l(n[0])?n:P.unique(n))},andSelf:function(){return this.add(this.prevObject)}}),P.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return P.dir(t,"parentNode")},parentsUntil:function(t,e,i){return P.dir(t,"parentNode",i)},next:function(t){return P.nth(t,2,"nextSibling")},prev:function(t){return P.nth(t,2,"previousSibling")},nextAll:function(t){return P.dir(t,"nextSibling")},prevAll:function(t){return P.dir(t,"previousSibling")},nextUntil:function(t,e,i){return P.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return P.dir(t,"previousSibling",i)},siblings:function(t){return P.sibling(t.parentNode.firstChild,t)},children:function(t){return P.sibling(t.firstChild)},contents:function(t){return P.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:P.makeArray(t.childNodes)}},function(t,e){P.fn[t]=function(i,n){var s=P.map(this,e,i);return le.test(t)||(n=i),n&&"string"==typeof n&&(s=P.filter(n,s)),s=this.length>1&&!fe[t]?P.unique(s):s,(this.length>1||ue.test(n))&&he.test(t)&&(s=s.reverse()),this.pushStack(s,t,de.call(arguments).join(","))}}),P.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?P.find.matchesSelector(e[0],t)?[e[0]]:[]:P.find.matches(t,e)},dir:function(t,i,n){for(var s=[],o=t[i];o&&9!==o.nodeType&&(n===e||1!==o.nodeType||!P(o).is(n));)1===o.nodeType&&s.push(o),o=o[i];return s},nth:function(t,e,i){e=e||1;for(var n=0;t&&(1!==t.nodeType||++n!==e);t=t[i]);return t},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var me="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ge=/ jQuery\d+="(?:\d+|null)"/g,ve=/^\s+/,ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,we=/<([\w:]+)/,be=/<tbody/i,Ee=/<|&#?\w+;/,Te=/<(?:script|style)/i,Ce=/<(?:script|object|embed|option|style)/i,Se=RegExp("<(?:"+me+")","i"),xe=/checked\s*(?:[^=]|=\s*.checked.)/i,_e=/\/(java|ecma)script/i,De=/^\s*<!(?:\[CDATA\[|\-\-)/,Oe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Me=u(L);Oe.optgroup=Oe.option,Oe.tbody=Oe.tfoot=Oe.colgroup=Oe.caption=Oe.thead,Oe.th=Oe.td,P.support.htmlSerialize||(Oe._default=[1,"div<div>","</div>"]),P.fn.extend({text:function(t){return P.isFunction(t)?this.each(function(e){var i=P(this);i.text(t.call(this,e,i.text()))}):"object"!=typeof t&&t!==e?this.empty().append((this[0]&&this[0].ownerDocument||L).createTextNode(t)):P.text(this)},wrapAll:function(t){if(P.isFunction(t))return this.each(function(e){P(this).wrapAll(t.call(this,e))});if(this[0]){var e=P(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return P.isFunction(t)?this.each(function(e){P(this).wrapInner(t.call(this,e))}):this.each(function(){var e=P(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=P.isFunction(t);return this.each(function(i){P(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){P.nodeName(this,"body")||P(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.insertBefore(t,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=P.clean(arguments);return t.push.apply(t,this.toArray()),this.pushStack(t,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=this.pushStack(this,"after",arguments);return t.push.apply(t,P.clean(arguments)),t}},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)(!t||P.filter(t,[i]).length)&&(e||1!==i.nodeType||(P.cleanData(i.getElementsByTagName("*")),P.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&P.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return P.clone(this,t,e)})},html:function(t){if(t===e)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(ge,""):null;if("string"!=typeof t||Te.test(t)||!P.support.leadingWhitespace&&ve.test(t)||Oe[(we.exec(t)||["",""])[1].toLowerCase()])P.isFunction(t)?this.each(function(e){var i=P(this);i.html(t.call(this,e,i.html()))}):this.empty().append(t);else{t=t.replace(ye,"<$1></$2>");try{for(var i=0,n=this.length;n>i;i++)1===this[i].nodeType&&(P.cleanData(this[i].getElementsByTagName("*")),this[i].innerHTML=t)}catch(s){this.empty().append(t)}}return this},replaceWith:function(t){return this[0]&&this[0].parentNode?P.isFunction(t)?this.each(function(e){var i=P(this),n=i.html();i.replaceWith(t.call(this,e,n))}):("string"!=typeof t&&(t=P(t).detach()),this.each(function(){var e=this.nextSibling,i=this.parentNode;P(this).remove(),e?P(e).before(t):P(i).append(t)})):this.length?this.pushStack(P(P.isFunction(t)?t():t),"replaceWith",t):this},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){var s,o,r,a,l=t[0],h=[];if(!P.support.checkClone&&3===arguments.length&&"string"==typeof l&&xe.test(l))return this.each(function(){P(this).domManip(t,i,n,!0)});if(P.isFunction(l))return this.each(function(s){var o=P(this);t[0]=l.call(this,s,i?o.html():e),o.domManip(t,i,n)});if(this[0]){if(a=l&&l.parentNode,s=P.support.parentNode&&a&&11===a.nodeType&&a.childNodes.length===this.length?{fragment:a}:P.buildFragment(t,this,h),r=s.fragment,o=1===r.childNodes.length?r=r.firstChild:r.firstChild){i=i&&P.nodeName(o,"tr");for(var u=0,d=this.length,p=d-1;d>u;u++)n.call(i?c(this[u],o):this[u],s.cacheable||d>1&&p>u?P.clone(r,!0,!0):r)}h.length&&P.each(h,y)}return this}}),P.buildFragment=function(t,e,i){var n,s,o,r,a=t[0];return e&&e[0]&&(r=e[0].ownerDocument||e[0]),r.createDocumentFragment||(r=L),!(1===t.length&&"string"==typeof a&&512>a.length&&r===L&&"<"===a.charAt(0))||Ce.test(a)||!P.support.checkClone&&xe.test(a)||!P.support.html5Clone&&Se.test(a)||(s=!0,o=P.fragments[a],o&&1!==o&&(n=o)),n||(n=r.createDocumentFragment(),P.clean(t,r,n,i)),s&&(P.fragments[a]=o?n:1),{fragment:n,cacheable:s}},P.fragments={},P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){P.fn[t]=function(i){var n=[],s=P(i),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===s.length)return s[e](this[0]),this;for(var r=0,a=s.length;a>r;r++){var l=(r>0?this.clone(!0):this).get();P(s[r])[e](l),n=n.concat(l)}return this.pushStack(n,t,s.selector)}}),P.extend({clone:function(t,e,i){var n,s,o,r=P.support.html5Clone||!Se.test("<"+t.nodeName)?t.cloneNode(!0):v(t);if(!(P.support.noCloneEvent&&P.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||P.isXMLDoc(t)))for(p(t,r),n=f(t),s=f(r),o=0;n[o];++o)s[o]&&p(n[o],s[o]);if(e&&(d(t,r),i))for(n=f(t),s=f(r),o=0;n[o];++o)d(n[o],s[o]);return n=s=null,r},clean:function(t,i,n,s){var o;i=i||L,i.createElement===e&&(i=i.ownerDocument||i[0]&&i[0].ownerDocument||L);for(var r,a,l=[],h=0;null!=(a=t[h]);h++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(Ee.test(a)){a=a.replace(ye,"<$1></$2>");var c=(we.exec(a)||["",""])[1].toLowerCase(),d=Oe[c]||Oe._default,p=d[0],f=i.createElement("div");for(i===L?Me.appendChild(f):u(i).appendChild(f),f.innerHTML=d[1]+a+d[2];p--;)f=f.lastChild;if(!P.support.tbody){var m=be.test(a),v="table"!==c||m?"<table>"!==d[1]||m?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes;for(r=v.length-1;r>=0;--r)P.nodeName(v[r],"tbody")&&!v[r].childNodes.length&&v[r].parentNode.removeChild(v[r])}!P.support.leadingWhitespace&&ve.test(a)&&f.insertBefore(i.createTextNode(ve.exec(a)[0]),f.firstChild),a=f.childNodes}else a=i.createTextNode(a);var y;if(!P.support.appendChecked)if(a[0]&&"number"==typeof(y=a.length))for(r=0;y>r;r++)g(a[r]);else g(a);a.nodeType?l.push(a):l=P.merge(l,a)}if(n)for(o=function(t){return!t.type||_e.test(t.type)},h=0;l[h];h++)if(!s||!P.nodeName(l[h],"script")||l[h].type&&"text/javascript"!==l[h].type.toLowerCase()){if(1===l[h].nodeType){var w=P.grep(l[h].getElementsByTagName("script"),o);l.splice.apply(l,[h+1,0].concat(w))}n.appendChild(l[h])}else s.push(l[h].parentNode?l[h].parentNode.removeChild(l[h]):l[h]);return l},cleanData:function(t){for(var e,i,n,s=P.cache,o=P.event.special,r=P.support.deleteExpando,a=0;null!=(n=t[a]);a++)if((!n.nodeName||!P.noData[n.nodeName.toLowerCase()])&&(i=n[P.expando])){if(e=s[i],e&&e.events){for(var l in e.events)o[l]?P.event.remove(n,l):P.removeEvent(n,l,e.handle);e.handle&&(e.handle.elem=null)}r?delete n[P.expando]:n.removeAttribute&&n.removeAttribute(P.expando),delete s[i]}}});var je,Ne,Ie,Le=/alpha\([^)]*\)/i,ke=/opacity=([^)]*)/,Ae=/([A-Z]|^ms)/g,Pe=/^-?\d+(?:px)?$/i,He=/^-?\d/,Be=/^([\-+])=([\-+.\de]+)/,Re={position:"absolute",visibility:"hidden",display:"block"},Fe=["Left","Right"],Ue=["Top","Bottom"];P.fn.css=function(t,i){return 2===arguments.length&&i===e?this:P.access(this,t,i,!0,function(t,i,n){return n!==e?P.style(t,i,n):P.css(t,i)})},P.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=je(t,"opacity","opacity");return""===i?"1":i}return t.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":P.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,s){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a=P.camelCase(i),l=t.style,h=P.cssHooks[a];if(i=P.cssProps[a]||a,n===e)return h&&"get"in h&&(o=h.get(t,!1,s))!==e?o:l[i];if(r=typeof n,"string"===r&&(o=Be.exec(n))&&(n=+(o[1]+1)*+o[2]+parseFloat(P.css(t,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||P.cssNumber[a]||(n+="px"),h&&"set"in h&&(n=h.set(t,n))===e)))try{l[i]=n}catch(u){}}},css:function(t,i,n){var s,o;return i=P.camelCase(i),o=P.cssHooks[i],i=P.cssProps[i]||i,"cssFloat"===i&&(i="float"),o&&"get"in o&&(s=o.get(t,!0,n))!==e?s:je?je(t,i):e},swap:function(t,e,i){var n={};for(var s in e)n[s]=t.style[s],t.style[s]=e[s];i.call(t);for(s in e)t.style[s]=n[s]}}),P.curCSS=P.css,P.each(["height","width"],function(t,i){P.cssHooks[i]={get:function(t,n,s){var o;return n?0!==t.offsetWidth?w(t,i,s):(P.swap(t,Re,function(){o=w(t,i,s)}),o):e},set:function(t,i){return Pe.test(i)?(i=parseFloat(i),i>=0?i+"px":e):i}}}),P.support.opacity||(P.cssHooks.opacity={get:function(t,e){return ke.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=P.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,e>=1&&""===P.trim(o.replace(Le,""))&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=Le.test(o)?o.replace(Le,s):o+" "+s)}}),P(function(){P.support.reliableMarginRight||(P.cssHooks.marginRight={get:function(t,e){var i;return P.swap(t,{display:"inline-block"},function(){i=e?je(t,"margin-right","marginRight"):t.style.marginRight}),i}})}),L.defaultView&&L.defaultView.getComputedStyle&&(Ne=function(t,e){var i,n,s;return e=e.replace(Ae,"-$1").toLowerCase(),(n=t.ownerDocument.defaultView)&&(s=n.getComputedStyle(t,null))&&(i=s.getPropertyValue(e),""!==i||P.contains(t.ownerDocument.documentElement,t)||(i=P.style(t,e))),i}),L.documentElement.currentStyle&&(Ie=function(t,e){var i,n,s,o=t.currentStyle&&t.currentStyle[e],r=t.style;return null===o&&r&&(s=r[e])&&(o=s),!Pe.test(o)&&He.test(o)&&(i=r.left,n=t.runtimeStyle&&t.runtimeStyle.left,n&&(t.runtimeStyle.left=t.currentStyle.left),r.left="fontSize"===e?"1em":o||0,o=r.pixelLeft+"px",r.left=i,n&&(t.runtimeStyle.left=n)),""===o?"auto":o}),je=Ne||Ie,P.expr&&P.expr.filters&&(P.expr.filters.hidden=function(t){var e=t.offsetWidth,i=t.offsetHeight;return 0===e&&0===i||!P.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||P.css(t,"display"))},P.expr.filters.visible=function(t){return!P.expr.filters.hidden(t)});var Ve,ze,$e=/%20/g,We=/\[\]$/,qe=/\r?\n/g,Ke=/#.*$/,Ye=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Xe=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ze=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Je=/^(?:GET|HEAD)$/,Ge=/^\/\//,Qe=/\?/,ti=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ei=/^(?:select|textarea)/i,ii=/\s+/,ni=/([?&])_=[^&]*/,si=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,oi=P.fn.load,ri={},ai={},li=["*/"]+["*"];try{Ve=A.href}catch(hi){Ve=L.createElement("a"),Ve.href="",Ve=Ve.href}ze=si.exec(Ve.toLowerCase())||[],P.fn.extend({load:function(t,i,n){if("string"!=typeof t&&oi)return oi.apply(this,arguments);if(!this.length)return this;var s=t.indexOf(" ");if(s>=0){var o=t.slice(s,t.length);t=t.slice(0,s)}var r="GET";i&&(P.isFunction(i)?(n=i,i=e):"object"==typeof i&&(i=P.param(i,P.ajaxSettings.traditional),r="POST"));var a=this;return P.ajax({url:t,type:r,dataType:"html",data:i,complete:function(t,e,i){i=t.responseText,t.isResolved()&&(t.done(function(t){i=t}),a.html(o?P("<div>").append(i.replace(ti,"")).find(o):i)),n&&a.each(n,[i,e,t])}}),this},serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?P.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ei.test(this.nodeName)||Xe.test(this.type))}).map(function(t,e){var i=P(this).val();return null==i?null:P.isArray(i)?P.map(i,function(t){return{name:e.name,value:t.replace(qe,"\r\n")}}):{name:e.name,value:i.replace(qe,"\r\n")}}).get()}}),P.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){P.fn[e]=function(t){return this.on(e,t)}}),P.each(["get","post"],function(t,i){P[i]=function(t,n,s,o){return P.isFunction(n)&&(o=o||s,s=n,n=e),P.ajax({type:i,url:t,data:n,success:s,dataType:o})}}),P.extend({getScript:function(t,i){return P.get(t,e,i,"script")},getJSON:function(t,e,i){return P.get(t,e,i,"json")},ajaxSetup:function(t,e){return e?T(t,P.ajaxSettings):(e=t,t=P.ajaxSettings),T(t,e),t},ajaxSettings:{url:Ve,isLocal:Ze.test(ze[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":li},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":P.parseJSON,"text xml":P.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(ri),ajaxTransport:b(ai),ajax:function(t,i){function n(t,i,n,r){if(2!==b){b=2,l&&clearTimeout(l),a=e,o=r||"",T.readyState=t>0?4:0;var h,c,y,w,E,C=i,_=n?S(d,T,n):e;if(t>=200&&300>t||304===t)if(d.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(P.lastModified[s]=w),(E=T.getResponseHeader("Etag"))&&(P.etag[s]=E)),304===t)C="notmodified",h=!0;else try{c=x(d,_),C="success",h=!0}catch(D){C="parsererror",y=D}else y=C,(!C||t)&&(C="error",0>t&&(t=0));T.status=t,T.statusText=""+(i||C),h?m.resolveWith(p,[c,C,T]):m.rejectWith(p,[T,C,y]),T.statusCode(v),v=e,u&&f.trigger("ajax"+(h?"Success":"Error"),[T,d,h?c:y]),g.fireWith(p,[T,C]),u&&(f.trigger("ajaxComplete",[T,d]),--P.active||P.event.trigger("ajaxStop"))}}"object"==typeof t&&(i=t,t=e),i=i||{};var s,o,r,a,l,h,u,c,d=P.ajaxSetup({},i),p=d.context||d,f=p!==d&&(p.nodeType||p instanceof P)?P(p):P.event,m=P.Deferred(),g=P.Callbacks("once memory"),v=d.statusCode||{},y={},w={},b=0,T={readyState:0,setRequestHeader:function(t,e){if(!b){var i=t.toLowerCase();t=w[i]=w[i]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===b?o:null},getResponseHeader:function(t){var i;if(2===b){if(!r)for(r={};i=Ye.exec(o);)r[i[1].toLowerCase()]=i[2];i=r[t.toLowerCase()]}return i===e?null:i},overrideMimeType:function(t){return b||(d.mimeType=t),this},abort:function(t){return t=t||"abort",a&&a.abort(t),n(0,t),this}};if(m.promise(T),T.success=T.done,T.error=T.fail,T.complete=g.add,T.statusCode=function(t){if(t){var e;if(2>b)for(e in t)v[e]=[v[e],t[e]];else e=t[T.status],T.then(e,e)}return this},d.url=((t||d.url)+"").replace(Ke,"").replace(Ge,ze[1]+"//"),d.dataTypes=P.trim(d.dataType||"*").toLowerCase().split(ii),null==d.crossDomain&&(h=si.exec(d.url.toLowerCase()),d.crossDomain=!(!h||h[1]==ze[1]&&h[2]==ze[2]&&(h[3]||("http:"===h[1]?80:443))==(ze[3]||("http:"===ze[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=P.param(d.data,d.traditional)),E(ri,d,i,T),2===b)return!1;if(u=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Je.test(d.type),u&&0===P.active++&&P.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(Qe.test(d.url)?"&":"?")+d.data,delete d.data),s=d.url,d.cache===!1)){var C=P.now(),_=d.url.replace(ni,"$1_="+C);d.url=_+(_===d.url?(Qe.test(d.url)?"&":"?")+"_="+C:"")}(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&T.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(s=s||d.url,P.lastModified[s]&&T.setRequestHeader("If-Modified-Since",P.lastModified[s]),P.etag[s]&&T.setRequestHeader("If-None-Match",P.etag[s])),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+li+"; q=0.01":""):d.accepts["*"]);
for(c in d.headers)T.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(p,T,d)===!1||2===b))return T.abort(),!1;for(c in{success:1,error:1,complete:1})T[c](d[c]);if(a=E(ai,d,i,T)){T.readyState=1,u&&f.trigger("ajaxSend",[T,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){T.abort("timeout")},d.timeout));try{b=1,a.send(y,n)}catch(D){if(!(2>b))throw D;n(-1,D)}}else n(-1,"No Transport");return T},param:function(t,i){var n=[],s=function(t,e){e=P.isFunction(e)?e():e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=P.ajaxSettings.traditional),P.isArray(t)||t.jquery&&!P.isPlainObject(t))P.each(t,function(){s(this.name,this.value)});else for(var o in t)C(o,t[o],i,s);return n.join("&").replace($e,"+")}}),P.extend({active:0,lastModified:{},etag:{}});var ui=P.now(),ci=/(\=)\?(&|$)|\?\?/i;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return P.expando+"_"+ui++}}),P.ajaxPrefilter("json jsonp",function(e,i,n){var s="application/x-www-form-urlencoded"===e.contentType&&"string"==typeof e.data;if("jsonp"===e.dataTypes[0]||e.jsonp!==!1&&(ci.test(e.url)||s&&ci.test(e.data))){var o,r=e.jsonpCallback=P.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a=t[r],l=e.url,h=e.data,u="$1"+r+"$2";return e.jsonp!==!1&&(l=l.replace(ci,u),e.url===l&&(s&&(h=h.replace(ci,u)),e.data===h&&(l+=(/\?/.test(l)?"&":"?")+e.jsonp+"="+r))),e.url=l,e.data=h,t[r]=function(t){o=[t]},n.always(function(){t[r]=a,o&&P.isFunction(a)&&t[r](o[0])}),e.converters["script json"]=function(){return o||P.error(r+" was not called"),o[0]},e.dataTypes[0]="json","script"}}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return P.globalEval(t),t}}}),P.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),P.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=L.head||L.getElementsByTagName("head")[0]||L.documentElement;return{send:function(s,o){i=L.createElement("script"),i.async="async",t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,s){(s||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=e,s||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var di,pi=t.ActiveXObject?function(){for(var t in di)di[t](0,1)}:!1,fi=0;P.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&_()||D()}:_,function(t){P.extend(P.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(P.ajaxSettings.xhr()),P.support.ajax&&P.ajaxTransport(function(i){if(!i.crossDomain||P.support.cors){var n;return{send:function(s,o){var r,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(a in s)l.setRequestHeader(a,s[a])}catch(h){}l.send(i.hasContent&&i.data||null),n=function(t,s){var a,h,u,c,d;try{if(n&&(s||4===l.readyState))if(n=e,r&&(l.onreadystatechange=P.noop,pi&&delete di[r]),s)4!==l.readyState&&l.abort();else{a=l.status,u=l.getAllResponseHeaders(),c={},d=l.responseXML,d&&d.documentElement&&(c.xml=d),c.text=l.responseText;try{h=l.statusText}catch(p){h=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=c.text?200:404}}catch(f){s||o(-1,f)}c&&o(a,h,c,u)},i.async&&4!==l.readyState?(r=++fi,pi&&(di||(di={},P(t).unload(pi)),di[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var mi,gi,vi,yi,wi={},bi=/^(?:toggle|show|hide)$/,Ei=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Ti=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];P.fn.extend({show:function(t,e,i){var n,s;if(t||0===t)return this.animate(j("show",3),t,e,i);for(var o=0,r=this.length;r>o;o++)n=this[o],n.style&&(s=n.style.display,P._data(n,"olddisplay")||"none"!==s||(s=n.style.display=""),""===s&&"none"===P.css(n,"display")&&P._data(n,"olddisplay",N(n.nodeName)));for(o=0;r>o;o++)n=this[o],n.style&&(s=n.style.display,(""===s||"none"===s)&&(n.style.display=P._data(n,"olddisplay")||""));return this},hide:function(t,e,i){if(t||0===t)return this.animate(j("hide",3),t,e,i);for(var n,s,o=0,r=this.length;r>o;o++)n=this[o],n.style&&(s=P.css(n,"display"),"none"===s||P._data(n,"olddisplay")||P._data(n,"olddisplay",s));for(o=0;r>o;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:P.fn.toggle,toggle:function(t,e,i){var n="boolean"==typeof t;return P.isFunction(t)&&P.isFunction(e)?this._toggle.apply(this,arguments):null==t||n?this.each(function(){var e=n?t:P(this).is(":hidden");P(this)[e?"show":"hide"]()}):this.animate(j("toggle",3),t,e,i),this},fadeTo:function(t,e,i,n){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){function s(){o.queue===!1&&P._mark(this);var e,i,n,s,r,a,l,h,u,c=P.extend({},o),d=1===this.nodeType,p=d&&P(this).is(":hidden");c.animatedProperties={};for(n in t){if(e=P.camelCase(n),n!==e&&(t[e]=t[n],delete t[n]),i=t[e],P.isArray(i)?(c.animatedProperties[e]=i[1],i=t[e]=i[0]):c.animatedProperties[e]=c.specialEasing&&c.specialEasing[e]||c.easing||"swing","hide"===i&&p||"show"===i&&!p)return c.complete.call(this);!d||"height"!==e&&"width"!==e||(c.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===P.css(this,"display")&&"none"===P.css(this,"float")&&(P.support.inlineBlockNeedsLayout&&"inline"!==N(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=c.overflow&&(this.style.overflow="hidden");for(n in t)s=new P.fx(this,c,n),i=t[n],bi.test(i)?(u=P._data(this,"toggle"+n)||("toggle"===i?p?"show":"hide":0),u?(P._data(this,"toggle"+n,"show"===u?"hide":"show"),s[u]()):s[i]()):(r=Ei.exec(i),a=s.cur(),r?(l=parseFloat(r[2]),h=r[3]||(P.cssNumber[n]?"":"px"),"px"!==h&&(P.style(this,n,(l||1)+h),a=(l||1)/s.cur()*a,P.style(this,n,a+h)),r[1]&&(l=("-="===r[1]?-1:1)*l+a),s.custom(a,l,h)):s.custom(a,i,""));return!0}var o=P.speed(e,i,n);return P.isEmptyObject(t)?this.each(o.complete,[!1]):(t=P.extend({},t),o.queue===!1?this.each(s):this.queue(o.queue,s))},stop:function(t,i,n){return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){function e(t,e,i){var s=e[i];P.removeData(t,i,!0),s.stop(n)}var i,s=!1,o=P.timers,r=P._data(this);if(n||P._unmark(!0,this),null==t)for(i in r)r[i]&&r[i].stop&&i.indexOf(".run")===i.length-4&&e(this,r,i);else r[i=t+".run"]&&r[i].stop&&e(this,r,i);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(n?o[i](!0):o[i].saveState(),s=!0,o.splice(i,1));n&&s||P.dequeue(this,t)})}}),P.each({slideDown:j("show",1),slideUp:j("hide",1),slideToggle:j("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){P.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),P.extend({speed:function(t,e,i){var n=t&&"object"==typeof t?P.extend({},t):{complete:i||!i&&e||P.isFunction(t)&&t,duration:t,easing:i&&e||e&&!P.isFunction(e)&&e};return n.duration=P.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in P.fx.speeds?P.fx.speeds[n.duration]:P.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(t){P.isFunction(n.old)&&n.old.call(this),n.queue?P.dequeue(this,n.queue):t!==!1&&P._unmark(this)},n},easing:{linear:function(t,e,i,n){return i+n*t},swing:function(t,e,i,n){return(-Math.cos(t*Math.PI)/2+.5)*n+i}},timers:[],fx:function(t,e,i){this.options=e,this.elem=t,this.prop=i,e.orig=e.orig||{}}}),P.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(P.fx.step[this.prop]||P.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t,e=P.css(this.elem,this.prop);return isNaN(t=parseFloat(e))?e&&"auto"!==e?e:0:t},custom:function(t,i,n){function s(t){return o.step(t)}var o=this,r=P.fx;this.startTime=yi||O(),this.end=i,this.now=this.start=t,this.pos=this.state=0,this.unit=n||this.unit||(P.cssNumber[this.prop]?"":"px"),s.queue=this.options.queue,s.elem=this.elem,s.saveState=function(){o.options.hide&&P._data(o.elem,"fxshow"+o.prop)===e&&P._data(o.elem,"fxshow"+o.prop,o.start)},s()&&P.timers.push(s)&&!vi&&(vi=setInterval(r.tick,r.interval))},show:function(){var t=P._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=t||P.style(this.elem,this.prop),this.options.show=!0,t!==e?this.custom(this.cur(),t):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),P(this.elem).show()},hide:function(){this.options.orig[this.prop]=P._data(this.elem,"fxshow"+this.prop)||P.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(t){var e,i,n,s=yi||O(),o=!0,r=this.elem,a=this.options;if(t||s>=a.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),a.animatedProperties[this.prop]=!0;for(e in a.animatedProperties)a.animatedProperties[e]!==!0&&(o=!1);if(o){if(null==a.overflow||P.support.shrinkWrapBlocks||P.each(["","X","Y"],function(t,e){r.style["overflow"+e]=a.overflow[t]}),a.hide&&P(r).hide(),a.hide||a.show)for(e in a.animatedProperties)P.style(r,e,a.orig[e]),P.removeData(r,"fxshow"+e,!0),P.removeData(r,"toggle"+e,!0);n=a.complete,n&&(a.complete=!1,n.call(r))}return!1}return 1/0==a.duration?this.now=s:(i=s-this.startTime,this.state=i/a.duration,this.pos=P.easing[a.animatedProperties[this.prop]](this.state,i,0,1,a.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},P.extend(P.fx,{tick:function(){for(var t,e=P.timers,i=0;e.length>i;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||P.fx.stop()},interval:13,stop:function(){clearInterval(vi),vi=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(t){P.style(t.elem,"opacity",t.now)},_default:function(t){t.elem.style&&null!=t.elem.style[t.prop]?t.elem.style[t.prop]=t.now+t.unit:t.elem[t.prop]=t.now}}}),P.each(["width","height"],function(t,e){P.fx.step[e]=function(t){P.style(t.elem,e,Math.max(0,t.now)+t.unit)}}),P.expr&&P.expr.filters&&(P.expr.filters.animated=function(t){return P.grep(P.timers,function(e){return t===e.elem}).length});var Ci=/^t(?:able|d|h)$/i,Si=/^(?:body|html)$/i;P.fn.offset="getBoundingClientRect"in L.documentElement?function(t){var e,i=this[0];if(t)return this.each(function(e){P.offset.setOffset(this,t,e)});if(!i||!i.ownerDocument)return null;if(i===i.ownerDocument.body)return P.offset.bodyOffset(i);try{e=i.getBoundingClientRect()}catch(n){}var s=i.ownerDocument,o=s.documentElement;if(!e||!P.contains(o,i))return e?{top:e.top,left:e.left}:{top:0,left:0};var r=s.body,a=I(s),l=o.clientTop||r.clientTop||0,h=o.clientLeft||r.clientLeft||0,u=a.pageYOffset||P.support.boxModel&&o.scrollTop||r.scrollTop,c=a.pageXOffset||P.support.boxModel&&o.scrollLeft||r.scrollLeft,d=e.top+u-l,p=e.left+c-h;return{top:d,left:p}}:function(t){var e=this[0];if(t)return this.each(function(e){P.offset.setOffset(this,t,e)});if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return P.offset.bodyOffset(e);for(var i,n=e.offsetParent,s=e,o=e.ownerDocument,r=o.documentElement,a=o.body,l=o.defaultView,h=l?l.getComputedStyle(e,null):e.currentStyle,u=e.offsetTop,c=e.offsetLeft;(e=e.parentNode)&&e!==a&&e!==r&&(!P.support.fixedPosition||"fixed"!==h.position);)i=l?l.getComputedStyle(e,null):e.currentStyle,u-=e.scrollTop,c-=e.scrollLeft,e===n&&(u+=e.offsetTop,c+=e.offsetLeft,!P.support.doesNotAddBorder||P.support.doesAddBorderForTableAndCells&&Ci.test(e.nodeName)||(u+=parseFloat(i.borderTopWidth)||0,c+=parseFloat(i.borderLeftWidth)||0),s=n,n=e.offsetParent),P.support.subtractsBorderForOverflowNotVisible&&"visible"!==i.overflow&&(u+=parseFloat(i.borderTopWidth)||0,c+=parseFloat(i.borderLeftWidth)||0),h=i;return("relative"===h.position||"static"===h.position)&&(u+=a.offsetTop,c+=a.offsetLeft),P.support.fixedPosition&&"fixed"===h.position&&(u+=Math.max(r.scrollTop,a.scrollTop),c+=Math.max(r.scrollLeft,a.scrollLeft)),{top:u,left:c}},P.offset={bodyOffset:function(t){var e=t.offsetTop,i=t.offsetLeft;return P.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(P.css(t,"marginTop"))||0,i+=parseFloat(P.css(t,"marginLeft"))||0),{top:e,left:i}},setOffset:function(t,e,i){var n=P.css(t,"position");"static"===n&&(t.style.position="relative");var s,o,r=P(t),a=r.offset(),l=P.css(t,"top"),h=P.css(t,"left"),u=("absolute"===n||"fixed"===n)&&P.inArray("auto",[l,h])>-1,c={},d={};u?(d=r.position(),s=d.top,o=d.left):(s=parseFloat(l)||0,o=parseFloat(h)||0),P.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+o),"using"in e?e.using.call(t,c):r.css(c)}},P.fn.extend({position:function(){if(!this[0])return null;var t=this[0],e=this.offsetParent(),i=this.offset(),n=Si.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(P.css(t,"marginTop"))||0,i.left-=parseFloat(P.css(t,"marginLeft"))||0,n.top+=parseFloat(P.css(e[0],"borderTopWidth"))||0,n.left+=parseFloat(P.css(e[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||L.body;t&&!Si.test(t.nodeName)&&"static"===P.css(t,"position");)t=t.offsetParent;return t})}}),P.each(["Left","Top"],function(t,i){var n="scroll"+i;P.fn[n]=function(i){var s,o;return i===e?(s=this[0])?(o=I(s),o?"pageXOffset"in o?o[t?"pageYOffset":"pageXOffset"]:P.support.boxModel&&o.document.documentElement[n]||o.document.body[n]:s[n]):null:this.each(function(){o=I(this),o?o.scrollTo(t?P(o).scrollLeft():i,t?i:P(o).scrollTop()):this[n]=i})}}),P.each(["Height","Width"],function(t,i){var n=i.toLowerCase();P.fn["inner"+i]=function(){var t=this[0];return t?t.style?parseFloat(P.css(t,n,"padding")):this[n]():null},P.fn["outer"+i]=function(t){var e=this[0];return e?e.style?parseFloat(P.css(e,n,t?"margin":"border")):this[n]():null},P.fn[n]=function(t){var s=this[0];if(!s)return null==t?null:this;if(P.isFunction(t))return this.each(function(e){var i=P(this);i[n](t.call(this,e,i[n]()))});if(P.isWindow(s)){var o=s.document.documentElement["client"+i],r=s.document.body;return"CSS1Compat"===s.document.compatMode&&o||r&&r["client"+i]||o}if(9===s.nodeType)return Math.max(s.documentElement["client"+i],s.body["scroll"+i],s.documentElement["scroll"+i],s.body["offset"+i],s.documentElement["offset"+i]);if(t===e){var a=P.css(s,n),l=parseFloat(a);return P.isNumeric(l)?l:a}return this.css(n,"string"==typeof t?t:t+"px")}}),t.jQuery=t.$=P,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("joshfire-framework/vendor/jquery",[],function(){return P})}(window),define("joshfire-framework/adapters/samsungtv/utils/dollar",["joshlib!vendor/jquery"],function(t){return $?$:t}),define("joshfire-framework/utils/closest_descendant",["joshlib!utils/dollar"],function(t){var e=function(e,i){e=t(e);for(var n=t();e.length&&(n=e.filter(i),!n.length);)e=e.children();return n.first()};return e}),define("joshfire-framework/vendor/backbone",["joshlib!vendor/underscore","joshlib!utils/dollar"],function(t,e){return function(){var i,n=this,s=n.Backbone,o=[],r=o.push,a=o.slice,l=o.splice;i="undefined"!=typeof exports?exports:n.Backbone={},i.VERSION="1.0.0",i.$=e,i.noConflict=function(){return n.Backbone=s,this},i.emulateHTTP=!1,i.emulateJSON=!1;var h=i.Events={on:function(t,e,i){if(!c(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);return n.push({callback:e,context:i,ctx:i||this}),this},once:function(e,i,n){if(!c(this,"once",e,[i,n])||!i)return this;var s=this,o=t.once(function(){s.off(e,o),i.apply(this,arguments)});return o._callback=i,this.on(e,o,n)},off:function(e,i,n){var s,o,r,a,l,h,u,d;if(!this._events||!c(this,"off",e,[i,n]))return this;if(!e&&!i&&!n)return this._events={},this;for(a=e?[e]:t.keys(this._events),l=0,h=a.length;h>l;l++)if(e=a[l],r=this._events[e]){if(this._events[e]=s=[],i||n)for(u=0,d=r.length;d>u;u++)o=r[u],(i&&i!==o.callback&&i!==o.callback._callback||n&&n!==o.context)&&s.push(o);s.length||delete this._events[e]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!c(this,"trigger",t,e))return this;var i=this._events[t],n=this._events.all;return i&&d(i,e),n&&d(n,arguments),this},stopListening:function(t,e,i){var n=this._listeners;if(!n)return this;var s=!e&&!i;"object"==typeof e&&(i=this),t&&((n={})[t._listenerId]=t);for(var o in n)n[o].off(e,i,this),s&&delete this._listeners[o];return this}},u=/\s+/,c=function(t,e,i,n){if(!i)return!0;if("object"==typeof i){for(var s in i)t[e].apply(t,[s,i[s]].concat(n));return!1}if(u.test(i)){for(var o=i.split(u),r=0,a=o.length;a>r;r++)t[e].apply(t,[o[r]].concat(n));return!1}return!0},d=function(t,e){var i,n=-1,s=t.length,o=e[0],r=e[1],a=e[2];switch(e.length){case 0:for(;s>++n;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;s>++n;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;s>++n;)(i=t[n]).callback.call(i.ctx,o,r);return;case 3:for(;s>++n;)(i=t[n]).callback.call(i.ctx,o,r,a);return;default:for(;s>++n;)(i=t[n]).callback.apply(i.ctx,e)}},p={listenTo:"on",listenToOnce:"once"};t.each(p,function(e,i){h[i]=function(i,n,s){var o=this._listeners||(this._listeners={}),r=i._listenerId||(i._listenerId=t.uniqueId("l"));return o[r]=i,"object"==typeof n&&(s=this),i[e](n,s,this),this}}),h.bind=h.on,h.unbind=h.off,t.extend(i,h);var f=i.Model=function(e,i){var n,s=e||{};i||(i={}),this.cid=t.uniqueId("c"),this.attributes={},t.extend(this,t.pick(i,m)),i.parse&&(s=this.parse(s,i)||{}),(n=t.result(this,"defaults"))&&(s=t.defaults({},s,n)),this.set(s,i),this.changed={},this.initialize.apply(this,arguments)},m=["url","urlRoot","collection"];t.extend(f.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return t.clone(this.attributes)},sync:function(){return i.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(e){return t.escape(this.get(e))},has:function(t){return null!=this.get(t)},set:function(e,i,n){var s,o,r,a,l,h,u,c;if(null==e)return this;if("object"==typeof e?(o=e,n=i):(o={})[e]=i,n||(n={}),!this._validate(o,n))return!1;r=n.unset,l=n.silent,a=[],h=this._changing,this._changing=!0,h||(this._previousAttributes=t.clone(this.attributes),this.changed={}),c=this.attributes,u=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(s in o)i=o[s],t.isEqual(c[s],i)||a.push(s),t.isEqual(u[s],i)?delete this.changed[s]:this.changed[s]=i,r?delete c[s]:c[s]=i;if(!l){a.length&&(this._pending=!0);for(var d=0,p=a.length;p>d;d++)this.trigger("change:"+a[d],this,c[a[d]],n)}if(h)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,i){return this.set(e,void 0,t.extend({},i,{unset:!0}))},clear:function(e){var i={};for(var n in this.attributes)i[n]=void 0;return this.set(i,t.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!t.isEmpty(this.changed):t.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?t.clone(this.changed):!1;var i,n=!1,s=this._changing?this._previousAttributes:this.attributes;for(var o in e)t.isEqual(s[o],i=e[o])||((n||(n={}))[o]=i);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return t.clone(this._previousAttributes)},fetch:function(e){e=e?t.clone(e):{},void 0===e.parse&&(e.parse=!0);var i=this,n=e.success;return e.success=function(t){return i.set(i.parse(t,e),e)?(n&&n(i,t,e),i.trigger("sync",i,t,e),void 0):!1},B(this,e),this.sync("read",this,e)},save:function(e,i,n){var s,o,r,a=this.attributes;if(null==e||"object"==typeof e?(s=e,n=i):(s={})[e]=i,!(!s||n&&n.wait||this.set(s,n)))return!1;if(n=t.extend({validate:!0},n),!this._validate(s,n))return!1;s&&n.wait&&(this.attributes=t.extend({},a,s)),void 0===n.parse&&(n.parse=!0);var l=this,h=n.success;return n.success=function(e){l.attributes=a;var i=l.parse(e,n);return n.wait&&(i=t.extend(s||{},i)),t.isObject(i)&&!l.set(i,n)?!1:(h&&h(l,e,n),l.trigger("sync",l,e,n),void 0)},B(this,n),o=this.isNew()?"create":n.patch?"patch":"update","patch"===o&&(n.attrs=s),r=this.sync(o,this,n),s&&n.wait&&(this.attributes=a),r},destroy:function(e){e=e?t.clone(e):{};var i=this,n=e.success,s=function(){i.trigger("destroy",i,i.collection,e)};if(e.success=function(t){(e.wait||i.isNew())&&s(),n&&n(i,t,e),i.isNew()||i.trigger("sync",i,t,e)},this.isNew())return e.success(),!1;B(this,e);var o=this.sync("delete",this,e);return e.wait||s(),o},url:function(){var e=t.result(this,"urlRoot")||t.result(this.collection,"url")||H();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},t.extend(e||{},{validate:!0}))},_validate:function(e,i){if(!i.validate||!this.validate)return!0;e=t.extend({},this.attributes,e);var n=this.validationError=this.validate(e,i)||null;return n?(this.trigger("invalid",this,n,t.extend(i||{},{validationError:n})),!1):!0}});var g=["keys","values","pairs","invert","pick","omit"];t.each(g,function(e){f.prototype[e]=function(){var i=a.call(arguments);return i.unshift(this.attributes),t[e].apply(t,i)}});var v=i.Collection=function(e,i){i||(i={}),i.url&&(this.url=i.url),i.model&&(this.model=i.model),void 0!==i.comparator&&(this.comparator=i.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,t.extend({silent:!0},i))},y={add:!0,remove:!0,merge:!0},w={add:!0,merge:!1,remove:!1};t.extend(v.prototype,h,{model:f,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return i.sync.apply(this,arguments)},add:function(e,i){return this.set(e,t.defaults(i||{},w))},remove:function(e,i){e=t.isArray(e)?e.slice():[e],i||(i={});var n,s,o,r;for(n=0,s=e.length;s>n;n++)r=this.get(e[n]),r&&(delete this._byId[r.id],delete this._byId[r.cid],o=this.indexOf(r),this.models.splice(o,1),this.length--,i.silent||(i.index=o,r.trigger("remove",r,this,i)),this._removeReference(r));return this},set:function(e,i){i=t.defaults(i||{},y),i.parse&&(e=this.parse(e,i)),t.isArray(e)||(e=e?[e]:[]);var n,s,o,a,h,u=i.at,c=this.comparator&&null==u&&i.sort!==!1,d=t.isString(this.comparator)?this.comparator:null,p=[],f=[],m={};for(n=0,s=e.length;s>n;n++)(o=this._prepareModel(e[n],i))&&((a=this.get(o))?(i.remove&&(m[a.cid]=!0),i.merge&&(a.set(o.attributes,i),c&&!h&&a.hasChanged(d)&&(h=!0))):i.add&&(p.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)));if(i.remove){for(n=0,s=this.length;s>n;++n)m[(o=this.models[n]).cid]||f.push(o);f.length&&this.remove(f,i)}if(p.length&&(c&&(h=!0),this.length+=p.length,null!=u?l.apply(this.models,[u,0].concat(p)):r.apply(this.models,p)),h&&this.sort({silent:!0}),i.silent)return this;for(n=0,s=p.length;s>n;n++)(o=p[n]).trigger("add",o,this,i);return h&&this.trigger("sort",this,i),this},reset:function(e,i){i||(i={});for(var n=0,s=this.models.length;s>n;n++)this._removeReference(this.models[n]);return i.previousModels=this.models,this._reset(),this.add(e,t.extend({silent:!0},i)),i.silent||this.trigger("reset",this,i),this},push:function(e,i){return e=this._prepareModel(e,i),this.add(e,t.extend({at:this.length},i)),e},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(e,i){return e=this._prepareModel(e,i),this.add(e,t.extend({at:0},i)),e},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(e,i){return t.isEmpty(e)?i?void 0:[]:this[i?"find":"filter"](function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(e){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return e||(e={}),t.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(t.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,i,n){i||(i=this.comparator);var s=t.isFunction(i)?i:function(t){return t.get(i)};return t.sortedIndex(this.models,e,s,n)},pluck:function(e){return t.invoke(this.models,"get",e)},fetch:function(e){e=e?t.clone(e):{},void 0===e.parse&&(e.parse=!0);var i=e.success,n=this;return e.success=function(t){var s=e.reset?"reset":"set";n[s](t,e),i&&i(n,t,e),n.trigger("sync",n,t,e)},B(this,e),this.sync("read",this,e)},create:function(e,i){if(i=i?t.clone(i):{},!(e=this._prepareModel(e,i)))return!1;i.wait||this.add(e,i);var n=this,s=i.success;return i.success=function(t){i.wait&&n.add(e,i),s&&s(e,t,i)},e.save(null,i),e},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof f)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var i=new this.model(t,e);return i._validate(t,e)?i:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,n),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];t.each(b,function(e){v.prototype[e]=function(){var i=a.call(arguments);return i.unshift(this.models),t[e].apply(t,i)}});var E=["groupBy","countBy","sortBy"];t.each(E,function(e){v.prototype[e]=function(i,n){var s=t.isFunction(i)?i:function(t){return t.get(i)};return t[e](this.models,s,n)}});var T=i.View=function(e){this.cid=t.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},C=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];t.extend(T.prototype,h,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof i.$?t:i.$(t),this.el=this.$el[0],e!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=t.result(this,"events")))return this;this.undelegateEvents();for(var i in e){var n=e[i];if(t.isFunction(n)||(n=this[e[i]]),n){var s=i.match(C),o=s[1],r=s[2];n=t.bind(n,this),o+=".delegateEvents"+this.cid,""===r?this.$el.on(o,n):this.$el.on(o,r,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=t.extend({},t.result(this,"options"),e)),t.extend(this,t.pick(e,S)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(t.result(this,"el"),!1);else{var e=t.extend({},t.result(this,"attributes"));this.id&&(e.id=t.result(this,"id")),this.className&&(e["class"]=t.result(this,"className"));var n=i.$("<"+t.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),i.sync=function(e,n,s){var o=x[e];t.defaults(s||(s={}),{emulateHTTP:i.emulateHTTP,emulateJSON:i.emulateJSON});var r={type:o,dataType:"json"};if(s.url||(r.url=t.result(n,"url")||H()),null!=s.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),s.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){r.type="POST",s.emulateJSON&&(r.data._method=o);var a=s.beforeSend;s.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===r.type||s.emulateJSON||(r.processData=!1),"PATCH"!==r.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=s.xhr=i.ajax(t.extend(r,s));return n.trigger("request",n,l,s),l};var x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};i.ajax=function(){return i.$.ajax.apply(i.$,arguments)};var _=i.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,M=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;t.extend(_.prototype,h,{initialize:function(){},route:function(e,n,s){t.isRegExp(e)||(e=this._routeToRegExp(e)),t.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var o=this;return i.history.route(e,function(t){var r=o._extractParameters(e,t);s&&s.apply(o,r),o.trigger.apply(o,["route:"+n].concat(r)),o.trigger("route",n,r),i.history.trigger("route",o,n,r)}),this},navigate:function(t,e){return i.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=t.result(this,"routes");for(var e,i=t.keys(this.routes);null!=(e=i.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(D,"(?:$1)?").replace(O,function(t,e){return e?t:"([^/]+)"}).replace(M,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(e,i){var n=e.exec(i).slice(1);return t.map(n,function(t){return t?decodeURIComponent(t):null})}});var N=i.History=function(){this.handlers=[],t.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,k=/msie [\w.]+/,A=/\/$/;N.started=!1,t.extend(N.prototype,h,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(A,"");t.indexOf(i)||(t=t.substr(i.length))}else t=this.getHash();return t.replace(I,"")},start:function(e){if(N.started)throw Error("Backbone.history has already been started");N.started=!0,this.options=t.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),s=document.documentMode,o=k.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);this.root=("/"+this.root+"/").replace(L,"/"),o&&this._wantsHashChange&&(this.iframe=i.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?i.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?i.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var r=this.location,a=r.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&r.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search)),this.options.silent?void 0:this.loadUrl())
},stop:function(){i.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),N.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var i=this.fragment=this.getFragment(e),n=t.any(this.handlers,function(t){return t.route.test(i)?(t.callback(i),!0):void 0});return n},navigate:function(t,e){if(!N.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var i=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),i.history=new N;var P=function(e,i){var n,s=this;n=e&&t.has(e,"constructor")?e.constructor:function(){return s.apply(this,arguments)},t.extend(n,s,i);var o=function(){this.constructor=n};return o.prototype=s.prototype,n.prototype=new o,e&&t.extend(n.prototype,e),n.__super__=s.prototype,n};f.extend=v.extend=_.extend=T.extend=N.extend=P;var H=function(){throw Error('A "url" property or function must be specified')},B=function(t,e){var i=e.error;e.error=function(n){i&&i(t,n,e),t.trigger("error",t,n,e)}}}.call(this),this.Backbone}),define("joshfire-framework/collection",["joshlib!vendor/backbone","joshlib!vendor/underscore"],function(t,e){var i=t.Collection.extend({fetched:!1,hasMore:!0,skip:0,limit:20,initialize:function(t,e){this.ds=null,this.dsq={},this.hasMore=!0,e=e||{},e.dataSource&&this.setDataSource(e.dataSource),e.dataSourceQuery&&this.setDataSourceQuery(e.dataSourceQuery),this.listenTo(this,"add",function(){this.fetched=!0}),this.listenTo(this,"reset",function(){this.fetched=!0})},fetchMore:function(){this.fetch({dataSourceQuery:{skip:this.skip,limit:this.limit},update:!0,add:!0,remove:!1})},setDataSource:function(t){this.ds=t},setDataSourceQuery:function(t){this.dsq=t},sync:function(t,i,n){n=n||{};var s=n.success||function(){},o=n.error||function(){},r=0===this.length;if(!this.ds)return this.trigger("load:error",{err:"init failed, ds is null"}),this.trigger("syncerror",{method:t,err:"init failed, ds is null"}),o("init failed, ds is null");var a={};return this.dsq&&(a=e.extend(a,this.dsq)),n.dataSourceQuery&&(a=e.extend(a,n.dataSourceQuery)),"read"!==t?(this.trigger("load:error",{err:"collection is read-only"}),this.trigger("syncerror",{method:t,err:"collection is read-only"}),o("Collection is read-only")):(this.trigger("load:start"),this.trigger("syncstarted",{method:t}),this.ds.find(a,e.bind(function(e,i){if(e)return this.trigger("load:error",{err:e}),this.trigger("syncerror",{method:t,err:e}),o(e);var n=[];n=this.ds.children?i.entries.map(function(t){return t.entries}):i.entries||[],s(n),n.length>0&&(this.skip+=n.length,0===this.limit&&(this.limit=n.length)),(0===n.length||n.length<this.limit)&&(this.hasMore=!1),n.length>0&&(r?this.trigger("load:first"):this.trigger("load:more")),this.hasMore||this.trigger("load:last"),this.trigger("load"),this.trigger("syncsuccess",{method:t})},this)),void 0)}});return i}),define("collections/samsungImageObjects",["joshlib!collection","joshlib!vendor/underscore"],function(t){var e=t.extend({});return e}),define("joshfire-framework/view",["joshlib!utils/dollar","require","joshlib!vendor/backbone","joshlib!vendor/underscore"],function(t,e,i,n){var s=i.View.extend({compileTemplate:n.template,rendered:!1,removed:!1,hidden:!1,initializeLogId:function(t){this.logid||(t=t||{},this.logid=t.logid||this.cid+(t.name?"-"+t.name:""))},initialize:function(e){e=e||{},this.initializeLogId(e),this.hidden=!!e.hidden,this.data=e.data||{},this.loadImagesSmoothly=e.loadImagesSmoothly||!1,this.imageClass=e.imageClass,this.processImageEl=e.processImageEl,this.getImages=e.getImages||n.bind(function(){var e=t.map(this.$("img"),function(e){return this.imageClass&&t(e).addClass(this.imageClass),{el:e,url:t(e).attr("src")}});return e},this),this.customLoadEvent=e.customLoadEvent||!1,this.loadingClass=e.loadingClass||null,this.loadingClass&&(n.isString(this.loadingClass)||(this.loadingClass="loading")),this.onScroll=e.onScroll||this.onScroll||null,this.onScrollHandler=n.bind(this.onScrollHandler,this)},render:function(t){this.generate(n.bind(function(e,i){i!==!1&&this.setContent(i),this.enhance(),"function"==typeof t&&t()},this))},setContent:function(t){this.hidden?this.$el.hide():this.$el.show(),this.$el.html(""),this.$el.append(t),this.removed=!1,this.rendered=!0},generate:function(t){t(null,"")},wrapContent:function(t,e){t=t||"";var i=function(t){return t?t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"):""};if(!this.el)return"<div>"+t+"</div>";for(var n="<"+this.el.nodeName.toLowerCase(),s=0;this.el.attributes.length>s;s++){var o=this.el.attributes[s];n+=o.value?" "+o.name+'="'+i(o.value)+'"':" "+o.name}return this.hidden&&(n+=' style="display:none"'),e&&(n+=' data-joshfire-child="'+i(e)+'"'),n+=">"+t+"</"+this.el.nodeName.toLowerCase()+">"},hide:function(){this.hidden||(this.$el.hide(),this.hidden=!0,this.trigger("hidden"),this.trigger("hide"))},show:function(){this.hidden&&(this.$el.show(),this.hidden=!1,this.trigger("shown"),this.trigger("show"))},runImageLoader:function(){if(!this.getImages)return this.trigger("load"),void 0;var e=this.getImages();if(!e||0===e.length)return this.trigger("imagesLoad"),this.customLoadEvent||this.trigger("load"),void 0;var i=0,s=n.bind(function(n,s){s&&t(s).removeClass("loading"),this.trigger("imageLoad",n,s),i+=1,i===e.length&&(this.trigger("imagesLoad"),this.customLoadEvent||this.trigger("load"))},this);n.each(e,n.bind(function(e){if(!e.el||!e.url)return s(e.el);var i=e.el;this.processImageEl&&(i=this.processImageEl(e.el)),t(i).addClass("loading");var n=new Image;n.onload=function(){s(null,i),n=null},n.onerror=function(){var t="Error";s(t,i),n=null},n.src=e.url},this))},enhance:function(){this.isLoadingNeeded()&&this.$el&&(this.showLoader(),this.off("load",this.hideLoader,this),this.on("load",this.hideLoader,this)),this.isImageLoadingNeeded()&&this.$el&&this.runImageLoader(),this.onScroll&&(this.$el.off("scroll",this.onScrollHandler),this.$el.on("scroll",this.onScrollHandler)),this.customLoadEvent||this.isImageLoadingNeeded()||this.trigger("load")},setElement:function(t,e){var n=!!this.el;return i.View.prototype.setElement.call(this,t,e),n&&(this.removed=!1,this.rendered=!0),this},remove:function(){this.removed=!0,this.rendered=!1,i.View.prototype.remove.call(this)},callIfNotRemoved:function(t){var e=this;return function(){if(!e.removed){var i=Array.prototype.slice.call(arguments);t.apply(e,i)}}},onScrollHandler:function(e){var i=t(e.target);this.onScroll.call(i[0],e,i[0].scrollHeight,i.scrollTop(),i.scrollLeft())},scrollTop:function(){this.$el.animate({scrollTop:0,scrollLeft:0},500)},isLoadingNeeded:function(){return this.loadingClass},isImageLoadingNeeded:function(){return this.loadImagesSmoothly},showLoader:function(){this.$el.addClass(this.loadingClass)},hideLoader:function(){this.$el.removeClass(this.loadingClass)}});return s}),define("joshfire-framework/uielement",["joshlib!view"],function(t){var e=t.extend({});return e}),define("joshfire-framework/adapters/tv/uielement",["joshlib!adapters/none/uielement","joshlib!vendor/underscore","joshlib!utils/dollar","require"],function(t,e,i){var n=t.extend({translateY:0,initialize:function(i){i=i||{},t.prototype.initialize.call(this,i),e.bindAll(this,"navFocus","navBlur","processKey"),this.focused=!1,this.boundNav=[];var n=["navUp","navRight","navDown","navLeft","navAction","navFocus","navBlur"];for(var s in n)i[n[s]]&&(this.boundNav[n[s]]=!0,this[n[s]]=i[n[s]]);this.scroller=i.scroller||!1,this.offsetTop=i.offsetTop||0,this.offsetBottom=i.offsetBottom||0,this.focusSubElements=i.focusSubElements||!1,this.scrollStep=i.scrollStep||100,this.translate3d=void 0!==i.translate3d?i.translate3d:!0},enhance:function(){if(this.scroller){var e=i(this.el),s=e.children().first(),o=function(){var t,i=e.height(),n=s.height();if(i-this.offsetBottom-this.offsetTop>n)return t=this.guessNextFocusableSubElement("down"),t&&this.focusSubElement(t),void 0;this.focusSubElements?(t=this.guessNextFocusableSubElement("down"),t?this.focusSubElement(t):this.translateY=Math.max(i-n-this.offsetBottom-this.offsetTop,this.translateY-this.scrollStep)):this.translateY=Math.max(i-n-this.offsetBottom-this.offsetTop,this.translateY-this.scrollStep);var o="translate3d(0,"+this.translateY+"px,0)";this.translate3d?s.css({"-webkit-transform":o,"-moz-transform":o,"-ms-transform":o,"-o-transform":o,transform:o}):s.css({position:"absolute",top:this.translateY})};this.boundNav.navDown?n.prototype.navDown=o:this.navDown=o;var r=function(){var t,i=e.height(),n=s.height();if(i-this.offsetBottom-this.offsetTop>n)return t=this.guessNextFocusableSubElement("up"),t&&this.focusSubElement(t),void 0;this.focusSubElements?(t=this.guessNextFocusableSubElement("up"),t?this.focusSubElement(t):this.translateY=Math.min(0,this.translateY+this.scrollStep)):this.translateY=Math.min(0,this.translateY+this.scrollStep);var o="translate3d(0,"+this.translateY+"px,0)";this.translate3d?s.css({"-webkit-transform":o,"-moz-transform":o,"-ms-transform":o,"-o-transform":o,transform:o}):s.css({position:"absolute",top:this.translateY})};this.boundNav.navUp?n.prototype.navUp=r:this.navUp=r}t.prototype.enhance.call(this)},navFocus:function(t){if(!this.isFocusedElement()){var e=i(this.el);if(e.addClass("nav-focused"),i(document).keydown(this.processKey),e.click(this.processClick),t&&(this.origin=t),this.focused=!0,i(".nav-focused-ancestor").removeClass("nav-focused-ancestor"),e.parents().addClass("nav-focused-ancestor"),n.focusedElement&&n.focusedElement.navBlur(),this.focusSubElements){this.getFocusableSubElements();var s=this.guessNextFocusableSubElement("down");s&&this.isSubElementOnScreen(s)&&this.focusSubElement(s)}n.focusedElement=this}},navBlur:function(){i(this.el).removeClass("nav-focused"),i(document).unbind("keydown",this.processKey),i(this.el).unbind("click",this.processClick),this.$(".sub-nav-focused").length&&this.$(".sub-nav-focused")[0].blur(),this.focused=!1},isFocusedElement:function(){return n.focusedElement===this},processClick:function(t){return this.navClick?this.navClick(t):(this.origin&&this.origin.processClick(t),!0)},processKey:function(t){var i=t.keyCode,n=e.bind(function(e){return e?e.call(this,t):this.origin?this.origin.processKey(t):void 0},this);return 38===i||i===window.VK_UP?n(this.navUp):39===i||i===window.VK_RIGHT?n(this.navRight):40===i||i===window.VK_DOWN?n(this.navDown):37===i||i===window.VK_LEFT?n(this.navLeft):13===i||32===i||i===window.VK_ENTER?n(this.navAction):!0},getFocusableSubElements:function(){var t=this.$("a[href*=h], input, button, select, textarea, command");this.focusableElements=[];for(var e=0;t.length>e;e++)t.hasOwnProperty(e)&&"object"==typeof t[e]&&this.focusableElements.push({$el:i(t[e]),x:i(t[e]).offset().left,y:i(t[e]).offset().top})},focusSubElement:function(t){e.each(this.focusableElements,function(t){t.focused=!1}),t.$el[0].focus(),t.focused=!0,i(".sub-nav-focused").removeClass("sub-nav-focused"),t.$el.addClass("sub-nav-focused")},scrollToSubElement:function(t,e){var i=0;return i="down"===e?this.translateY-t.$el.height()-this.scrollStep:this.translateY+t.$el.height()+this.scrollStep},guessNextFocusableSubElement:function(t){var e=[];for(var i in this.focusableElements)this.focusableElements[i].index=i,this.isSubElementOnScreen(this.focusableElements[i])&&e.push(this.focusableElements[i]);if(e.length){for(var n in e)if(e[n].focused){if("up"===t)return e[parseInt(n,10)-1]||!1;if("down"===t)return e[parseInt(n,10)+1]||!1}return e[0]}return!1},isSubElementOnScreen:function(t){return t.y>-1*this.translateY&&t.y<-1*this.translateY+i(this.el).outerHeight()?!0:!1}});return n}),define("joshfire-framework/adapters/samsungtv/uielement",["joshlib!adapters/tv/uielement"],function(t){var e=t.extend({initialize:function(e){e=e||{},e.translate3d=!1,t.prototype.initialize.call(this,e)}});return e}),define("joshfire-framework/ui/listitem",["joshlib!uielement","require"],function(t){var e=t.extend({tagName:"li",initialize:function(e){e=e||{},this.initializeLogId(e),this.view=e.view,this.view.data=this.view.data||{},this.offset=e.offset,this.customLoadEvent=!0,this.view&&this.listenTo(this.view,"load",function(){this.trigger("load")}),t.prototype.initialize.call(this,e)},generate:function(t){var e=this;this.view.data.offset=this.offset,this.view.generate(function(i,n){n=e.wrapContent(n,e.offset+""),t(null,n)})},enhance:function(){this.view&&this.view.enhance(),t.prototype.enhance.call(this)},setElement:function(e,i){this.view&&this.view.setElement(e,i),t.prototype.setElement.call(this,e,i)},remove:function(){t.prototype.remove.call(this),this.view&&(this.view.remove(),this.view=null)}});return e}),define("joshfire-framework/adapters/samsungtv/inputs/remote",["joshlib!vendor/backbone","joshlib!utils/dollar","joshlib!vendor/underscore"],function(t,e,i){if("undefined"!=typeof Common){var n=new Common.API.TVKeyValue;window.VK_ENTER=n.KEY_ENTER,window.VK_PAUSE=n.KEY_PAUSE,window.VK_LEFT=n.KEY_LEFT,window.VK_UP=n.KEY_UP,window.VK_RIGHT=n.KEY_RIGHT,window.VK_DOWN=n.KEY_DOWN,window.VK_0=n.KEY_PAD_0,window.VK_1=n.KEY_PAD_1,window.VK_2=n.KEY_PAD_2,window.VK_3=n.KEY_PAD_3,window.VK_4=n.KEY_PAD_4,window.VK_5=n.KEY_PAD_5,window.VK_6=n.KEY_PAD_6,window.VK_7=n.KEY_PAD_7,window.VK_8=n.KEY_PAD_8,window.VK_9=n.KEY_PAD_9,window.VK_RED=n.KEY_RED,window.VK_GREEN=n.KEY_GREEN,window.VK_YELLOW=n.KEY_YELLOW,window.VK_BLUE=n.KEY_BLUE,window.VK_REWIND=n.KEY_RW,window.VK_STOP=n.KEY_STOP,window.VK_PLAY=n.KEY_PLAY,window.VK_FAST_FWD=n.KEY_FF,window.VK_BACK=n.KEY_RETURN,window.VK_VOL_UP=n.KEY_VOL_UP,window.VK_VOL_DOWN=n.KEY_VOL_DOWN,window.VK_MUTE=n.KEY_MUTE,window.VK_EXIT=n.KEY_EXIT}var s={};s[window.VK_ENTER]="enter",s[window.VK_PAUSE]="pause",s[window.VK_PAGE_UP]="page_up",s[window.VK_PAGE_DOWN]="page_down",s[window.VK_LEFT]="left",s[window.VK_UP]="up",s[window.VK_RIGHT]="right",s[window.VK_DOWN]="down",s[window.VK_0]="0",s[window.VK_1]="1",s[window.VK_2]="2",s[window.VK_3]="3",s[window.VK_4]="4",s[window.VK_5]="5",s[window.VK_6]="6",s[window.VK_7]="7",s[window.VK_8]="8",s[window.VK_9]="9",s[window.VK_RED]="red",s[window.VK_GREEN]="green",s[window.VK_YELLOW]="yellow",s[window.VK_BLUE]="blue",s[window.VK_REWIND]="rewind",s[window.VK_STOP]="stop",s[window.VK_PLAY]="play",s[window.VK_FAST_FWD]="fast_fwd",s[window.VK_INFO]="info",s[window.VK_BACK]="back",s[window.VK_VOL_UP]="vol_up",s[window.VK_VOL_DOWN]="vol_down",s[window.VK_MUTE]="mute",s[window.VK_EXIT]="exit";var o=function(){i.bindAll(this,"onKeyDown","onKeyUp");var t=e(window);t.on("keydown",this.onKeyDown),t.on("keyup",this.onKeyUp)};return i.extend(o.prototype,t.Events,{destroy:function(){var t=e(window);t.off("keydown",this.onKeyDown),t.off("keyup",this.onKeyUp)},onKeyDown:function(t){var e=s[t.keyCode];e!==void 0&&this.trigger("press:"+e,t)},onKeyUp:function(t){var e=s[t.keyCode];e!==void 0&&this.trigger("release:"+e,t)}}),o}),define("joshfire-framework/router",["joshlib!vendor/backbone","joshlib!vendor/underscore"],function(t,e){var i=function(i){e.extend(i,{historyStart:function(e){t.history.start(e)}});var n=t.Router.extend(i);return new n};return i}),define("joshfire-framework/class",["joshlib!vendor/underscore"],function(t){var e=!1,i=/xyz/.test(function(){})?/\b__super\b/:/.*/,n=function(){};return n.extend=function(t){function n(){!e&&this.__constructor&&this.__constructor.apply(this,arguments)}var s=this.prototype;e=!0;var o=new this;e=!1;for(var r in t)o[r]="function"==typeof t[r]&&"function"==typeof s[r]&&i.test(t[r])?function(t,e){return function(){var i=this.__super;this.__super=s[t];var n=e.apply(this,arguments);return this.__super=i,n}}(r,t[r]):t[r];return n.prototype=o,n.constructor=n,n.extend=arguments.callee,n},function(){return t.isFunction(arguments[0])?arguments[0].extend(arguments[1]):n.extend(arguments[0])}}),define("joshfire-framework/utils/i18n",["joshlib!class","joshlib!vendor/underscore","joshlib!utils/dollar"],function(t,e,i){var n=t({terms:null,setLocale:function(t,n){var s=this;s.opt=e.defaults(t,{url:"./lang/dictionaries",locale:s._detectLocale(),format:"json"}),e.extend(this,t),"auto"===s.locale.toLowerCase()&&(s.locale=s._detectLocale()),t.availableLocales&&-1===e(t.availableLocales).indexOf(s.locale)&&(s.locale=t.defaultLocale||"en");var o=s.url+"/"+s.locale+"."+s.format;-1==(""+document.location).indexOf("file://")?i.ajax({url:o,dataType:"json",success:function(t){t&&t.terms?s.terms=t.terms:console.warn("JSi18n : No dictionary was loaded."),"function"==typeof n&&n()}}):(s.terms={},"function"==typeof n&&n())},getLocale:function(){return this.locale},getText:function(t){var e=this;for(var i in e.terms)if(e.terms.hasOwnProperty(i)&&t.toLowerCase()==i.toLowerCase())return e.terms[i];return t},translateStaticContent:function(){var t=this;i("*[data-translate]").each(function(){i(this).removeAttr("data-translate"),i(this).html(t.T(i(this).html()))})},_detectLocale:function(){var t=navigator.language?navigator.language:navigator.userLanguage;return t.split("-").length>1?t.split("-")[0]:t}}),s=new n;return{getText:e.bind(s.getText,s),setLocale:e.bind(s.setLocale,s),getLocale:e.bind(s.getLocale,s)}}),define("joshfire-framework/ui/layout",["joshlib!uielement","joshlib!vendor/underscore","joshlib!utils/dollar","joshlib!utils/i18n"],function(t,e,i,n){var s=t.extend({rendering:!1,initialize:function(n){n.template?this.template=this.compileTemplate(n.template):n.templateEl&&(this.template=this.compileTemplate(i(n.templateEl).text())),n.customLoadEvent&&(this.wantsCustomLoadEvent=!0),this.customLoadEvent=!0,this.setChildren(n.children),this.on("shown",function(){e.each(this.children,function(t){t.trigger("shown")})},this),this.on("hidden",function(){e.each(this.children,function(t){t.trigger("hidden")})},this),t.prototype.initialize.call(this,n)},setChildren:function(t){this.children&&(e.each(this.children,function(t){this.stopListening(t),t.remove()},this),this.children=null),this.children=t,this.numChildren=0,this.numChildrenLoaded=0,t&&e.each(t,function(t){++this.numChildren,this.listenTo(t,"load",function(){this.rendering?(++this.numChildrenLoaded,this.numChildrenLoaded===this.numChildren&&(this.rendering=!1,this.wantsCustomLoadEvent||this.trigger("load"))):this.wantsCustomLoadEvent||this.trigger("load")})},this)},getChild:function(t){return t?this.children[t]:void 0},generate:function(t){if(!this.children)return t(null,"");this.childrenOffsets={},this.numChildrenLoaded=0;var i=0,s="",o={};e.each(this.children,function(r,a){r.generate(e.bind(function(l,h){var u=r.wrapContent(h,a);if(u=u.replace(/<([^\/][^ >\/]+)/,'<$1 data-joshfire-child="'+a+'"'),this.childrenOffsets[a]=i,o[a]=u,s+=u,++i===this.numChildren){var c=null;if(this.template){var d={children:o,T:n.getText};e.extend(d,this.data),c=this.template(d)}else c=s;t(null,c)}},this))},this)},setContent:function(e){t.prototype.setContent.call(this,e),this.children&&this.el&&this.setChildrenElements(!0)},setElement:function(e,i){t.prototype.setElement.call(this,e,i),this.setChildrenElements(i)},setChildrenElements:function(){e.each(this.children,function(t,e){var n=i(this.el).find("*[data-joshfire-child="+e+"]")[0];t.setElement(n,!0)},this)},enhance:function(){this.rendering=!0,t.prototype.enhance.call(this),this.children&&this.el&&e.each(this.children,function(t){t.enhance()},this),(!this.children||0===this.children.length&&!this.wantsCustomLoadEvent)&&(this.rendering=!1,this.trigger("load"))},remove:function(){t.prototype.remove.call(this),e.each(this.children,function(t){this.stopListening(t),t.remove()},this),this.children=null},scrollTop:function(){t.prototype.scrollTop.call(this),this.scrollTopChildren()},scrollTopChildren:function(){this.children&&e.each(this.children,function(t){t.scrollTop()})}});return s}),define("joshfire-framework/ui/cardpanel",["joshlib!ui/layout","joshlib!vendor/underscore","joshlib!utils/i18n","joshlib!utils/dollar","require"],function(t,e,i,n){var s=t.extend({initialize:function(e){e=e||{},this.initializeLogId(e),this.showChild(e.currentChild||e.defaultChildren),t.prototype.initialize.call(this,e)},showChild:function(t){if(this.currentChild!==t){if(!this.rendered)return this.currentChild=t,void 0;this.transition(this.currentChild,t),this.currentChild=t}},showChildren:function(t){this.showChild(t)},transition:function(t,i){e.each(this.children,function(t,e){e!==i&&t.hide()}),i&&this.children[i].show()},setChildrenElements:function(){e.each(this.children,function(t,e){var i=this.$el.find(".joshfire-wrapper").get(0),n=i.childNodes[this.childrenOffsets[e]];t.setElement(n,!0)},this)},addChild:function(t,i){var n=this;this.children||{},this.el.parentNode&&(this.children=this.children||{},this.children[t]=i,this.numChildren+=1,this.listenTo(i,"load",function(){this.rendering?(++this.numChildrenLoaded,this.numChildrenLoaded===this.numChildren&&(this.rendering=!1,this.wantsCustomLoadEvent||this.trigger("load"))):this.wantsCustomLoadEvent||this.trigger("load")}),this.rendered&&(this.childrenOffsets=this.childrenOffsets||{},this.childrenOffsets[t]=this.childrenOffsets?e.size(this.childrenOffsets):0,i.hide(),i.generate(e.bind(function(e,s){var o=i.wrapContent(s);o=o.replace(/<([^\/][^ >\/]+)/,'<$1 data-joshfire-child="'+t+'"'),n.$(".joshfire-wrapper").append(o);var r=this.$el.find(".joshfire-wrapper").get(0),a=r.childNodes[this.childrenOffsets[t]];i.setElement(a,!0),i.enhance()},this))))},removeChild:function(t){var e=this.children[t];e&&(delete this.children[t],e.el.parentNode.removeChild(e.el),this.setChildrenOffset())},setChildrenOffset:function(){var t=this.$el.find(".joshfire-wrapper").get(0),i=t.childNodes,s=e.keys(this.children);this.childrenOffsets={};for(var o in i)if(i.hasOwnProperty(o)){var r=n(i[o]).data("joshfire-child");e.contains(s,r)&&(this.childrenOffsets[r]=o)}},generate:function(t){var n=this;this.childrenOffsets={},this.numChildrenLoaded=0;var s=0,o="",r={},a=function(t){t=t||"";var s='<div class="joshfire-wrapper">'+t+"</div>",o=null;if(n.template){var a={childrenOuterHTML:s,childrenHTML:r,T:i.getText};e.extend(a,n.data),o=n.template(a)}else o=s;return o};if(!this.children||0===e.size(this.children)){var l=a(o);t(null,l)}e.each(this.children,function(i,n){i.generate(e.bind(function(e,l){var h=i.wrapContent(l);if(this.childrenOffsets[n]=s,r[n]=h,o+=h,++s===this.numChildren){var u=a(o);t(null,u)}},this))},this)},enhance:function(){t.prototype.enhance.call(this),this.$(".joshfire-wrapper").first().css({height:"100%"}),this.currentChild&&this.transition(null,this.currentChild)},scrollTopChildren:function(){this.currentChild&&this.children[this.currentChild].scrollTop()}});return s}),define("joshfire-framework/adapters/tv/ui/cardpanel",["joshlib!adapters/none/ui/cardpanel"],function(t){var e=t.extend({navFocus:function(e,i){t.prototype.navFocus.call(this,e,i),this.children[this.currentChild].navFocus(this)}});return e}),define("joshfire-framework/adapters/samsungtv/ui/slidepanel",["joshlib!adapters/tv/ui/cardpanel"],function(t){return t}),define("joshfire-framework/adapters/samsungtv/ui/fadeinpanel",["joshlib!adapters/tv/ui/cardpanel"],function(t){return t}),define("joshfire-framework/ui/item",["joshlib!uielement","joshlib!utils/dollar","require","joshlib!vendor/underscore","joshlib!utils/i18n"],function(t,e,i,n,s){var o=t.extend({initialize:function(i){i=i||{},this.initializeLogId(i),"string"==typeof i.template?this.template=this.compileTemplate(i.template):"function"==typeof i.template?this.template=i.template:i.templateEl&&(this.template=this.compileTemplate(e(i.templateEl).text())),this.setModel(i.model),t.prototype.initialize.call(this,i)},setModel:function(t,e){this.model&&this.stopListening(this.model),this.model=t,this.model&&this.listenTo(this.model,"change",this.callIfNotRemoved(this.update)),e&&this.update()},update:function(){this.rendered&&this.render()},generate:function(t){if(!this.template)return t(null,"");if(!this.model)return t(null,"");var e={model:this.model,obj:this.model,item:this.model?this.model.toJSON():{},T:s.getText};n.extend(e,this.data),t(null,this.template(e))},remove:function(){t.prototype.remove.call(this),this.model=null}});return o}),define("ui/imagesloader",["joshlib!ui/item","joshlib!utils/dollar","joshlib!vendor/underscore"],function(t,e,i){var n=t.extend({initialize:function(i){this.imageClass=i.imageClass,this.imageSchema=i.imageSchema,this.imageContainer=i.imageContainer,this.processImageEl=i.processImageEl;var n=this;this.getImages__=i.getImages||function(){var t=e.map(n.$el.find("img, .img, .image, .thumbnail"),function(t){var i,s=e(t);n.imageClass&&s.addClass(n.imageClass),n.imageSchema&&s.data("joshfire-autothumb")&&(parseInt(s.width,10)||parseInt(s.height(),10))?i=Joshfire.schemaio.utils.getThumbnailUrl(n.imageSchema,parseInt(s.width(),10),parseInt(s.height(),10)):s.attr("src")||(i=n.imageSchema.contentURL||n.imageSchema.image&&n.imageSchema.image.contentURL),i&&("IMG"===t.tagName?s.attr("src",i):s.css("backgroundImage","url("+i+")"));var o;return n.imageContainer&&(o=n.$(n.imageContainer).get(0)),o||(o=n.$el.get(0)),{el:o,url:i}});return t},this.customLoadEvent=!0,t.prototype.initialize.call(this,i)},generate:function(t){if(!this.model)return t(null,""),void 0;var e=this,n={model:this.model,obj:this.model,item:this.model?this.model.toJSON():{},imageUrl:Joshfire.schemaio.utils.getThumbnailUrl(e.imageSchema,100,100),thumbnail:function(t,i){return Joshfire.schemaio.utils.getThumbnailUrl(e.imageSchema,t||100,i||100)}};i.extend(n,this.data),t(null,this.template(n))},enhance:function(){var n=this;if(!n.imageSchema||!this.getImages__)return t.prototype.enhance.call(this),console.warn("no images to load"),this.trigger("load"),void 0;var s=this.getImages__();if(!s||0===s.length)return t.prototype.enhance.call(this),console.warn("no images to load"),this.trigger("load"),void 0;var o=0,r=function(t){t&&e(t).removeClass("loading"),o+=1,o===s.length&&n.trigger("load")};i.each(s,function(t){if(!t.el||!t.url)return r(t.el);var i=t.el;n.processImageEl&&(i=n.processImageEl(t.el)),e(i).addClass("loading");var s=new Image;s.onload=function(){r(i),s=null},s.onerror=function(){r(i),s=null},s.src=t.url}),t.prototype.enhance.call(this),this.trigger("enhanced")}});return n}),define("ui/itemTvMention",["joshlib!ui/item","joshlib!utils/dollar","joshlib!vendor/underscore","require"],function(t,e,i){var n=t.extend({initialize:function(e){this.videoDetail=e.videoDetail,this.mentions=e.mentions,e.navUp=this.navUp,e.navDown=this.navDown,t.prototype.initialize.call(this,e),this.realNavLeft=this.navLeft,this.navLeft=function(){this.watchingVideo?this.hideVideo():this.realNavLeft.call(this)}},enhance:function(){t.prototype.enhance.call(this),this.trigger("enhanced")},navAction:function(t){var n=e(t.target).find("img.videoThumbnail"),s=e(t.target).data("cid");if(this.watchingVideo)this.hideVideo();else if(n.length>0){var o=i.find(this.mentions,function(t){return t.cid===s});this.videoDetail.setModel(o.model),this.videoDetail.render(),this.videoDetail.show(),this.watchingVideo=!0,this.navFocus()}},navUp:function(){this.watchingVideo?this.hideVideo():t.prototype.navUp.call(this)},navDown:function(){this.watchingVideo?this.hideVideo():t.prototype.navDown.call(this)},navRight:function(){this.watchingVideo&&this.hideVideo()},hideVideo:function(){this.videoDetail.hide(),this.watchingVideo=!1},getFocusableSubElements:function(){var t=this.$("a[href*=h], input, button, select, textarea, command, .mentionFocus");this.focusableElements=[];for(var i=0;t.length>i;i++)t.hasOwnProperty(i)&&"object"==typeof t[i]&&this.focusableElements.push({$el:e(t[i]),x:e(t[i]).offset().left,y:e(t[i]).offset().top})}});return n}),define("joshfire-framework/ui/list",["joshlib!uielement","joshlib!ui/listitem","joshlib!ui/item","joshlib!utils/dollar","joshlib!vendor/underscore","joshlib!utils/i18n","require","joshlib!utils/closest_descendant"],function(t,e,i,n,s,o,r,a){var l=t.extend({listHeight:0,initialize:function(o){o=o||{},this.initializeLogId(o),this.template=o.templateEl?this.compileTemplate(n(o.templateEl).text()):o.template?s.isFunction(o.template)?o.template:this.compileTemplate(o.template):this.compileTemplate("<ul><%= children %></ul>"),this.itemOptions=o.itemOptions||{scroller:!1},this.listItemOptions=o.listItemOptions||{},this.itemTemplateEl=o.itemTemplateEl,this.itemOptions.templateEl=this.itemOptions.templateEl||this.itemTemplateEl,this.itemOptions.template=this.itemOptions.template||o.itemTemplate,this.maxLength=o.maxLength||null,this.data=o.data||{},this.items=[],this.itemFactory=o.itemFactory||function(t,e){var n={model:t,offset:e};return s.extend(n,this.itemOptions),new i(n)},this.itemFactory=s.bind(this.itemFactory,this),this.listItemFactory=o.listItemFactory||function(t,i){var n={model:t,offset:i,view:this.itemFactory(t,i)};return s.extend(n,this.listItemOptions),new e(n)},this.listItemFactory=s.bind(this.listItemFactory,this),this.autoLoadMore=o.autoLoadMore,this.loadMore=function(){this.isLoadingMore||this.collection&&this.collection.hasMore&&(this.isLoadingMore=!0,o.loadMore?o.loadMore(this.collection):s.isFunction(this.collection.fetchMore)?this.collection.fetchMore():(this.collection.hasMore=!1,this.isLoadingMore=!1))},o.onScroll=this.autoLoadMore?o.onScroll||s.bind(function(t,e,i){this.isLoadingMore||this.collection.hasMore&&e-this.getLoadMoreDistance()<=i+this.$el.innerHeight()&&this.loadMore()},this):o.onScroll||!1,o.customLoadEvent&&(this.wantsCustomLoadEvent=!0),this.customLoadEvent=!0,this.dataLoadingClass="loading",o.dataLoadingClass!==void 0&&(this.dataLoadingClass=o.dataLoadingClass),o.dataLoadingClass===!1&&(this.dataLoadingClass=""),this.dataLoadingMoreClass=o.dataLoadingMoreClass!==void 0?o.dataLoadingMoreClass:this.dataLoadingClass,o.dataLoadingMoreClass===!1&&(this.dataLoadingMoreClass=""),this.listenTo(this,"shown",function(){s.each(this.items,function(t){t.trigger("shown")})}),this.listenTo(this,"hidden",function(){s.each(this.items,function(t){t.trigger("hidden")})}),t.prototype.initialize.call(this,o),o.collection&&this.setCollection(o.collection)},getItemContainer:function(){var t="*[data-container], ul, ol",e=a(this.$el,t);return 0===e.length&&(e=this.$el.first()),e},setCollection:function(t,e){this.collection&&this.stopListening(this.collection),this.collection=t,this.collectionChanged=!0,this.newChildren=[],this.collection&&(this.listenTo(this.collection,"add",this.callIfNotRemoved(this.addChild)),this.listenTo(this.collection,"remove",this.callIfNotRemoved(this.colChangedHandler)),this.listenTo(this.collection,"reset",this.callIfNotRemoved(this.colChangedHandler)),this.listenTo(this.collection,"sort",this.callIfNotRemoved(this.colChangedHandler)),this.listenTo(this.collection,"load:start",this.callIfNotRemoved(this.syncStartedHandler)),this.listenTo(this.collection,"load",this.callIfNotRemoved(this.syncSuccessHandler)),this.listenTo(this.collection,"load:error",this.callIfNotRemoved(this.syncErrorHandler))),e&&this.update()},getListHeight:function(){return this.$el.find(".first").outerHeight()},updateLoadMoreDistance:function(){var t=this.getListHeight()||200;this.loadMoreDistance=.25*t},getLoadMoreDistance:function(){return this.loadMoreDistance},addChild:function(t){var e=this.items.length,i=this.listItemFactory(t,e);(!this.maxLength||this.maxLength&&this.maxLength>e)&&(this.items.push(i),this.rendered&&(this.newChildren.push(i),this.renderChildren()))
},renderChildren:s.debounce(function(){var t=this.getItemContainer(),e=t.children().last().data("joshfire-child"),i="";s(this.newChildren).each(s.bind(function(t){t.generate(s.bind(function(t,e){i+=e},this))},this)),t.append(i),this.setChildrenElements(e+1),this.newChildren=[],this.childrenLeftToAdd=0,this.hasScroller&&this.iScroller?(this.iScroller.options.onRefresh=s.once(s.bind(function(){this.updateLoadMoreDistance(),this.isLoadingMore=!1,this.trigger("render:children")},this)),s.defer(s.bind(function(){this.iScroller.refresh()},this))):(this.updateLoadMoreDistance(),this.isLoadingMore=!1,this.trigger("render:children"))}),colChangedHandler:function(){this.update()},update:function(){this.collectionChanged=!0,this.rendered&&this.render()},createChildrenViews:function(){var t=this.maxLength?Math.min(this.collection.length,this.maxLength):this.collection.length;s.each(this.items,function(t){this.garbageCollect(t)},this),this.collectionChanged=!1,this.items=Array(t),this.itemsLoaded=0;var e=function(){++this.itemsLoaded,this.itemsLoaded!==t||this.wantsCustomLoadEvent||this.trigger("load")};this.collection.some(function(i,n){return n>=t?!0:(this.items[n]=this.listItemFactory(i,n),this.listenTo(this.items[n],"load",s.bind(e,this)),void 0)},this)},setChildrenElements:function(t){var e=this.getItemContainer();s.each(this.items,function(i,n){if(!(t>n)){var s=i.tagName||"*",o=e.find("> "+s+"[data-joshfire-child="+n+"]")[0];i.setElement(o,!0),i.enhance()}},this)},generate:function(t){t=t||function(){};var e=0,i=this.template,n=this;(!this.items||this.collectionChanged)&&this.createChildrenViews();var r=this.items;if(!r||!r.length){var a={children:"",collection:this.collection,T:o.getText};a=s.extend(a,this.data);var l=i(a);return t(null,l)}for(var h=Array(r.length),u=0;r.length>u;u++)(function(a,l){a.generate(function(a,u){if(h[l]=u,++e===r.length){var c={children:h.join(""),collection:n.collection,T:o.getText};c=s.extend(c,n.data);var d=i(c);t(null,d)}})}).call(this,r[u],u)},enhance:function(){this.setChildrenElements(),this.$(".joshfire-link").off("click").on("click",function(t){t.preventDefault();var e=n(t.currentTarget).attr("data-joshfire-link-url");return window.location=e,!1}),this.garbageCollect(),t.prototype.enhance.call(this),this.updateLoadMoreDistance(this.items.length),0!==this.items.length||this.wantsCustomLoadEvent||this.trigger("load")},garbageCollect:function(t){this.garbage=this.garbage||[],t?(this.stopListening(t),t.stopListening(),this.garbage.push(t)):(s.each(this.garbage,function(t){t.remove()}),this.garbage=[])},remove:function(){t.prototype.remove.call(this),s.each(this.items,function(t){t.remove()}),this.collection=null,this.items=[],this.newChildren=[],this.itemFactory=null,this.listItemFactory=null,this.loadMore=null},syncStartedHandler:function(){var t=null;t=this.isLoadingMore?this.dataLoadingMoreClass:this.dataLoadingClass,this.$el.addClass(t),this.hasScroller&&this.iScroller&&s.defer(s.bind(this.iScroller.refresh,this.iScroller))},syncSuccessHandler:function(){this.newChildren&&0!==this.newChildren.length||(this.isLoadingMore=!1),this.dataLoadingMoreClass&&this.$el.removeClass(this.dataLoadingMoreClass),this.dataLoadingClass&&this.$el.removeClass(this.dataLoadingClass),this.hasScroller&&this.iScroller&&s.defer(s.bind(this.iScroller.refresh,this.iScroller))},syncErrorHandler:function(){this.isLoadingMore=!1,this.dataLoadingMoreClass&&this.$el.removeClass(this.dataLoadingMoreClass),this.dataLoadingClass&&this.$el.removeClass(this.dataLoadingClass),this.hasScroller&&this.iScroller&&s.defer(s.bind(this.iScroller.refresh,this.iScroller))}});return l}),define("ui/imagegallery",["joshlib!ui/list","vendor/klass","vendor/photoswipe","joshlib!vendor/underscore"],function(t,e,i,n){var s=t.extend({name:"imagegallery",initialize:function(e){this.photoswipe={getImageCaption:function(t){return t.title},minUserZoom:1,cacheMode:Code.PhotoSwipe.Cache.Mode.normal},e.photoswipe&&n.extend(this.photoswipe,e.photoswipe),this.linkSelector=e.linkSelector||'a[href$=".jpg"],a[href$=".jpeg"],a[href$=".png"],a[href$=".gif"]',t.prototype.initialize.call(this,e)},addChild:function(e){t.prototype.addChild.call(this,e),this.updatePhotoSwipe()},updatePhotoSwipe:n.debounce(function(){var t=this.$(this.linkSelector);t.length&&Code.PhotoSwipe.attach(t,this.photoswipe)}),enhance:function(){var e=this.$(this.linkSelector);e.length&&Code.PhotoSwipe.attach(e,this.photoswipe),t.prototype.enhance.call(this)}});return s}),define("joshfire-framework/adapters/tv/ui/toolbar",["joshlib!ui/list","joshlib!utils/dollar","joshlib!vendor/underscore"],function(t,e){var i=t.extend({initialize:function(e){t.prototype.initialize.call(this,e),this.minLengthToShow=e.minLengthToShow,this.active=-1},generate:function(i){this.collection&&this.minLengthToShow>0&&this.collection.length<this.minLengthToShow&&e("body").addClass("no-toolbar"),t.prototype.generate.call(this,i)},navFocus:function(e,i){t.prototype.navFocus.call(this,e,i),!i&&-1===this.active&&this.collection.length&&this.activate(0)},navDown:function(){this.collection.length&&this.activate(Math.min(this.active+1,this.collection.length-1))},navUp:function(){this.collection.length&&this.activate(Math.max(this.active-1,0))},navAction:function(){this.origin&&this.origin.navRight&&this.origin.navRight()},activate:function(t){if(t!==this.active){this.$(".nav-active").removeClass("nav-active");var i=e(this.items[t].$el);i.addClass("nav-active");var n=i.find("a");n.length&&(window.location=n.attr("href")),this.active=t}}});return i}),define("joshfire-framework/adapters/tv/ui/verticallist",["joshlib!ui/list","joshlib!utils/dollar","require","joshlib!vendor/underscore"],function(t,e,i,n){var s=t.extend({initialize:function(i){i=i||{},this.initializeLogId(i);var s=i.autoLoadMore;i.autoLoadMore=!1,t.prototype.initialize.call(this,i),this.autoLoadMore=s,this.active=-1,this.offsetTop=i.offsetTop||0,this.offsetBottom=i.offsetBottom||0,this.translate3d=void 0!==i.translate3d?i.translate3d:!0,e(window).resize(n.bind(function(){-1!==this.active&&this.calculateTransform(this.active)},this)),this.listenTo(this,"render:children",function(){-1!==this.active&&this.calculateTransform(this.active)})},navFocus:function(e){this.isFocusedElement()||(t.prototype.navFocus.call(this,e),this.collection.length&&(-1===this.active?this.activate(0):this.activate(this.active)))},navBlur:function(){t.prototype.navBlur.call(this),this.$(".nav-active").removeClass("nav-active")},navDown:function(){this.collection.length&&(this.activate(Math.min(this.active+1,this.collection.length-1)),this.autoLoadMore&&this.active>this.collection.length-5&&this.loadMore())},navUp:function(){this.collection.length&&this.activate(Math.max(this.active-1,0))},navAction:function(){if(this.items.length){var t=e(this.items[this.active].$el),i=t.find("a");i.length&&(window.location=i.attr("href"))}},navRight:function(){this.navAction()},navLeft:function(){this.origin.navFocus()},activate:function(t){if(this.$(".nav-active").removeClass("nav-active"),!this.items||!this.items.length||!this.items[t])return!1;var e=this.items[t].$el;e.addClass("nav-active"),this.active=t,this.calculateTransform(t)},calculateTransform:function(t){var i=this.$("ul"),n=e(this.items[this.items.length-1].$el),s=i.height(),o=this.$el.height(),r=0;s>o&&(r=-t*(s-o+n.height())/this.items.length);var a="translate3d(0,"+r+"px,0)";this.translate3d?i.stop().css({"-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a}):i.css({top:r}),s>o?e(this.el).find(".list-indicator").stop().css({top:this.offsetTop+(o-this.offsetTop-this.offsetBottom-n.height())*t/this.items.length}):e(this.el).find(".list-indicator").stop().css({top:this.offsetTop+(s-this.offsetTop-this.offsetBottom)*t/this.items.length})}});return s}),define("joshfire-framework/adapters/tv/ui/grid",["joshlib!ui/list","joshlib!utils/dollar","require","joshlib!vendor/underscore"],function(t,e,i,n){var s=t.extend({initialize:function(e){e=e||{},this.initializeLogId(e);var i=e.autoLoadMore;e.autoLoadMore=!1,t.prototype.initialize.call(this,e),this.autoLoadMore=i,this.active=-1,this.translateY=0,this.tolerance=e.tolerance||20,this.translate3d=void 0!==e.translate3d?e.translate3d:!0,this.listenTo(this,"render:children",function(){this.$lis=this.$("li"),this.resize()})},enhance:function(){this.$lis=this.$("li"),e(window).resize(n.bind(this.resize,this)),this.resize(),t.prototype.enhance.call(this)},resize:function(){this.boundingsComputed=!1,this.bottom=0,this.maxItemHeight=0,this.$lis&&this.$lis.is(":visible")&&(this.boundingRects=this.$lis.map(n.bind(function(t,i){return this.maxItemHeight=Math.max(e(i).height(),this.maxItemHeight),i.getBoundingClientRect()},this)),this.leftBounds=this.boundingRects.map(function(t,e){return e.left}),this.rightBounds=this.boundingRects.map(function(t,e){return e.right}),this.topBounds=this.boundingRects.map(n.bind(function(t,e){return e.top-this.translateY},this)),this.bottomBounds=this.boundingRects.map(n.bind(function(t,e){var i=e.bottom-this.translateY;return this.bottom=Math.max(this.bottom,i),i},this)),this.centers=this.boundingRects.map(function(t,e){return{x:e.left+.5*e.width,y:e.top+.5*e.height}}),this.boundingsComputed=!0)},activate:function(t){this.$(".nav-active").each(function(){var t=e(this).attr("class");t=t.replace("nav-active",""),e(this).attr("class",t)});var i=this.items[t].$el;i.addClass("nav-active");var n=this.$("ul");this.active=t;var s=this.topBounds[t],o=this.bottomBounds[t],r=e(this.el).height();if(o+this.translateY>this.el.getBoundingClientRect().bottom?this.translateY=Math.max(r-o-100,r-n.height()):s+this.translateY<=this.el.getBoundingClientRect().top&&(this.translateY=-s),this.autoLoadMore&&o+2*this.maxItemHeight>this.bottom+10&&this.loadMore(),this.translateY)if(this.translate3d){var a="translate3d(0,"+this.translateY+"px,0)";n.css({"-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a})}else n.css({top:this.translateY})},navFocus:function(e){t.prototype.navFocus.call(this,e),this.boundingsComputed||this.resize(),this.collection.length&&(-1===this.active?this.activate(0):this.activate(this.active))},navBlur:function(){t.prototype.navBlur.call(this),this.$(".nav-active").removeClass("nav-active")},navRight:function(t){for(var e=this.rightBounds[this.active],i=this.centers[this.active],n=3e4,s=-1,o=0,r=0,a=this.leftBounds.length-1;a>=0;a--)this.isRight(a)&&(o=this.centers[a],r=Math.sqrt(Math.pow(e-this.leftBounds[a],2)+Math.pow(i.y-o.y,2)),(n>r||-1===s||Math.abs(r-n)<this.tolerance&&this.centers[a].y<this.centers[s].y)&&(s=a,n=r));-1!==s&&this.collection.length>1?this.activate(s):this.origin&&this.origin.navFocus&&this.origin.navFocus(null,t)},navLeft:function(t){for(var e=this.leftBounds[this.active],i=this.centers[this.active],n=3e4,s=-1,o=0,r=0,a=this.rightBounds.length-1;a>=0;a--)this.isLeft(a)&&(o=this.centers[a],r=Math.sqrt(Math.pow(e-this.rightBounds[a],2)+Math.pow(i.y-o.y,2)),(n>r||-1===s||Math.abs(r-n)<this.tolerance&&this.centers[a].y<this.centers[s].y)&&(s=a,n=r));-1!==s&&this.collection.length>1?this.activate(s):this.origin&&this.origin.navFocus&&this.origin.navFocus(null,t)},navDown:function(t){for(var e=this.bottomBounds[this.active],i=this.centers[this.active],n=3e4,s=-1,o=0,r=0,a=this.topBounds.length-1;a>=0;a--)this.isDown(a)&&(o=this.centers[a],r=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(e-this.topBounds[a],2)),(n>r||-1===s||Math.abs(r-n)<this.tolerance&&this.centers[a].x<this.centers[s].x)&&(s=a,n=r));-1!==s&&this.collection.length>1?this.activate(s):this.origin&&this.origin.navFocus&&this.origin.navFocus(null,t)},navUp:function(t){for(var e=this.topBounds[this.active],i=this.centers[this.active],n=3e4,s=-1,o=0,r=0,a=this.bottomBounds.length-1;a>=0;a--)this.isUp(a)&&(o=this.centers[a],r=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(e-this.bottomBounds[a],2)),(n>r||-1===s||Math.abs(r-n)<this.tolerance&&this.centers[a].x<this.centers[s].x)&&(s=a,n=r));-1!==s&&this.collection.length>1?this.activate(s):this.origin&&this.origin.navFocus&&this.origin.navFocus(null,t)},navAction:function(){if(this.items.length){var t=e(this.items[this.active].$el),i=t.find("a");i.length&&(window.location=i.attr("href"))}},navClick:function(){if(this.items.length){var t=e(this.items[this.active].$el),i=t.find("a");i.length&&(window.location=i.attr("href"))}},isLeft:function(t){return this.rightBounds[t]<=this.leftBounds[this.active]+this.tolerance},isRight:function(t){return this.leftBounds[t]>=this.rightBounds[this.active]-this.tolerance},isUp:function(t){return this.bottomBounds[t]<=this.topBounds[this.active]+this.tolerance},isDown:function(t){return this.topBounds[t]>=this.bottomBounds[this.active]-this.tolerance}});return s}),define("joshfire-framework/ui/factorymedia",["joshlib!ui/item","joshlib!utils/mediaplayerlib","require","joshlib!vendor/underscore"],function(t,e,i,n){var s=t.extend({initialize:function(e){this.initializeLogId(e),this.mediaOptions=e.mediaOptions||{},t.prototype.initialize.call(this,e)},generate:function(i){var s=/^([0-9]{1,3})%$/,o=null,r=0,a=n.clone(this.mediaOptions);if(!this.model)return i(null,"");a.width&&n.isString(a.width)&&(o=a.width.match(s),o&&(r=parseInt(o[1],10),a.width=this.options.width?this.options.width*r/100:this.$el.width()*r/100,a.width=Math.floor(a.width))),a.height&&n.isString(a.height)&&(o=a.height.match(s),o&&(r=parseInt(o[1],10),a.height=this.options.height?this.options.height*r/100:this.$el.height()*r/100,a.height=Math.floor(a.height)));var l=e.resolve(this.model.toJSON(),a);l.toHtml(n.bind(function(e,s,o){return this.template?(n.extend(this.data,{media:{html:s,metadata:o},width:this.options.width,height:this.options.height}),t.prototype.generate.call(this,i),void 0):i(null,s)},this))}});return s}),define("joshfire-framework/ui/imagesloader",["joshlib!ui/item","joshlib!utils/dollar","joshlib!vendor/underscore"],function(t,e,i){var n=t.extend({initialize:function(i){this.imageClass=i.imageClass,this.processImageEl=i.processImageEl;var n=this;this.getImages=i.getImages||function(){var t=e.map(this.$("img"),function(t){return n.imageClass&&e(t).addClass(n.imageClass),{el:t,url:e(t).attr("src")}});return t},this.customLoadEvent=!0,t.prototype.initialize.call(this,i)},enhance:function(){var n=this;if(!this.getImages)return t.prototype.enhance.call(this),this.trigger("load"),void 0;var s=this.getImages();if(!s||0===s.length)return t.prototype.enhance.call(this),this.trigger("load"),void 0;var o=0,r=function(t){t&&e(t).removeClass("loading"),o+=1,o===s.length&&n.trigger("load")};i.each(s,function(t){if(!t.el||!t.url)return r(t.el);var i=t.el;n.processImageEl&&(i=n.processImageEl(t.el)),e(i).addClass("loading");var s=new Image;s.onload=function(){r(i),s=null},s.onerror=function(){r(i),s=null},s.src=t.url}),t.prototype.enhance.call(this)}});return n}),define("joshfire-framework/ui/dynamiccontainer",["joshlib!uielement","joshlib!ui/item","joshlib!utils/dollar","require","joshlib!vendor/underscore"],function(t,e,i,n,s){var o=t.extend({initialize:function(n){n=n||{},this.initializeLogId(n),this.modelsRendered=0,this.setModel(n.model),this.setCollection(n.collection),this.viewTemplateEl=n.viewTemplateEl||n.itemTemplateEl,this.viewOptions=n.viewOptions||n.itemOptions||{},this.viewOptions.templateEl=this.viewOptions.templateEl||this.viewTemplateEl,this.viewOptions.template=this.viewOptions.template||n.viewTemplate||n.itemTemplate,n.templateEl?this.template=this.compileTemplate(i(n.templateEl).text()):n.template&&(this.template=s.isFunction(n.template)?n.template:this.compileTemplate(n.template)),this.viewFactory=s.bind(function(){var t={model:this.model,collection:this.collection};s.extend(t,this.viewOptions);var i=n.viewFactory||n.itemFactory;return i?i(t):new e(t)},this),this.needsUpdate=s.bind(function(){var t=0,e=!1;return n.needsUpdate?e=n.needsUpdate(this.model,this.collection):this.collection?(t=this.getNumberOfModels(),e=0===this.modelsRendered&&0!==t||1===this.modelsRendered&&1!==t||this.modelsRendered>1&&1>=t):e=!0,e},this),this.customLoadEvent=!0,this.listenTo(this,"shown",function(){this.view&&this.view.trigger("shown")}),this.listenTo(this,"hidden",function(){this.view&&this.view.trigger("hidden")}),t.prototype.initialize.call(this,n)},getNumberOfModels:function(){return(this.model?1:0)+(this.collection?this.collection.length:0)},setModel:function(t,e){this.model&&this.stopListening(this.model),this.model=t,this.modelsUpdated=!0,t&&this.listenTo(t,"change",this.callIfNotRemoved(this.update)),e&&this.update()},setCollection:function(t,e){this.collection&&this.stopListening(this.collection),this.collection=t,this.modelsUpdated=!0,t&&(this.listenTo(t,"change",this.callIfNotRemoved(this.update)),this.listenTo(t,"add",this.callIfNotRemoved(this.update)),this.listenTo(t,"remove",this.callIfNotRemoved(this.update)),this.listenTo(t,"reset",this.callIfNotRemoved(this.update))),e&&this.update()},update:function(){this.rendered&&(this.needsUpdate()?this.render():this.modelsUpdated&&(this.modelsUpdated=!1,this.view.setModel&&this.view.setModel(this.model,!0),this.view.setCollection&&this.view.setCollection(this.collection,!0)))},generate:function(t){this.modelsRendered=this.getNumberOfModels(),this.modelsUpdated=!1;var e=this.viewFactory();return this.view&&this.view!==e&&this.garbageCollect(this.view),this.view=e,this.view?(this.listenTo(this.view,"load",this.triggerLoad),!this.view.model&&this.view.setModel&&this.view.setModel(this.model),!this.view.collection&&this.view.setCollection&&this.view.setCollection(this.collection),this.view.generate(s.bind(function(e,i){var n=this.view.wrapContent(i),s=null;return s=n&&this.template?this.template({child:n}):n?n:"",t(e,s)},this)),void 0):t(null,"")},garbageCollect:function(t){this.garbage=this.garbage||[],t?(this.stopListening(t),t.stopListening(),this.garbage.push(t)):(s.each(this.garbage,function(t){t.remove()}),this.garbage=[])},setContent:function(e){t.prototype.setContent.call(this,e),this.view&&this.el&&this.setViewElement(!0),this.garbageCollect()},setElement:function(e,i){t.prototype.setElement.call(this,e,i),this.setViewElement(i)},setViewElement:function(t){this.view&&this.view.setElement(this.el.firstChild,t)},enhance:function(){var e=this;this.view.enhance();var i=["navUp","navRight","navDown","navLeft","navAction","navFocus","navBlur"];s.each(i,function(t){e[t]=e.view[t]}),t.prototype.enhance.call(this)},triggerLoad:function(){this.trigger("load")},remove:function(){t.prototype.remove.call(this),this.model=null,this.collection=null,this.viewFactory=null,this.needsUpdate=null,this.view&&(this.view.remove(),this.view=null)},scrollTop:function(){this.view.scrollTop()}});return o}),define("sleek",["joshlib!collection","joshlib!ui/dynamiccontainer","joshlib!ui/item","joshlib!ui/list","joshlib!ui/listitem","joshlib!ui/fadeinpanel","joshlib!ui/factorymedia","ui/imagesloader","joshlib!router","joshlib!vendor/backbone","joshlib!vendor/underscore","joshlib!utils/dollar","joshlib!utils/i18n","require","lang/config","ui/imagegallery"],function(t,e,i,n,s,o,r,a,l,h,u,c,d,p,f,m){var g='<div class="single"><div><div class="nodata"><%= T("empty") %></div><div class="loader large">&nbsp;</div></div></div>',v=function(){u.bindAll(this,"initialize","setColor","slugify")};return v.extend=h.View.extend,u.extend(v.prototype,h.Events),u.extend(v.prototype,{deviceFamily:"all",clientWidth:document.body.clientWidth,initialized:!1,loadedHookTriggered:!1,fastNavigateSelector:!1,convertItemType:function(t){var e=null;switch(t){case"Article/Status":e="status";break;case"NewsArticle":case"BlogPosting":case"Article":case"CreativeWork":e="news";break;case"Event":e="event";break;case"ImageObject":e="photo";break;case"VideoObject":e="video";break;case"MusicRecording":e="sound";break;case"Product":e="product";break;default:e="other"}return e},initialize:function(t,e){var i=this;if(this.localizer=d,this.title=Joshfire.factory.config.app.name,this.tabs=Joshfire.factory.config.template.options.tabs||[],this.tabicons=Joshfire.factory.config.template.options.tabicons||[],this.backgroundURL=Joshfire.factory.config.template.options.backgroundimage?Joshfire.factory.config.template.options.backgroundimage.url:Joshfire.factory.config.template.options.backgroundurl,this.logoURL=Joshfire.factory.config.app.logo?Joshfire.factory.config.app.logo.contentURL:null,!t||!t.templates)throw console.error("No templates were loaded."),Error();this.templates=t.templates,document.title=this.title,u.bind(function(t){t&&console.error(t),this.localizer.setLocale({locale:Joshfire.factory.config.template.options.language||"auto",availableLocales:f.AVAILABLE,defaultLocale:f.DEFAULT},function(){i.setMomentLanguage(),i.setColor(Joshfire.factory.config.template.options.color||"gray",function(){var t=i.getDatasources(),n=Array(t.length),s=0;u.forEach(t,u.bind(function(t,e){var s=this.tabs[e]||t.name||"",o=this.tabicons[e],r=e+"--"+this.slugify(s.toLowerCase()),a=this.createCollection(t),l=t.getOutputType();n[e]={name:s,slug:r,icon:o||i.convertItemType(l),outputType:i.convertItemType(l),collection:a,index:e}},i));var o=i.createViews(n),r=i.createRoutes(n,o);i.router=l(r),i.setupFastNavigate(),i.init(),i.initialized=!0,s=function(){!i.loadedHookTriggered&&i.initialized&&(i.loadedHookTriggered=!0,Joshfire.factory.getAddOns("loaded").run()),navigator&&navigator.splashscreen&&setTimeout(navigator.splashscreen.hide,500)},o.bind("load",s),setTimeout(s,2e4),i.toolbarView.render(),o.render(),e&&e(),i.router.historyStart()})})},this)()},createCollection:function(e){return new t([],{dataSource:e,dataSourceQuery:{}})},setupFastNavigate:function(){if(this.fastNavigateSelector){var t=this,e=function(e){var i=c(e.currentTarget).attr("href");return i&&"#"===i.substring(0,1)?(t.router.navigate(i.substring(1),!0),e.preventDefault(),e.stopPropagation(),!1):void 0};c(this.fastNavigateSelector).live("touchstart mousedown",e)}},init:function(){},getDatasources:function(){var t=Joshfire.factory.getDataSource("main"),e=[];return t&&t.children&&t.children.length>0&&(e=e.concat(t.children)),e},setColor:function(t,e){c("#color").remove(),window.Sid.css("css/"+this.deviceFamily+"."+t+".css",e,"afterfirststyle")},setTitle:function(t){c("#title").html(t)},getClassName:function(t,e){if("list"!==e)return"single"===e?"single content detail":"content detail";switch(t){case"status":case"event":return"content hashed-list";case"photo":return"content mosaic-list";default:return"content simple-list"}},createToolbar:function(t){for(var e=new h.Collection,i=null,n=0;t.length>n;n++)i=t[n],e.add({name:i.name,icon:i.icon,linkURL:"#"+i.slug,outputType:i.outputType,slug:i.slug});var s=this.createToolbarElement();return s.setCollection(e,!0),s},createViews:function(t){var e={},n=null;return this.createAdditionalViews(e),t&&0!==t.length?(this.toolbarView=this.createToolbar(t),u.forEach(t,u.bind(function(t){var i=this.createSectionView(t);e[t.slug]=i},this)),n=new o({el:"#cards",children:e})):n=new i({el:"#cards",model:new h.Model,template:"#template-nodata"})},createAdditionalViews:function(){},createToolbarElement:function(){var t=n.extend({generate:function(t){this.collection&&2>this.collection.length&&c("body").addClass("no-toolbar"),n.prototype.generate.call(this,t)}});return new t({name:"toolbar",el:"#toolbar",template:this.templates.toolbar,itemOptions:{template:this.templates.toolbarItem}})},createSectionView:function(t){var i=new e({name:t.slug+"-list",collection:t.collection,viewFactory:this.viewFactory(t),hidden:!0});return t.view=i,i},viewFactory:function(t){return u.bind(function(e){var i=e.collection;if(!i||0===i.length)return this.createEmptyElement(t,i);if("photo"===t.outputType)return this.createListElement(t);if(1===i.length)return this.createDetailContainer(t,!0);var n=this.createListElement(t),s=this.createDetailContainer(t),o=this.createListAndDetailView(n,s);return o},this)},createListAndDetailView:function(){},refreshList:function(t,e){t.collection.fetch({dataSourceQuery:{nocache:!0},success:u.bind(function(){this.showList(t,e)},this),error:function(){}})},updateList:function(t,e){t.collection.fetch({success:u.bind(function(){this.showList(t,e)},this),error:function(){}})},showList:function(t,e){e.view.children&&e.view.children.list?e.view.showChild("list","left"):t.collection.length&&e.setModel(t.collection.at(0),!0)},moveToList:function(t){t.view.children&&t.view.children.list&&t.view.showChild("list","left")},updateDetail:function(t,e,i){t.collection.fetch({success:u.bind(function(){this.showDetail(t,e,i)},this),error:function(){}})},showDetail:function(t,e,i){if(e.view.children&&e.view.children.detail){var n=e.view.children.detail;t.collection.length>i&&n.setModel(t.collection.at(i),!0),e.view.showChild("detail","right")}},createEmptyElement:function(t,e){t=t||{};var n={name:t.slug+"-empty",model:new h.Model,template:g};e&&!e.fetched&&(n.className="loading");var s=new i(n);return e&&!e.fetched&&s.listenTo(e,"load",function(){s.$el.removeClass("loading")}),s},createListElement:function(t){if(t=t||{},"photo"===t.outputType){var e=t.collection.length>1?"":"single",i=e?this.templates.singlePhoto:this.templates.listView;return new m({name:t.slug+"-list",template:i,scroller:!0,itemFactory:this.itemFactory(t),listItemFactory:this.listItemFactory(t),collection:t.collection,className:e+" "+t.outputType+" "+this.getClassName(t.outputType,"list"),dataLoadingClass:"dataloading",dataLoadingMoreClass:"dataloadingmore",loadingClass:"loading",autoLoadMore:!0})}return new n({name:t.slug+"-list",template:this.templates.listView,scroller:!0,itemFactory:this.itemFactory(t),listItemFactory:this.listItemFactory(t),collection:t.collection,className:t.outputType+" "+this.getClassName(t.outputType,"list"),autoLoadMore:!0,dataLoadingClass:"dataloading",dataLoadingMoreClass:"dataloadingmore"})},createDetailContainer:function(t,i){var n=this;return t=t||{},new e({name:t.slug+"-detail",viewFactory:function(e){return u.extend(e,{slug:t.slug}),n.createDetailElement(e,i)},className:n.getClassName(t,i?"single":"detail")})},createDetailElement:function(t){if(t=t||{},!t.model)return new i({});var e=this.convertItemType(t.model.get("@type")),n=this;switch(e){case"video":return new r({name:"item-"+e,template:this.templates.video,scroller:!0,scrollerSelector:".wrapper",width:n.getContentWidth(),height:n.getContentHeight(),mediaOptions:{strategy:"html5",width:"100%",height:"80%",adjustSize:!0}});case"sound":return new r({name:"item-"+e,template:this.templates.sound,mediaOptions:{strategy:"html5"}});case"status":var s=new a({name:"item-"+e,scrollerSelector:".joshfire-wrapper",template:this.templates.status,scroller:!0,imageSchema:n.getAuthorImageSchema(t.model.toJSON())});mentionsView=[];var o=t.slug.search("twitter");return t.model.get("mentions")&&-1===o&&(u.each(t.model.get("mentions"),function(t){var e=n.createMentionView(t);e&&mentionsView.push(e)}),s.on("enhanced",function(){u.each(mentionsView,function(t){t.el.className="attached-media",t.render(),t.on("load",function(){s.iScroller.refresh()}),s.$(".attached-medias").append(t.el),s.iScroller.refresh()})})),s;case"photo":case"product":case"other":return new a({name:"item-"+e,template:this.templates[e],scroller:!0,imageSchema:t.model.toJSON()});case"news":if(t.model.get("articleBody")){var l=t.model.get("articleBody").replace(/\n|\r\n/g,"<br>");t.model.set("articleBody",l,{silent:!0})}return new a({name:"item-"+e,template:this.templates.news,scroller:!0,imageClass:"fadein",imageSchema:t.model.toJSON()});default:return new a({name:"item-"+e,template:this.templates[e],scroller:!0,imageClass:"fadein",imageSchema:t.model.toJSON(),processImageEl:function(t){var e=document.createElement("div");e.setAttribute("class","loader inv");var i=document.createElement("div");return i.setAttribute("class","figure"),i.appendChild(e),t.getAttribute("width")?i.setAttribute("style","width:"+t.getAttribute("width")+"px;max-width:100%"):i.setAttribute("style","width:"+t.getAttribute("width")+"px;max-width:100%"),t.parentNode.replaceChild(i,t),i.appendChild(t),i}})}},createMentionView:function(t){var e=this,i=new h.Model(t);switch(t["@type"]){case"ImageObject":return new a({model:i,template:this.templates.mentionItem,imageSchema:i.toJSON()});case"VideoObject":return new r({model:i,scroller:!0,template:this.templates.video,width:e.getContentWidth(),height:e.getContentHeight(),mediaOptions:{strategy:"html5",width:"100%",height:"80%",adjustSize:!0}});default:return t.name&&t.description?new a({model:i,template:this.templates.mentionItem,imageSchema:i.toJSON()}):!1}},listItemFactory:function(t){var e=this;return function(i,n){var o=i.toJSON(),r=t.outputType||e.convertItemType(o["@type"]),a=r+"-item",l={name:"itemwrapper-"+r,model:i,offset:n,view:this.itemFactory(i,n),className:a};return new s(l)}},itemFactory:function(t){t=t||{};var e=this;return function(n,s){var o=n.toJSON(),r=t.outputType||e.convertItemType(o["@type"]),l=e.templates[r+"Item"],h={name:t.slug+"-item-"+s+"-"+r,data:{section:t},model:n,offset:s,template:l};switch(r){case"photo":case"video":case"product":case"news":return h.imageSchema=h.model.toJSON(),h.imageContainer=".figure",new a(h);case"status":return h.imageSchema=e.getAuthorImageSchema(o),h.imageContainer=".figure",new a(h);default:return new i(h)}}},createRoutes:function(t){return{routes:{"":"home"},home:function(){t.length?window.location="#"+t[0].slug:(c("#title").html("No data"),document.body.id="nodata",c("#refresh").hide())}}},getContentWidth:function(){return Math.floor(c("#cards").width())},getContentHeight:function(){return Math.floor(c("#cards").height())},setMomentLanguage:function(){"en"!==this.localizer.getLocale()&&window.Sid.js("lang/moment/"+this.localizer.getLocale()+".js",u.bind(function(){moment.lang(this.localizer.getLocale())},this))},getAuthorImageSchema:function(t){return t&&t.author&&t.author[0]?(console.warn(t.author[0]),t.author[0]):t},getAuthorMentionSchema:function(t){return t&&t.mentions&&t.mentions[0]?t.mentions:t},slugify:function(t){return t=t.replace(/[^\-a-zA-Z0-9,&\s]+/gi,""),t=t.replace(/-/gi,"_"),t=t.replace(/\s/gi,"-"),t=t.replace(/&/gi,"-")}}),v}),define("sleek.custom",["sleek"],function(t){return t}),define("sleek.tv",["sleek.custom","joshlib!uielement","joshlib!ui/list","joshlib!ui/toolbar","joshlib!ui/cardpanel","joshlib!ui/slidepanel","joshlib!ui/verticallist","joshlib!ui/grid","joshlib!ui/item","joshlib!ui/factorymedia","ui/imagesloader","ui/itemTvMention","joshlib!vendor/underscore","joshlib!utils/dollar","require"],function(t,e,i,n,s,o,r,a,l,h,u,c,d,p){return t.extend({initialize:function(e){var i=this,n=p(window),s=function(){p("body").css({zoom:Math.max(50,n.height()/10.8)+"%"})};n.resize(s),s(),t.prototype.initialize.call(this,e,function(){i.backgroundURL&&i.setBackground(i.backgroundURL),i.logoURL?i.setLogo(i.logoURL):i.setTitle(i.title)})},deviceFamily:"tv",setLogo:function(t){p("#logo").html('<img src="'+t+'" />')},setBackground:function(t){p("body").css({backgroundImage:"url("+t+")"})},createToolbarElement:function(){var t=this,e=new n({name:"toolbar",el:"#toolbar",template:this.templates.toolbar,itemOptions:{template:this.templates.toolbarItem},minLengthToShow:2});return e.navFocus=function(e,n){i.prototype.navFocus.call(this,e,n),!n&&-1===this.active&&this.collection.length&&this.activate(0),t.focused="toolbar"},e.navRight=function(){if(t.activeSection&&t.activeSection.collection.length){var e=t.activeSection.view;if(e.view){var i=e.view;i.children&&i.children.list?i.children.list.navFocus(t.toolbarView):i.navFocus(t.toolbarView),t.focused="list"}}},e},getClassName:function(t,e){return"list"===e?"content":"single"===e?"single content detail":"content detail"},createAdditionalViews:function(e){var i=this,n=u.extend({initialize:function(t){u.prototype.initialize.call(this,t),this.navUp=this.navDown=this.navAction=this.exit,this.offset=t.offset},exit:function(){this.hide(),window.location="#"+i.activeSection.slug},navLeft:function(){var t=this.offset-1;
for(0>t&&(t=i.activeSection.collection.length-1);t!==this.offset&&"ImageObject"!==i.activeSection.collection.at(t).get("@type");)t-=1,0>t&&(t=i.activeSection.collection.length-1);t!==this.offset&&(window.location="#"+i.activeSection.slug+"/"+t)},navRight:function(){var t=this.offset+1;for(t>=i.activeSection.collection.length&&(t=0);t!==this.offset&&"ImageObject"!==i.activeSection.collection.at(t).get("@type");)t+=1,t>=i.activeSection.collection.length&&(t=0);t!==this.offset&&(window.location="#"+i.activeSection.slug+"/"+t)}});this.photoDetail=new n({el:"#photos-detail",template:this.templates.photo}),this.photoDetail.render(),this.photoDetail.hide();var s=h.extend({initialize:function(t){h.prototype.initialize.call(this,t),this.navUp=this.navDown=this.navLeft=this.navRight=this.navAction=this.exit},exit:function(){this.hide(),window.location="#"+i.activeSection.slug}});this.videoDetail=new s({el:"#videos-detail",template:this.templates.video,mediaOptions:{width:"100%",height:"100%",autoPlay:!0,html5:!0}}),this.videoDetail.render(),this.videoDetail.hide(),t.prototype.createAdditionalViews.call(this,e)},createListElement:function(t,e){t=t||{};var i;switch(t.outputType){case"video":i=e?this.templates.singleVideo:this.templates.mosaic;case"photo":return i||(i=e?this.templates.singlePhoto:this.templates.mosaic),new a({template:i,itemFactory:this.itemFactory(t),listItemFactory:this.listItemFactory(t),collection:t.collection,className:t.outputType+" "+this.getClassName(t.outputType,"list"),autoLoadMore:!0,dataLoadingMoreClass:"dataloadingmore"});default:return new r({template:this.templates.listView,offsetTop:40,offsetBottom:40,itemFactory:this.itemFactory(t),listItemFactory:this.listItemFactory(t),collection:t.collection,className:t.outputType+" "+this.getClassName(t.outputType,"list"),autoLoadMore:!0,dataLoadingMoreClass:"dataloadingmore"})}},createListAndDetailView:function(t,e){var i=new o({children:{list:t,detail:e},currentChild:"list",className:"slide-panel"});return i},viewFactory:function(t){return d.bind(function(e){var i=e.collection,n=null,s=null,o=null;return i&&0!==i.length?1===i.length?"photo"===t.outputType||"video"===t.outputType?this.createDetailContainer(t,!0):(n=this.createListElement(t,!0),s=this.createDetailContainer(t),o=this.createListAndDetailView(n,s),n.$el.addClass("single"),o):"photo"===t.outputType?this.createListElement(t):(n=this.createListElement(t),s=this.createDetailContainer(t),o=this.createListAndDetailView(n,s)):this.createEmptyElement(t,i)},this)},showList:function(e,i){if(t.prototype.showList.call(this,e,i),this.toolbarView.items.length<this.toolbarView.minLengthToShow&&i.view){var n=i.view;n.children&&n.children.list?n.children.list.navFocus():n.navFocus(),this.focused="list"}},showDetail:function(t,e,i){var n=null,s=!1;if(t.collection.length>i){switch(t.outputType){case"photo":n=this.photoDetail,n.offset=i,n.data={getImageUrl:function(){return this.model.get("contentURL")}};break;case"video":n=this.videoDetail,n.offset=i;break;default:e.view.children&&e.view.children.detail&&(n=e.view.children.detail,s=!0)}n&&(n.setModel(t.collection.at(i),!0),n.navFocus(),s?e.view.showChild("detail","right"):n.show())}},createDetailElement:function(t,e){if(!t.model)return new l({});var i=this,n=this.convertItemType(t.model.get("@type")),s={template:this.templates[n+"Detail"],scroller:!0,offsetTop:100,offsetBottom:100,focusSubElements:!0,navLeft:d.bind(function(){e?(this.toolbarView.navFocus(),this.focused="toolbar"):window.location="#"+t.slug},this)};switch(n){case"video":case"photo":return null;case"sound":return t.mediaOptions={strategy:"html5",autoPlay:!0},new h(t);case"status":var o;mentionViews=[];var r=t.slug.search("twitter");return t.model.get("mentions")&&-1===r&&(d.each(t.model.get("mentions"),function(t){var e=i.createMentionView(t);e&&mentionViews.push(e)}),s.videoDetail=this.videoDetail,s.mentions=mentionViews,o=new c(s),o.on("enhanced",function(){d.each(mentionViews,d.bind(function(t){t.el.className="attached-media",t.render(),t.on("load",d.bind(function(){this.offsetTop=+t.el.clientHeight},this)),o.$(".attached-medias").append(t.el),"ImageObject"!==t.model.get("@type")&&(this.offsetTop+=t.el.clientHeight)},this))})),o;default:return new l(s)}},createMentionView:function(t){var e=new Backbone.Model(t);switch(t["@type"]){case"ImageObject":return new u({model:e,template:this.templates.mentionItem,imageSchema:e.toJSON()});case"VideoObject":var i=d.find(e.get("thumbnail"),function(t){return 480==t.width});return i?e.set({image:i}):e.set({image:d.last(e.get("thumbnail"))}),new u({model:e,template:this.templates.mentionVideo,imageSchema:e.toJSON()});default:return t.name&&t.description?new u({model:e,template:this.templates.mentionItem,imageSchema:e.toJSON()}):!1}},createRoutes:function(e,i){var n=t.prototype.createRoutes.call(this,e,i),s=this,o=this.toolbarView;return d.forEach(e,function(t){n.routes[t.slug]=t.slug,n[t.slug]=function(){s.activeSection=t,document.body.id=t.outputType,p("iframe, audio, video, object, embed","#container").remove();var e=s.activeSection.view;t.collection.length?(s.moveToList(e),i.showChild(t.slug)):(i.showChild(t.slug),s.updateList(t,e)),o.activate(s.activeSection.index);var n;-1!==o.active&&s.activeSection.collection.length?"toolbar"!==s.focused&&e.view&&(n=e.view,n.children&&n.children.list?n.children.list.navFocus(s.toolbarView):n.navFocus(s.toolbarView),s.focused="list"):(o.navFocus(),s.focused="toolbar")},n.routes[t.slug+"/:offset"]=t.slug+"Detail",n[t.slug+"Detail"]=function(e){e=parseInt(e,10),s.activeSection=t,document.body.id=t.outputType,p("iframe, audio, video, object, embed","#container").remove(),i.showChild(t.slug);var n=s.activeSection.view;t.collection.length?s.showDetail(t,n,e):s.updateDetail(t,n,e),s.focused="detail"}}),n}})}),define("joshfire-framework/ui/imageloader",["joshlib!ui/imagesloader","joshlib!vendor/underscore","joshlib!utils/i18n"],function(t,e,i){var n=t.extend({initialize:function(e){this.getImageUrl=e.getImageUrl||function(){return this.model?this.model.imageUrl:null};var i=this;e.getImages=function(){var t=null;return e.imageContainer&&(t=i.$(e.imageContainer)),t||(t=i.$el),[{el:t.get(0),url:i.getImageUrl()}]},t.prototype.initialize.call(this,e)},generate:function(t){if(!this.model)return t(null,""),void 0;var n={model:this.model,obj:this.model,item:this.model?this.model.toJSON():{},imageUrl:this.getImageUrl.call(this),T:i.getText};e.extend(n,this.data),t(null,this.template(n))}});return n}),define("sleek.samsung",["sleek.custom","sleek.tv","joshlib!collection","joshlib!uielement","joshlib!ui/list","joshlib!ui/toolbar","joshlib!ui/cardpanel","joshlib!ui/slidepanel","joshlib!ui/verticallist","joshlib!ui/grid","joshlib!ui/item","joshlib!ui/factorymedia","joshlib!ui/imageloader","joshlib!inputs/remote","joshlib!vendor/underscore","joshlib!utils/dollar","require","collections/samsungImageObjects"],function(t,e,i,n,s,o,r,a,l,h,u,c,d,p,f,m,g,v){return e.extend({initialize:function(e){var i=this;t.prototype.initialize.call(this,e,function(){i.setFrameworkVersionTag(),i.handleSamsungRemote(),i.backgroundURL&&i.setBackground(i.backgroundURL),i.logoURL?i.setLogo(i.logoURL):i.setTitle(i.title)})},createCollection:function(t){return t=t||{},"ImageObject"===t.config.outputType?new v([],{dataSource:t,dataSourceQuery:{}}):new i([],{dataSource:t,dataSourceQuery:{}})},deviceFamily:"samsung",setColor:function(t,e){if(!this.colorSet)if(this.colorSet=!0,m("#color").remove(),"undefined"!=typeof sf&&sf.core)sf.core.loadCSS("css/"+this.deviceFamily+"."+t+".css"),e();else{var i=document.getElementsByTagName("style")[0],n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href="css/"+this.deviceFamily+"."+t+".css",i&&i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):document.getElementsByTagName("body")[0].appendChild(n),e()}},createAdditionalViews:function(e){var i=this,o=u.extend({initialize:function(t){u.prototype.initialize.call(this,t),this.navUp=this.navDown=this.navAction=this.exit,this.offset=t.offset},setContent:function(t){window.widgetAPI?window.widgetAPI.putInnerHTML(this.el,t):this.el.innerHTML=t,this.rendered=!0},hide:function(){u.prototype.hide.call(this),m("#"+this.el.id).css({display:"none"})},show:function(){u.prototype.show.call(this),i.bind("back",f.bind(this.exit,this)),m("#"+this.el.id).css({display:"block",visibility:"visible",position:"absolute",width:960,height:540,zIndex:99,top:0,left:0,background:"#000"})},exit:function(){this.hide(),window.location="#"+i.activeSection.slug},navLeft:function(){var t=this.offset-1;for(0>t&&(t=i.activeSection.collection.length-1);t!==this.offset;){var e=i.activeSection.collection.at(t).get("@type");if("ImageObject"===e)break;t-=1,0>t&&(t=i.activeSection.collection.length-1)}t!==this.offset&&(window.location="#"+i.activeSection.slug+"/"+t)},navRight:function(){var t=this.offset+1;for(t>=i.activeSection.collection.length&&(t=0);t!==this.offset&&"ImageObject"!==i.activeSection.collection.at(t).get("@type");)t+=1,t>=i.activeSection.collection.length&&(t=0);t!==this.offset&&(window.location="#"+i.activeSection.slug+"/"+t)}});this.photoDetail=new o({name:"photo-overlay",el:"#photos-detail",template:this.templates.photo,getImageUrl:function(){return this.model.get("contentURL")?this.model.get("contentURL"):i.getThumbnailUrl(this.model.toJSON())}}),this.photoDetail.render(),this.photoDetail.hide();var r=c.extend({initialize:function(t){c.prototype.initialize.call(this,t),this.navUp=this.navDown=this.navLeft=this.navRight=this.navAction=this.exit},show:function(){c.prototype.show.call(this),m("#"+this.el.id).css({display:"block",visibility:"visible",position:"absolute",width:960,height:540,zIndex:99,top:0,left:0,background:"#000"}),m("object, embed","#"+this.el.id).css({display:"block"})},hide:function(){c.prototype.hide.call(this),m("#"+this.el.id).css({display:"none"})},exit:function(){this.hide(),window.location="#"+i.activeSection.slug}});this.videoDetail=new r({name:"video-overlay",el:"#videos-detail",template:this.templates.video,mediaOptions:{width:"100%",height:"100%",autoPlay:!0,html5:!0}}),this.videoDetail.render(),this.videoDetail.hide();var a=n.extend({initialize:function(t){n.prototype.initialize.call(this,t),this.player=this.$(t.playerEl)[0],this.navUp=this.navDown=this.navLeft=this.navRight=this.navAction=this.exit},setModel:function(t,e){this.model=t,e&&this.render()},render:function(){var t=this.model?this.model.get("url").split("v=").pop():"";this.playerReady&&this.player&&this.player.loadVideoById&&(this.player.loadVideoById(t),this.player.playVideo()),onYouTubePlayerReady=f.bind(function(){this.playerReady=!0,this.player.loadVideoById(t),this.player.playVideo()},this),this.rendered=!0},show:function(){n.prototype.show.call(this),i.bind("back",f.bind(this.exit,this)),m(this.el).css({display:"block",visibility:"visible",position:"absolute",width:960,height:540,zIndex:99,top:0,left:0,background:"#000"})},hide:function(){i.unbind("back"),n.prototype.hide.call(this),m(this.el).css({display:"none",width:0,height:0,overflow:"hidden",top:540,left:960})},exit:function(){this.hide(),this.player.stopVideo(),window.location="#"+i.activeSection.slug}});this.youtubeDetail=new a({name:"youtube-overlay",el:"#youtube-detail",playerEl:"object"}),this.youtubeDetail.render(),this.youtubeDetail.hide(),this.navHelper=new s({name:"navhelper",el:"#navHelper",itemOptions:{template:this.templates.navhelperItem},collection:new Backbone.Collection([{className:"exit",name:"exit"},{className:"back",name:"return"},{className:"action",name:"action"},{className:"navigate",name:"navigate"}])}),this.navHelper.render(),t.prototype.createAdditionalViews.call(this,e)},showDetail:function(t,e,i){var n=null,s=!1,o=this;if(t.collection.length>i){switch(t.outputType){case"photo":n=this.photoDetail,n.offset=i;break;case"video":var r=t.collection.at(i),a=r.get("url");r.get("contentURL")&&r.get("contentURL")&&(a=r.get("contentURL")[0]),n=a.indexOf("youtube")>-1?this.youtubeDetail:this.videoDetail,n.offset=i;break;default:e.view.children&&e.view.children.detail&&(n=e.view.children.detail,o.bind("back",function(){n.navLeft(),o.unbind("back")}),m("object, audio, video, embed, iframe",e.view.children.detail.el).remove(),s=!0)}n&&(n.setModel(t.collection.at(i),!0),n.navFocus(),s?e.view.showChild("detail","right"):n.show())}},getThumbnailUrl:function(t){return Joshfire.schemaio.utils.getThumbnailUrl(t,240)},setFrameworkVersionTag:function(){this.is2011()&&m("body").addClass("sdk2011")},handleSamsungRemote:function(){this.samsungKeysBound||(this.remote=new p,this.remote.unbind("press:back"),this.remote.bind("press:back",f.bind(this.goBack,this)),this.samsungKeysBound=!0,this.remote.bind("press:up press:down press:left press:right",function(){var t=document.getElementById("dummysamsungdiv");window.widgetAPI&&window.widgetAPI.putInnerHTML&&(window.widgetAPI.putInnerHTML(t,"samsungsucks"),console.log("Did put inner html"))}))},goBack:function(t){t.preventDefault();var e=document.location.hash;return e=e.split("/"),e.length>1?this.trigger("back"):window.widgetAPI.sendReturnEvent(),!1},is2011:function(){var t=document.getElementById("pluginObjectNNavi").GetFirmware?document.getElementById("pluginObjectNNavi").GetFirmware():null;return"string"==typeof t&&t.indexOf("2011")>-1?!0:!1},is2012:function(){var t=document.getElementById("pluginObjectNNavi").GetFirmware?document.getElementById("pluginObjectNNavi").GetFirmware():null;return"string"==typeof t&&t.indexOf("2012")>-1?!0:!1}})}),function(){var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,n=[],s={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},o=function(t){var e=s,i="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(e.interpolate,function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"}).replace(e.evaluate||null,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"; __p.push('"}).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"")+"');}return __p.join('');";return i};define("tpl",[],function(){var s,r,a;return"undefined"!=typeof window&&window.navigator&&window.document?r=function(t,e){var i=s.createXhr();i.open("GET",t,!0),i.onreadystatechange=function(){4===i.readyState&&e(i.responseText)},i.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node&&(a=require.nodeRequire("fs"),r=function(t,e){e(a.readFileSync(t,"utf8"))}),s={version:"0.24.0",strip:function(t){if(t){t=t.replace(e,"");var n=t.match(i);n&&(t=n[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"").replace(/[\t]/g,"").replace(/[\r]/g,"")},createXhr:function(){var e,i,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(i=0;3>i;i++){n=t[i];try{e=new ActiveXObject(n)}catch(s){}if(e){t=[n];break}}if(!e)throw Error("require.getXhr(): XMLHttpRequest not available");return e},get:r,load:function(t,e,i,r){var a,l=!1,h=t.indexOf("."),u=t.substring(0,h),c=t.substring(h+1,t.length);h=c.indexOf("!"),-1!==h&&(l=c.substring(h+1,c.length),l="strip"===l,c=c.substring(0,h)),a="nameToUrl"in e?e.nameToUrl(u,"."+c):e.toUrl(u+"."+c),s.get(a,function(e){e=o(e),r.isBuild||(e=Function("obj",e)),e=l?s.strip(e):e,r.isBuild&&r.inlineText&&(n[t]=e),i(e)})},write:function(t,e,i){if(e in n){var o=s.jsEscape(n[e]);i("define('"+t+"!"+e+"', function() {return function(obj) { "+o.replace(/(\\')/g,"'").replace(/(\\\\)/g,"\\")+"}});\n")}}}})}(),define("tpl!templates/samsung/contactIndex.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div class="body">',textContent,"</div>");return __p.join("")}}),define("tpl!templates/samsung/contactMap.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div class="google-map"></div>');return __p.join("")}}),define("tpl!templates/samsung/event.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <div class="head">    '),item.startDate&&item.endDate&&item.startDate!==item.endDate?__p.push("    From ",moment(toDate(item.startDate)).format("LLLL")," to ",moment(toDate(item.endDate)).format("LLLL"),"    "):item.startDate&&__p.push("    On ",moment(toDate(item.startDate)).format("LLLL"),"  "),__p.push('  </div>  <div class="body">    <h4>',item.name,"</h4>    "),item.description&&__p.push('      <p class="description">',item.description,"</p>    "),__p.push("    "),item.location&&item.location.name&&__p.push('      <p class="location">',item.location.name,"</p>    "),__p.push("  </div></div>");return __p.join("")}}),define("tpl!templates/samsung/eventItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <a href="#',section.slug,"/",offset,'">    <div class="item-content">      <h3>',item.name||item.description,'</h3>    </div>    <div class="far-left">      <p>',moment(toDate(item.startDate)).calendar(),"</p>    </div>  </a></div>");return __p.join("")}}),define("tpl!templates/samsung/listView.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div style="" class="list-container">  <div class="list-indicator"></div>  <ul style="position: absolute;" class="jflist">    ',children,'  </ul></div><div class="loader large"><p class="s2011 spinnermessage">Loading</p></div>');return __p.join("")}}),define("tpl!templates/samsung/mapOverlay.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<p class="map-overlay">',address,"</p>");return __p.join("")}}),define("tpl!templates/samsung/mentionItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push(""),item.image&&__p.push('   <img data-joshfire-autothumb="true"/>'),__p.push(""),item.contentURL&&__p.push('  <img data-joshfire-autothumb="true"/>'),__p.push(""),item.datePublished&&__p.push("  <h3>",moment(toDate(item.datePublished)).format("LLLL"),"</h3>"),__p.push(""),item.name&&"ImageObject"!==item["@type"]&&__p.push("  <h4>",item.name,"</h4>"),__p.push(""),item.description&&__p.push('  <div class="article">    ',item.description,"  </div>"),__p.push(""),item.author&&__p.push("  <span>",item.author.name,"</span>"),__p.push("");return __p.join("")}}),define("tpl!templates/samsung/news.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <div class="head">    ',item.name,'  </div>  <div class="body">    '),(item.datePublished||item.uploadDate||item.dateCreated)&&__p.push("    <h4>",moment(toDate(item.datePublished||item.uploadDate||item.dateCreated)).format("LLLL"),"</h4>    "),__p.push("    "),item.articleBody?__p.push("    ",item.articleBody,"    "):item.description&&__p.push("    ",item.description,"    "),__p.push("  </div></div>");return __p.join("")}}),define("tpl!templates/samsung/newsItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <a href="#',section.slug,"/",offset,'">    <div class="item-content">      '),item.image&&item.image.contentURL&&__p.push('        <span class="thumbnail" style="background-image:url(',thumbnail(200,130),')"></span>      '),__p.push("      <h3>",item.name||item.description,'</h3>    </div>    <div class="far-left">      <p>        '),(item.datePublished||item.uploadDate||item.dateCreated)&&__p.push("        ",moment(toDate(item.datePublished||item.uploadDate||item.dateCreated)).fromNow(),"        "),__p.push("      </p>    </div>  </a></div>");return __p.join("")}}),define("tpl!templates/samsung/other.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <div class="head">',item.name,'</div>  <div class="body">    '),imageUrl&&__p.push('      <div class="center"><img data-joshfire-autothumb="true" alt="" /></div>    '),__p.push("    "),item.articleBody?__p.push("    ",item.articleBody,"    "):item.description&&__p.push("    ",item.description,"    "),__p.push("  </div></div>");return __p.join("")}}),define("tpl!templates/samsung/otherItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <a href="#',section.slug,"/",offset,'">    <div>      <h4>',item.name||item.description,"</h4>    </div>  </a></div>");return __p.join("")}}),define("tpl!templates/samsung/photo.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div class="image" style="background-image: url(',item.contentURL,')"></div><div class="spinner"><p class="s2011 spinnermessage">Loading</p></div>');return __p.join("")}}),define("tpl!templates/samsung/photoItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div class="container">  <div class="image" data-joshfire-autothumb="true">    <a class="image-link" href="#',section.slug,"/",offset,'" title="',item.name,'">&nbsp;</a>  </div>  '),item.name&&__p.push('  <div class="caption">',item.name,"</div>  "),__p.push("</div>");return __p.join("")}}),define("tpl!templates/samsung/product.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <div class="head">',item.name,'</div>  <div class="body">    '),imageUrl&&__p.push('      <div class="center"><img data-joshfire-autothumb="true" alt="" /></div>    '),__p.push("    "),item.articleBody?__p.push("    ",item.articleBody,"    "):item.description&&__p.push("    ",item.description,"    "),__p.push("    "),item.offers&&item.offers[0]&&item.offers[0].price&&__p.push('    <div class="offer">Price: ',"EUR"===item.offers[0].priceCurrency?"€":"GBP"===item.offers[0].priceCurrency?"₤":"$","",item.offers[0].price,"</div>    "),__p.push("  </div></div>");return __p.join("")}}),define("tpl!templates/samsung/productItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <a href="#',section.slug,"/",offset,'">    <div>      <h4>        ',item.name,"        "),item.offers&&item.offers[0]&&item.offers[0].price&&__p.push('          <span class="offer">',"EUR"===item.offers[0].priceCurrency?"€":"GBP"===item.offers[0].priceCurrency?"₤":"$","",item.offers[0].price,"</span>        "),__p.push("      </h4>    </div>  </a></div>");return __p.join("")}}),define("tpl!templates/samsung/mosaicSinglePhoto.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<ul class="mosaic">',children,"</ul>");return __p.join("")}}),define("tpl!templates/samsung/sound.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <div class="head">    '),item.thumbnail&&item.thumbnail.length&&__p.push('    <div class="image" data-joshfire-autothumb="true"></div>    '),__p.push('    <div class="title"><p>'),item.byArtist&&item.byArtist.name?__p.push(" by ",item.byArtist.name,"    "):item.author&&item.author.name&&__p.push(" by ",item.author.name,""),__p.push('</p></div>  </div>  <div class="body">    '),(item.datePublished||item.uploadDate||item.dateCreated)&&__p.push("      <h4>",moment(toDate(item.datePublished||item.uploadDate||item.dateCreated)).format("LLLL"),"</h4>    "),__p.push('    <div class="media">',media.html,"</div>    "),item.description&&__p.push("    <p>",item.description,"</p>    "),__p.push("  </div></div>");return __p.join("")}}),define("tpl!templates/samsung/soundItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <a href="#',section.slug,"/",offset,'">    <div>      '),item.byArtist&&item.byArtist.name?__p.push("        <h3>",item.byArtist.name,"</h3>      "):item.author&&item.author.name&&__p.push("        <h3>",item.author.name,"</h3>      "),__p.push("      <h4>",item.name||item.description,"</h4>    </div>  </a></div>");return __p.join("")}}),define("tpl!templates/samsung/status.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <div class="head">    <div class="image" data-joshfire-autothumb="true"></div>    <div class="title">      <p>      '),item.author&&item.author[0]&&item.author[0].name&&__p.push("      ",item.author[0].name,"<br />      "),__p.push("      "),(item.datePublished||item.uploadDate||item.dateCreated)&&__p.push("      ",moment(toDate(item.datePublished||item.uploadDate||item.dateCreated)).fromNow(),"      "),__p.push("      </p>    </div>  </div>  <p>",prettyStatus(item.name),'</p>  <div class="attached-medias"></div></div>');return __p.join("")}}),define("tpl!templates/samsung/statusItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div>  <a href="#',section.slug,"/",offset,'">    <div class="left">      <div class="image" style="background-image: url(',thumbnail(48,48),')"></div>    </div>    <div class="right"><div class="item-content">      <h3>',item.name,'</h3>    </div></div>    <div class="far-left">      <p>        '),item.author&&item.author[0]&&item.author[0].name&&__p.push("          ",item.author[0].name,"<br />        "),__p.push("        "),(item.datePublished||item.uploadDate||item.dateCreated)&&__p.push("        ",moment(toDate(item.datePublished||item.uploadDate||item.dateCreated)).fromNow(),"        "),__p.push("      </p>    </div>  </a></div>");return __p.join("")}}),define("tpl!templates/samsung/toolbar.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div id="logo"></div><ul>  ',children,'</ul><div class="highlight"></div>');return __p.join("")}}),define("tpl!templates/samsung/toolbarItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<a href="',item.linkURL,'" class="',"contact"===item.name.toLowerCase()?"contact":item.icon," section-",item.slug,'">  ',item.name,"</a>");return __p.join("")}}),define("tpl!templates/samsung/videoItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<div class="container">  <div class="image" data-joshfire-autothumb="true">    <a class="video-link" href="#',section.slug,"/",offset,'" title="',item.name,'">&nbsp;</a>  </div>  '),item.name&&__p.push('  <div class="caption">',item.name,"</div>  "),__p.push('  <div class="spinner"><p class="s2011 spinnermessage">Loading</p></div></div>');return __p.join("")}}),define("tpl!templates/samsung/mosaicSingleVideo.ejs",function(){return function(obj){var __p=[];with(obj||{}){__p.push("");var m=collection.at(0).toJSON()||{};__p.push("");var pub=new moment(m.datePublished);__p.push("");var min=m.duration.split("M")[0].split("H").pop();2>min.length?min="0"+min:min,__p.push("");var sec=m.duration.split("S")[0].split("M").pop();2>sec.length?sec="0"+sec:sec,__p.push('<ul class="mosaic">  ',children,'</ul><img class="playbutton" src="images/tv-play.png" width="31" height="43" /><div class="header">  <div class="thumb">    <img data-joshfire-autothumb="true">    <span class="duration">',min,":",sec,"</span>  </div>  <h1>",m.name,'</h1>  <p class="description">',m.description,"</p>  "),m.author&&m.author.length&&__p.push('<a class="author">',m.author[0].name,"</a> "),__p.push("  "),pub&&__p.push('  <a class="date">',pub.format("DD/MM/YYYY"),"</a>  "),__p.push("</div>")}return __p.join("")}}),define("tpl!templates/samsung/navhelperItem.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<li class="',item.className,'">',item.name,"</li>");return __p.join("")}}),define("tpl!templates/samsung/mosaic.ejs",function(){return function(obj){var __p=[];with(obj||{})__p.push('<ul class="mosaic">  ',children,"</ul>");return __p.join("")}}),require.config({paths:{tpl:"vendor/tpl"}}),define("app.tv.samsung",["sleek.samsung","joshlib!utils/onready","tpl!templates/samsung/contactIndex.ejs","tpl!templates/samsung/contactMap.ejs","tpl!templates/samsung/event.ejs","tpl!templates/samsung/eventItem.ejs","tpl!templates/samsung/listView.ejs","tpl!templates/samsung/mapOverlay.ejs","tpl!templates/samsung/mentionItem.ejs","tpl!templates/samsung/news.ejs","tpl!templates/samsung/newsItem.ejs","tpl!templates/samsung/other.ejs","tpl!templates/samsung/otherItem.ejs","tpl!templates/samsung/photo.ejs","tpl!templates/samsung/photoItem.ejs","tpl!templates/samsung/product.ejs","tpl!templates/samsung/productItem.ejs","tpl!templates/samsung/mosaicSinglePhoto.ejs","tpl!templates/samsung/sound.ejs","tpl!templates/samsung/soundItem.ejs","tpl!templates/samsung/status.ejs","tpl!templates/samsung/statusItem.ejs","tpl!templates/samsung/toolbar.ejs","tpl!templates/samsung/toolbarItem.ejs","tpl!templates/samsung/videoItem.ejs","tpl!templates/samsung/mosaicSingleVideo.ejs","tpl!templates/samsung/navhelperItem.ejs","tpl!templates/samsung/mosaic.ejs"],function(t,e,i,n,s,o,r,a,l,h,u,c,d,p,f,m,g,v,y,w,b,E,T,C,S,x,_,D){var O=new t;window.app=O,e(function(){O.initialize({templates:{contactIndex:i,contactMap:n,event:s,eventItem:o,listView:r,mapOverlay:a,mentionItem:l,mosaic:D,navhelperItem:_,news:h,newsItem:u,other:c,otherItem:d,photo:p,photoItem:f,product:m,productItem:g,singlePhoto:v,singleVideo:x,sound:y,soundItem:w,status:b,statusItem:E,toolbar:T,toolbarItem:C,videoItem:S}})})});